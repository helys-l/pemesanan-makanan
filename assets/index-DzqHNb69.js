function Hw(t,e){for(var n=0;n<e.length;n++){const a=e[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(a,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Fw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cm={exports:{}},$o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb;function qw(){if(sb)return $o;sb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:t,type:a,key:c,ref:s!==void 0?s:null,props:o}}return $o.Fragment=e,$o.jsx=n,$o.jsxs=n,$o}var lb;function Gw(){return lb||(lb=1,Cm.exports=qw()),Cm.exports}var A=Gw(),Dm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function Qw(){if(ob)return Ne;ob=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function T(P){return P===null||typeof P!="object"?null:(P=_&&P[_]||P["@@iterator"],typeof P=="function"?P:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,R={};function N(P,re,fe){this.props=P,this.context=re,this.refs=R,this.updater=fe||E}N.prototype.isReactComponent={},N.prototype.setState=function(P,re){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,re,"setState")},N.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function V(){}V.prototype=N.prototype;function I(P,re,fe){this.props=P,this.context=re,this.refs=R,this.updater=fe||E}var B=I.prototype=new V;B.constructor=I,S(B,N.prototype),B.isPureReactComponent=!0;var W=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function L(P,re,fe,le,se,_e){return fe=_e.ref,{$$typeof:t,type:P,key:re,ref:fe!==void 0?fe:null,props:_e}}function O(P,re){return L(P.type,re,void 0,void 0,void 0,P.props)}function M(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function z(P){var re={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(fe){return re[fe]})}var k=/\/+/g;function $(P,re){return typeof P=="object"&&P!==null&&P.key!=null?z(""+P.key):re.toString(36)}function j(){}function De(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(j,j):(P.status="pending",P.then(function(re){P.status==="pending"&&(P.status="fulfilled",P.value=re)},function(re){P.status==="pending"&&(P.status="rejected",P.reason=re)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function pe(P,re,fe,le,se){var _e=typeof P;(_e==="undefined"||_e==="boolean")&&(P=null);var de=!1;if(P===null)de=!0;else switch(_e){case"bigint":case"string":case"number":de=!0;break;case"object":switch(P.$$typeof){case t:case e:de=!0;break;case y:return de=P._init,pe(de(P._payload),re,fe,le,se)}}if(de)return se=se(P),de=le===""?"."+$(P,0):le,W(se)?(fe="",de!=null&&(fe=de.replace(k,"$&/")+"/"),pe(se,re,fe,"",function(ft){return ft})):se!=null&&(M(se)&&(se=O(se,fe+(se.key==null||P&&P.key===se.key?"":(""+se.key).replace(k,"$&/")+"/")+de)),re.push(se)),1;de=0;var ke=le===""?".":le+":";if(W(P))for(var Ae=0;Ae<P.length;Ae++)le=P[Ae],_e=ke+$(le,Ae),de+=pe(le,re,fe,_e,se);else if(Ae=T(P),typeof Ae=="function")for(P=Ae.call(P),Ae=0;!(le=P.next()).done;)le=le.value,_e=ke+$(le,Ae++),de+=pe(le,re,fe,_e,se);else if(_e==="object"){if(typeof P.then=="function")return pe(De(P),re,fe,le,se);throw re=String(P),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return de}function X(P,re,fe){if(P==null)return P;var le=[],se=0;return pe(P,le,"","",function(_e){return re.call(fe,_e,se++)}),le}function ue(P){if(P._status===-1){var re=P._result;re=re(),re.then(function(fe){(P._status===0||P._status===-1)&&(P._status=1,P._result=fe)},function(fe){(P._status===0||P._status===-1)&&(P._status=2,P._result=fe)}),P._status===-1&&(P._status=0,P._result=re)}if(P._status===1)return P._result.default;throw P._result}var ce=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function ge(){}return Ne.Children={map:X,forEach:function(P,re,fe){X(P,function(){re.apply(this,arguments)},fe)},count:function(P){var re=0;return X(P,function(){re++}),re},toArray:function(P){return X(P,function(re){return re})||[]},only:function(P){if(!M(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ne.Component=N,Ne.Fragment=n,Ne.Profiler=s,Ne.PureComponent=I,Ne.StrictMode=a,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(P){return q.H.useMemoCache(P)}},Ne.cache=function(P){return function(){return P.apply(null,arguments)}},Ne.cloneElement=function(P,re,fe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var le=S({},P.props),se=P.key,_e=void 0;if(re!=null)for(de in re.ref!==void 0&&(_e=void 0),re.key!==void 0&&(se=""+re.key),re)!ne.call(re,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&re.ref===void 0||(le[de]=re[de]);var de=arguments.length-2;if(de===1)le.children=fe;else if(1<de){for(var ke=Array(de),Ae=0;Ae<de;Ae++)ke[Ae]=arguments[Ae+2];le.children=ke}return L(P.type,se,void 0,void 0,_e,le)},Ne.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},Ne.createElement=function(P,re,fe){var le,se={},_e=null;if(re!=null)for(le in re.key!==void 0&&(_e=""+re.key),re)ne.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(se[le]=re[le]);var de=arguments.length-2;if(de===1)se.children=fe;else if(1<de){for(var ke=Array(de),Ae=0;Ae<de;Ae++)ke[Ae]=arguments[Ae+2];se.children=ke}if(P&&P.defaultProps)for(le in de=P.defaultProps,de)se[le]===void 0&&(se[le]=de[le]);return L(P,_e,void 0,void 0,null,se)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(P){return{$$typeof:d,render:P}},Ne.isValidElement=M,Ne.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:ue}},Ne.memo=function(P,re){return{$$typeof:p,type:P,compare:re===void 0?null:re}},Ne.startTransition=function(P){var re=q.T,fe={};q.T=fe;try{var le=P(),se=q.S;se!==null&&se(fe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ge,ce)}catch(_e){ce(_e)}finally{q.T=re}},Ne.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ne.use=function(P){return q.H.use(P)},Ne.useActionState=function(P,re,fe){return q.H.useActionState(P,re,fe)},Ne.useCallback=function(P,re){return q.H.useCallback(P,re)},Ne.useContext=function(P){return q.H.useContext(P)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(P,re){return q.H.useDeferredValue(P,re)},Ne.useEffect=function(P,re,fe){var le=q.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(P,re)},Ne.useId=function(){return q.H.useId()},Ne.useImperativeHandle=function(P,re,fe){return q.H.useImperativeHandle(P,re,fe)},Ne.useInsertionEffect=function(P,re){return q.H.useInsertionEffect(P,re)},Ne.useLayoutEffect=function(P,re){return q.H.useLayoutEffect(P,re)},Ne.useMemo=function(P,re){return q.H.useMemo(P,re)},Ne.useOptimistic=function(P,re){return q.H.useOptimistic(P,re)},Ne.useReducer=function(P,re,fe){return q.H.useReducer(P,re,fe)},Ne.useRef=function(P){return q.H.useRef(P)},Ne.useState=function(P){return q.H.useState(P)},Ne.useSyncExternalStore=function(P,re,fe){return q.H.useSyncExternalStore(P,re,fe)},Ne.useTransition=function(){return q.H.useTransition()},Ne.version="19.1.0",Ne}var ub;function Jf(){return ub||(ub=1,Dm.exports=Qw()),Dm.exports}var x=Jf();const Oe=Fw(x),ip=Hw({__proto__:null,default:Oe},[x]);var Ho={},cb;function Yw(){if(cb)return Ho;cb=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.parse=c,Ho.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,E){const S=new o,R=T.length;if(R<2)return S;const N=(E==null?void 0:E.decode)||y;let V=0;do{const I=T.indexOf("=",V);if(I===-1)break;const B=T.indexOf(";",V),W=B===-1?R:B;if(I>W){V=T.lastIndexOf(";",I-1)+1;continue}const q=d(T,V,I),ne=m(T,I,q),L=T.slice(q,ne);if(S[L]===void 0){let O=d(T,I+1,W),M=m(T,W,O);const z=N(T.slice(O,M));S[L]=z}V=W+1}while(V<R);return S}function d(T,E,S){do{const R=T.charCodeAt(E);if(R!==32&&R!==9)return E}while(++E<S);return S}function m(T,E,S){for(;E>S;){const R=T.charCodeAt(--E);if(R!==32&&R!==9)return E+1}return S}function p(T,E,S){const R=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(T))throw new TypeError(`argument name is invalid: ${T}`);const N=R(E);if(!e.test(N))throw new TypeError(`argument val is invalid: ${E}`);let V=T+"="+N;if(!S)return V;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);V+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);V+="; Domain="+S.domain}if(S.path){if(!a.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);V+="; Path="+S.path}if(S.expires){if(!_(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);V+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(V+="; HttpOnly"),S.secure&&(V+="; Secure"),S.partitioned&&(V+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return V}function y(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function _(T){return s.call(T)==="[object Date]"}return Ho}Yw();var fb="popstate";function Kw(t={}){function e(a,s){let{pathname:o,search:c,hash:d}=a.location;return ap("",{pathname:o,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:su(s)}return Zw(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xw(){return Math.random().toString(36).substring(2,10)}function hb(t,e){return{usr:t.state,key:t.key,idx:e}}function ap(t,e,n=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?El(e):e,state:n,key:e&&e.key||a||Xw()}}function su({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function El(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function Zw(t,e,n,a={}){let{window:s=document.defaultView,v5Compat:o=!1}=a,c=s.history,d="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){d="POP";let N=y(),V=N==null?null:N-p;p=N,m&&m({action:d,location:R.location,delta:V})}function T(N,V){d="PUSH";let I=ap(R.location,N,V);p=y()+1;let B=hb(I,p),W=R.createHref(I);try{c.pushState(B,"",W)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(W)}o&&m&&m({action:d,location:R.location,delta:1})}function E(N,V){d="REPLACE";let I=ap(R.location,N,V);p=y();let B=hb(I,p),W=R.createHref(I);c.replaceState(B,"",W),o&&m&&m({action:d,location:R.location,delta:0})}function S(N){return Ww(N)}let R={get action(){return d},get location(){return t(s,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(fb,_),m=N,()=>{s.removeEventListener(fb,_),m=null}},createHref(N){return e(s,N)},createURL:S,encodeLocation(N){let V=S(N);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:T,replace:E,go(N){return c.go(N)}};return R}function Ww(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:su(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function h1(t,e,n="/"){return Jw(t,e,n,!1)}function Jw(t,e,n,a){let s=typeof e=="string"?El(e):e,o=ii(s.pathname||"/",n);if(o==null)return null;let c=d1(t);eS(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=fS(o);d=uS(c[m],p,a)}return d}function d1(t,e=[],n=[],a=""){let s=(o,c,d)=>{let m={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};m.relativePath.startsWith("/")&&(ct(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let p=ri([a,m.relativePath]),y=n.concat(m);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),d1(o.children,e,y,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:lS(p,o.index),routesMeta:y})};return t.forEach((o,c)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,c);else for(let m of m1(o.path))s(o,c,m)}),e}function m1(t){let e=t.split("/");if(e.length===0)return[];let[n,...a]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(a.length===0)return s?[o,""]:[o];let c=m1(a.join("/")),d=[];return d.push(...c.map(m=>m===""?o:[o,m].join("/"))),s&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function eS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oS(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var tS=/^:[\w-]+$/,nS=3,rS=2,iS=1,aS=10,sS=-2,db=t=>t==="*";function lS(t,e){let n=t.split("/"),a=n.length;return n.some(db)&&(a+=sS),e&&(a+=rS),n.filter(s=>!db(s)).reduce((s,o)=>s+(tS.test(o)?nS:o===""?iS:aS),a)}function oS(t,e){return t.length===e.length&&t.slice(0,-1).every((a,s)=>a===e[s])?t[t.length-1]-e[e.length-1]:0}function uS(t,e,n=!1){let{routesMeta:a}=t,s={},o="/",c=[];for(let d=0;d<a.length;++d){let m=a[d],p=d===a.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=Cf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),T=m.route;if(!_&&p&&n&&!a[a.length-1].route.index&&(_=Cf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:ri([o,_.pathname]),pathnameBase:pS(ri([o,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(o=ri([o,_.pathnameBase]))}return c}function Cf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=cS(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((p,{paramName:y,isOptional:_},T)=>{if(y==="*"){let S=d[T]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const E=d[T];return _&&!E?p[y]=void 0:p[y]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function cS(t,e=!1,n=!0){Jn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),a]}function fS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ii(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function hS(t,e="/"){let{pathname:n,search:a="",hash:s=""}=typeof t=="string"?El(t):t;return{pathname:n?n.startsWith("/")?n:dS(n,e):e,search:gS(a),hash:yS(s)}}function dS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Nm(t,e,n,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hp(t){let e=mS(t);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Fp(t,e,n,a=!1){let s;typeof t=="string"?s=El(t):(s={...t},ct(!s.pathname||!s.pathname.includes("?"),Nm("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),Nm("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),Nm("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=n;else{let _=e.length-1;if(!a&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),_-=1;s.pathname=T.join("/")}d=_>=0?e[_]:"/"}let m=hS(s,d),p=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var ri=t=>t.join("/").replace(/\/\/+/g,"/"),pS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yS=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function vS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var p1=["POST","PUT","PATCH","DELETE"];new Set(p1);var bS=["GET",...p1];new Set(bS);var xl=x.createContext(null);xl.displayName="DataRouter";var eh=x.createContext(null);eh.displayName="DataRouterState";var g1=x.createContext({isTransitioning:!1});g1.displayName="ViewTransition";var _S=x.createContext(new Map);_S.displayName="Fetchers";var ES=x.createContext(null);ES.displayName="Await";var tr=x.createContext(null);tr.displayName="Navigation";var bu=x.createContext(null);bu.displayName="Location";var Rr=x.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var qp=x.createContext(null);qp.displayName="RouteError";function xS(t,{relative:e}={}){ct(Tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=x.useContext(tr),{hash:s,pathname:o,search:c}=Eu(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:ri([n,o])),a.createHref({pathname:d,search:c,hash:s})}function Tl(){return x.useContext(bu)!=null}function aa(){return ct(Tl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(bu).location}var y1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function v1(t){x.useContext(tr).static||x.useLayoutEffect(t)}function _u(){let{isDataRoute:t}=x.useContext(Rr);return t?jS():TS()}function TS(){ct(Tl(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(xl),{basename:e,navigator:n}=x.useContext(tr),{matches:a}=x.useContext(Rr),{pathname:s}=aa(),o=JSON.stringify(Hp(a)),c=x.useRef(!1);return v1(()=>{c.current=!0}),x.useCallback((m,p={})=>{if(Jn(c.current,y1),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Fp(m,JSON.parse(o),s,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ri([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,o,s,t])}x.createContext(null);function Eu(t,{relative:e}={}){let{matches:n}=x.useContext(Rr),{pathname:a}=aa(),s=JSON.stringify(Hp(n));return x.useMemo(()=>Fp(t,JSON.parse(s),a,e==="path"),[t,s,a,e])}function wS(t,e){return b1(t,e)}function b1(t,e,n,a){var V;ct(Tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(tr),{matches:o}=x.useContext(Rr),c=o[o.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let I=y&&y.path||"";_1(m,!y||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let _=aa(),T;if(e){let I=typeof e=="string"?El(e):e;ct(p==="/"||((V=I.pathname)==null?void 0:V.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${I.pathname}" was given in the \`location\` prop.`),T=I}else T=_;let E=T.pathname||"/",S=E;if(p!=="/"){let I=p.replace(/^\//,"").split("/");S="/"+E.replace(/^\//,"").split("/").slice(I.length).join("/")}let R=h1(t,{pathname:S});Jn(y||R!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Jn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=DS(R&&R.map(I=>Object.assign({},I,{params:Object.assign({},d,I.params),pathname:ri([p,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:ri([p,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,n,a);return e&&N?x.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},N):N}function SS(){let t=VS(),e=vS(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:o},"ErrorBoundary")," or"," ",x.createElement("code",{style:o},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,c)}var AS=x.createElement(SS,null),RS=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?x.createElement(Rr.Provider,{value:this.props.routeContext},x.createElement(qp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CS({routeContext:t,match:e,children:n}){let a=x.useContext(xl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Rr.Provider,{value:t},n)}function DS(t,e=[],n=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let m=s.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);ct(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,d=-1;if(n)for(let m=0;m<s.length;m++){let p=s[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:y,errors:_}=n,T=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||T){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((m,p,y)=>{let _,T=!1,E=null,S=null;n&&(_=o&&p.route.id?o[p.route.id]:void 0,E=p.route.errorElement||AS,c&&(d<0&&y===0?(_1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,S=null):d===y&&(T=!0,S=p.route.hydrateFallbackElement||null)));let R=e.concat(s.slice(0,y+1)),N=()=>{let V;return _?V=E:T?V=S:p.route.Component?V=x.createElement(p.route.Component,null):p.route.element?V=p.route.element:V=m,x.createElement(CS,{match:p,routeContext:{outlet:m,matches:R,isDataRoute:n!=null},children:V})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?x.createElement(RS,{location:n.location,revalidation:n.revalidation,component:E,error:_,children:N(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):N()},null)}function Gp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NS(t){let e=x.useContext(xl);return ct(e,Gp(t)),e}function OS(t){let e=x.useContext(eh);return ct(e,Gp(t)),e}function IS(t){let e=x.useContext(Rr);return ct(e,Gp(t)),e}function Qp(t){let e=IS(t),n=e.matches[e.matches.length-1];return ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function MS(){return Qp("useRouteId")}function VS(){var a;let t=x.useContext(qp),e=OS("useRouteError"),n=Qp("useRouteError");return t!==void 0?t:(a=e.errors)==null?void 0:a[n]}function jS(){let{router:t}=NS("useNavigate"),e=Qp("useNavigate"),n=x.useRef(!1);return v1(()=>{n.current=!0}),x.useCallback(async(s,o={})=>{Jn(n.current,y1),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var mb={};function _1(t,e,n){!e&&!mb[t]&&(mb[t]=!0,Jn(!1,n))}x.memo(LS);function LS({routes:t,future:e,state:n}){return b1(t,void 0,n,e)}function kS({to:t,replace:e,state:n,relative:a}){ct(Tl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(tr);Jn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=x.useContext(Rr),{pathname:c}=aa(),d=_u(),m=Fp(t,Hp(o),c,a==="path"),p=JSON.stringify(m);return x.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:a})},[d,p,a,e,n]),null}function yf(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PS({basename:t="/",children:e=null,location:n,navigationType:a="POP",navigator:s,static:o=!1}){ct(!Tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof n=="string"&&(n=El(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:T="default"}=n,E=x.useMemo(()=>{let S=ii(m,c);return S==null?null:{location:{pathname:S,search:p,hash:y,state:_,key:T},navigationType:a}},[c,m,p,y,_,T,a]);return Jn(E!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:x.createElement(tr.Provider,{value:d},x.createElement(bu.Provider,{children:e,value:E}))}function US({children:t,location:e}){return wS(sp(t),e)}function sp(t,e=[]){let n=[];return x.Children.forEach(t,(a,s)=>{if(!x.isValidElement(a))return;let o=[...e,s];if(a.type===x.Fragment){n.push.apply(n,sp(a.props.children,o));return}ct(a.type===yf,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=sp(a.props.children,o)),n.push(c)}),n}var vf="get",bf="application/x-www-form-urlencoded";function th(t){return t!=null&&typeof t.tagName=="string"}function zS(t){return th(t)&&t.tagName.toLowerCase()==="button"}function BS(t){return th(t)&&t.tagName.toLowerCase()==="form"}function $S(t){return th(t)&&t.tagName.toLowerCase()==="input"}function HS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function FS(t,e){return t.button===0&&(!e||e==="_self")&&!HS(t)}var sf=null;function qS(){if(sf===null)try{new FormData(document.createElement("form"),0),sf=!1}catch{sf=!0}return sf}var GS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Om(t){return t!=null&&!GS.has(t)?(Jn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bf}"`),null):t}function QS(t,e){let n,a,s,o,c;if(BS(t)){let d=t.getAttribute("action");a=d?ii(d,e):null,n=t.getAttribute("method")||vf,s=Om(t.getAttribute("enctype"))||bf,o=new FormData(t)}else if(zS(t)||$S(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(a=m?ii(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||vf,s=Om(t.getAttribute("formenctype"))||Om(d.getAttribute("enctype"))||bf,o=new FormData(d,t),!qS()){let{name:p,type:y,value:_}=t;if(y==="image"){let T=p?`${p}.`:"";o.append(`${T}x`,"0"),o.append(`${T}y`,"0")}else p&&o.append(p,_)}}else{if(th(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vf,a=null,s=bf,c=t}return o&&s==="text/plain"&&(c=o,o=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:o,body:c}}function Yp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function YS(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KS(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function XS(t,e,n){let a=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let c=await YS(o,n);return c.links?c.links():[]}return[]}));return eA(a.flat(1).filter(KS).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function pb(t,e,n,a,s,o){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>{var y;return n[p].pathname!==m.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==m.params["*"]};return o==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):o==="data"?e.filter((m,p)=>{var _;let y=a.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function ZS(t,e,{includeHydrateFallback:n}={}){return WS(t.map(a=>{let s=e.routes[a.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function WS(t){return[...new Set(t)]}function JS(t){let e={},n=Object.keys(t).sort();for(let a of n)e[a]=t[a];return e}function eA(t,e){let n=new Set;return new Set(e),t.reduce((a,s)=>{let o=JSON.stringify(JS(s));return n.has(o)||(n.add(o),a.push({key:o,link:s})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tA=new Set([100,101,204,205]);function nA(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ii(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function E1(){let t=x.useContext(xl);return Yp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rA(){let t=x.useContext(eh);return Yp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Kp=x.createContext(void 0);Kp.displayName="FrameworkContext";function x1(){let t=x.useContext(Kp);return Yp(t,"You must render this element inside a <HydratedRouter> element"),t}function iA(t,e){let n=x.useContext(Kp),[a,s]=x.useState(!1),[o,c]=x.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,T=x.useRef(null);x.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let R=V=>{V.forEach(I=>{c(I.isIntersecting)})},N=new IntersectionObserver(R,{threshold:.5});return T.current&&N.observe(T.current),()=>{N.disconnect()}}},[t]),x.useEffect(()=>{if(a){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[a]);let E=()=>{s(!0)},S=()=>{s(!1),c(!1)};return n?t!=="intent"?[o,T,{}]:[o,T,{onFocus:Fo(d,E),onBlur:Fo(m,S),onMouseEnter:Fo(p,E),onMouseLeave:Fo(y,S),onTouchStart:Fo(_,E)}]:[!1,T,{}]}function Fo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function aA({page:t,...e}){let{router:n}=E1(),a=x.useMemo(()=>h1(n.routes,t,n.basename),[n.routes,t,n.basename]);return a?x.createElement(lA,{page:t,matches:a,...e}):null}function sA(t){let{manifest:e,routeModules:n}=x1(),[a,s]=x.useState([]);return x.useEffect(()=>{let o=!1;return XS(t,e,n).then(c=>{o||s(c)}),()=>{o=!0}},[t,e,n]),a}function lA({page:t,matches:e,...n}){let a=aa(),{manifest:s,routeModules:o}=x1(),{basename:c}=E1(),{loaderData:d,matches:m}=rA(),p=x.useMemo(()=>pb(t,e,m,s,a,"data"),[t,e,m,s,a]),y=x.useMemo(()=>pb(t,e,m,s,a,"assets"),[t,e,m,s,a]),_=x.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let S=new Set,R=!1;if(e.forEach(V=>{var B;let I=s.routes[V.route.id];!I||!I.hasLoader||(!p.some(W=>W.route.id===V.route.id)&&V.route.id in d&&((B=o[V.route.id])!=null&&B.shouldRevalidate)||I.hasClientLoader?R=!0:S.add(V.route.id))}),S.size===0)return[];let N=nA(t,c);return R&&S.size>0&&N.searchParams.set("_routes",e.filter(V=>S.has(V.route.id)).map(V=>V.route.id).join(",")),[N.pathname+N.search]},[c,d,a,s,p,e,t,o]),T=x.useMemo(()=>ZS(y,s),[y,s]),E=sA(y);return x.createElement(x.Fragment,null,_.map(S=>x.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),T.map(S=>x.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),E.map(({key:S,link:R})=>x.createElement("link",{key:S,...R})))}function oA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var T1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{T1&&(window.__reactRouterVersion="7.6.1")}catch{}function uA({basename:t,children:e,window:n}){let a=x.useRef();a.current==null&&(a.current=Kw({window:n,v5Compat:!0}));let s=a.current,[o,c]=x.useState({action:s.action,location:s.location}),d=x.useCallback(m=>{x.startTransition(()=>c(m))},[c]);return x.useLayoutEffect(()=>s.listen(d),[s,d]),x.createElement(PS,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s})}var w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xp=x.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:s,reloadDocument:o,replace:c,state:d,target:m,to:p,preventScrollReset:y,viewTransition:_,...T},E){let{basename:S}=x.useContext(tr),R=typeof p=="string"&&w1.test(p),N,V=!1;if(typeof p=="string"&&R&&(N=p,T1))try{let M=new URL(window.location.href),z=p.startsWith("//")?new URL(M.protocol+p):new URL(p),k=ii(z.pathname,S);z.origin===M.origin&&k!=null?p=k+z.search+z.hash:V=!0}catch{Jn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=xS(p,{relative:s}),[B,W,q]=iA(a,T),ne=dA(p,{replace:c,state:d,target:m,preventScrollReset:y,relative:s,viewTransition:_});function L(M){e&&e(M),M.defaultPrevented||ne(M)}let O=x.createElement("a",{...T,...q,href:N||I,onClick:V||o?e:L,ref:oA(E,W),target:m,"data-discover":!R&&n==="render"?"true":void 0});return B&&!R?x.createElement(x.Fragment,null,O,x.createElement(aA,{page:I})):O});Xp.displayName="Link";var cA=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:s=!1,style:o,to:c,viewTransition:d,children:m,...p},y){let _=Eu(c,{relative:p.relative}),T=aa(),E=x.useContext(eh),{navigator:S,basename:R}=x.useContext(tr),N=E!=null&&vA(_)&&d===!0,V=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,I=T.pathname,B=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(I=I.toLowerCase(),B=B?B.toLowerCase():null,V=V.toLowerCase()),B&&R&&(B=ii(B,R)||B);const W=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let q=I===V||!s&&I.startsWith(V)&&I.charAt(W)==="/",ne=B!=null&&(B===V||!s&&B.startsWith(V)&&B.charAt(V.length)==="/"),L={isActive:q,isPending:ne,isTransitioning:N},O=q?e:void 0,M;typeof a=="function"?M=a(L):M=[a,q?"active":null,ne?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(L):o;return x.createElement(Xp,{...p,"aria-current":O,className:M,ref:y,style:z,to:c,viewTransition:d},typeof m=="function"?m(L):m)});cA.displayName="NavLink";var fA=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:s,state:o,method:c=vf,action:d,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...T},E)=>{let S=gA(),R=yA(d,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",V=typeof d=="string"&&w1.test(d),I=B=>{if(m&&m(B),B.defaultPrevented)return;B.preventDefault();let W=B.nativeEvent.submitter,q=(W==null?void 0:W.getAttribute("formmethod"))||c;S(W||B.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:s,state:o,relative:p,preventScrollReset:y,viewTransition:_})};return x.createElement("form",{ref:E,method:N,action:R,onSubmit:a?m:I,...T,"data-discover":!V&&t==="render"?"true":void 0})});fA.displayName="Form";function hA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S1(t){let e=x.useContext(xl);return ct(e,hA(t)),e}function dA(t,{target:e,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:c}={}){let d=_u(),m=aa(),p=Eu(t,{relative:o});return x.useCallback(y=>{if(FS(y,e)){y.preventDefault();let _=n!==void 0?n:su(m)===su(p);d(t,{replace:_,state:a,preventScrollReset:s,relative:o,viewTransition:c})}},[m,d,p,n,a,e,t,s,o,c])}var mA=0,pA=()=>`__${String(++mA)}__`;function gA(){let{router:t}=S1("useSubmit"),{basename:e}=x.useContext(tr),n=MS();return x.useCallback(async(a,s={})=>{let{action:o,method:c,encType:d,formData:m,body:p}=QS(a,e);if(s.navigate===!1){let y=s.fetcherKey||pA();await t.fetch(y,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function yA(t,{relative:e}={}){let{basename:n}=x.useContext(tr),a=x.useContext(Rr);ct(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o={...Eu(t||".",{relative:e})},c=aa();if(t==null){o.search=c.search;let d=new URLSearchParams(o.search),m=d.getAll("index");if(m.some(y=>y==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let y=d.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ri([n,o.pathname])),su(o)}function vA(t,e={}){let n=x.useContext(g1);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=S1("useViewTransitionState"),s=Eu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ii(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=ii(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Cf(s.pathname,c)!=null||Cf(s.pathname,o)!=null}[...tA];var Im={exports:{}},qo={},Mm={exports:{}},Vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function bA(){return gb||(gb=1,function(t){function e(X,ue){var ce=X.length;X.push(ue);e:for(;0<ce;){var ge=ce-1>>>1,P=X[ge];if(0<s(P,ue))X[ge]=ue,X[ce]=P,ce=ge;else break e}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var ue=X[0],ce=X.pop();if(ce!==ue){X[0]=ce;e:for(var ge=0,P=X.length,re=P>>>1;ge<re;){var fe=2*(ge+1)-1,le=X[fe],se=fe+1,_e=X[se];if(0>s(le,ce))se<P&&0>s(_e,le)?(X[ge]=_e,X[se]=ce,ge=se):(X[ge]=le,X[fe]=ce,ge=fe);else if(se<P&&0>s(_e,ce))X[ge]=_e,X[se]=ce,ge=se;else break e}}return ue}function s(X,ue){var ce=X.sortIndex-ue.sortIndex;return ce!==0?ce:X.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],y=1,_=null,T=3,E=!1,S=!1,R=!1,N=!1,V=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function W(X){for(var ue=n(p);ue!==null;){if(ue.callback===null)a(p);else if(ue.startTime<=X)a(p),ue.sortIndex=ue.expirationTime,e(m,ue);else break;ue=n(p)}}function q(X){if(R=!1,W(X),!S)if(n(m)!==null)S=!0,ne||(ne=!0,$());else{var ue=n(p);ue!==null&&pe(q,ue.startTime-X)}}var ne=!1,L=-1,O=5,M=-1;function z(){return N?!0:!(t.unstable_now()-M<O)}function k(){if(N=!1,ne){var X=t.unstable_now();M=X;var ue=!0;try{e:{S=!1,R&&(R=!1,I(L),L=-1),E=!0;var ce=T;try{t:{for(W(X),_=n(m);_!==null&&!(_.expirationTime>X&&z());){var ge=_.callback;if(typeof ge=="function"){_.callback=null,T=_.priorityLevel;var P=ge(_.expirationTime<=X);if(X=t.unstable_now(),typeof P=="function"){_.callback=P,W(X),ue=!0;break t}_===n(m)&&a(m),W(X)}else a(m);_=n(m)}if(_!==null)ue=!0;else{var re=n(p);re!==null&&pe(q,re.startTime-X),ue=!1}}break e}finally{_=null,T=ce,E=!1}ue=void 0}}finally{ue?$():ne=!1}}}var $;if(typeof B=="function")$=function(){B(k)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,De=j.port2;j.port1.onmessage=k,$=function(){De.postMessage(null)}}else $=function(){V(k,0)};function pe(X,ue){L=V(function(){X(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(X){switch(T){case 1:case 2:case 3:var ue=3;break;default:ue=T}var ce=T;T=ue;try{return X()}finally{T=ce}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ce=T;T=X;try{return ue()}finally{T=ce}},t.unstable_scheduleCallback=function(X,ue,ce){var ge=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ge+ce:ge):ce=ge,X){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ce+P,X={id:y++,callback:ue,priorityLevel:X,startTime:ce,expirationTime:P,sortIndex:-1},ce>ge?(X.sortIndex=ce,e(p,X),n(m)===null&&X===n(p)&&(R?(I(L),L=-1):R=!0,pe(q,ce-ge))):(X.sortIndex=P,e(m,X),S||E||(S=!0,ne||(ne=!0,$()))),X},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(X){var ue=T;return function(){var ce=T;T=ue;try{return X.apply(this,arguments)}finally{T=ce}}}}(Vm)),Vm}var yb;function _A(){return yb||(yb=1,Mm.exports=bA()),Mm.exports}var jm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function EA(){if(vb)return Jt;vb=1;var t=Jf();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Jt.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(m,p,null,y)},Jt.flushSync=function(m){var p=c.T,y=a.p;try{if(c.T=null,a.p=2,m)return m()}finally{c.T=p,a.p=y,a.d.f()}},Jt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},Jt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},Jt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:E}):y==="script"&&a.d.X(m,{crossOrigin:_,integrity:T,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=d(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},Jt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=d(y,p.crossOrigin);a.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=d(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},Jt.requestFormReset=function(m){a.d.r(m)},Jt.unstable_batchedUpdates=function(m,p){return m(p)},Jt.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},Jt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Jt.version="19.1.0",Jt}var bb;function A1(){if(bb)return jm.exports;bb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jm.exports=EA(),jm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function xA(){if(_b)return qo;_b=1;var t=_A(),e=Jf(),n=A1();function a(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(a(188))}function m(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(a(188));return i!==r?null:r}for(var l=r,u=i;;){var h=l.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){l=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===l)return d(h),r;if(g===u)return d(h),i;g=g.sibling}throw Error(a(188))}if(l.return!==u.return)l=h,u=g;else{for(var w=!1,C=h.child;C;){if(C===l){w=!0,l=h,u=g;break}if(C===u){w=!0,u=h,l=g;break}C=C.sibling}if(!w){for(C=g.child;C;){if(C===l){w=!0,l=g,u=h;break}if(C===u){w=!0,u=g,l=h;break}C=C.sibling}if(!w)throw Error(a(189))}}if(l.alternate!==u)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?r:i}function p(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=p(r),i!==null)return i;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),B=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=k&&r[k]||r["@@iterator"],typeof r=="function"?r:null)}var j=Symbol.for("react.client.reference");function De(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===j?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case N:return"Profiler";case R:return"StrictMode";case q:return"Suspense";case ne:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case B:return(r.displayName||"Context")+".Provider";case I:return(r._context.displayName||"Context")+".Consumer";case W:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case L:return i=r.displayName||null,i!==null?i:De(r.type)||"Memo";case O:i=r._payload,r=r._init;try{return De(r(i))}catch{}}return null}var pe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ge=[],P=-1;function re(r){return{current:r}}function fe(r){0>P||(r.current=ge[P],ge[P]=null,P--)}function le(r,i){P++,ge[P]=r.current,r.current=i}var se=re(null),_e=re(null),de=re(null),ke=re(null);function Ae(r,i){switch(le(de,i),le(_e,r),le(se,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?V0(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=V0(i),r=j0(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}fe(se),le(se,r)}function ft(){fe(se),fe(_e),fe(de)}function Ge(r){r.memoizedState!==null&&le(ke,r);var i=se.current,l=j0(i,r.type);i!==l&&(le(_e,r),le(se,l))}function Dr(r){_e.current===r&&(fe(se),fe(_e)),ke.current===r&&(fe(ke),ko._currentValue=ce)}var ca=Object.prototype.hasOwnProperty,fa=t.unstable_scheduleCallback,ha=t.unstable_cancelCallback,Ml=t.unstable_shouldYield,ju=t.unstable_requestPaint,On=t.unstable_now,Ch=t.unstable_getCurrentPriorityLevel,Vl=t.unstable_ImmediatePriority,hs=t.unstable_UserBlockingPriority,da=t.unstable_NormalPriority,Dh=t.unstable_LowPriority,ds=t.unstable_IdlePriority,jl=t.log,Lu=t.unstable_setDisableYieldValue,mt=null,Ze=null;function vn(r){if(typeof jl=="function"&&Lu(r),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(mt,r)}catch{}}var Zt=Math.clz32?Math.clz32:ma,ku=Math.log,Nh=Math.LN2;function ma(r){return r>>>=0,r===0?32:31-(ku(r)/Nh|0)|0}var pa=256,ga=4194304;function qn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ms(r,i,l){var u=r.pendingLanes;if(u===0)return 0;var h=0,g=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var C=u&134217727;return C!==0?(u=C&~g,u!==0?h=qn(u):(w&=C,w!==0?h=qn(w):l||(l=C&~r,l!==0&&(h=qn(l))))):(C=u&~g,C!==0?h=qn(C):w!==0?h=qn(w):l||(l=u&~r,l!==0&&(h=qn(l)))),h===0?0:i!==0&&i!==h&&(i&g)===0&&(g=h&-h,l=i&-i,g>=l||g===32&&(l&4194048)!==0)?i:h}function ya(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ll(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kl(){var r=pa;return pa<<=1,(pa&4194048)===0&&(pa=256),r}function Pl(){var r=ga;return ga<<=1,(ga&62914560)===0&&(ga=4194304),r}function Nr(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Or(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ul(r,i,l,u,h,g){var w=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var C=r.entanglements,U=r.expirationTimes,Y=r.hiddenUpdates;for(l=w&~l;0<l;){var ee=31-Zt(l),ie=1<<ee;C[ee]=0,U[ee]=-1;var K=Y[ee];if(K!==null)for(Y[ee]=null,ee=0;ee<K.length;ee++){var Z=K[ee];Z!==null&&(Z.lane&=-536870913)}l&=~ie}u!==0&&ir(r,u,0),g!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=g&~(w&~i))}function ir(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-Zt(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|l&4194090}function zl(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var u=31-Zt(l),h=1<<u;h&i|r[u]&i&&(r[u]|=i),l&=~h}}function di(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ps(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function mi(){var r=ue.p;return r!==0?r:(r=window.event,r===void 0?32:eb(r.type))}function Pu(r,i){var l=ue.p;try{return ue.p=r,i()}finally{ue.p=l}}var st=Math.random().toString(36).slice(2),Rt="__reactFiber$"+st,xt="__reactProps$"+st,In="__reactContainer$"+st,Bl="__reactEvents$"+st,Oh="__reactListeners$"+st,pi="__reactHandles$"+st,Uu="__reactResources$"+st,va="__reactMarker$"+st;function gi(r){delete r[Rt],delete r[xt],delete r[Bl],delete r[Oh],delete r[pi]}function Ir(r){var i=r[Rt];if(i)return i;for(var l=r.parentNode;l;){if(i=l[In]||l[Rt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=U0(r);r!==null;){if(l=r[Rt])return l;r=U0(r)}return i}r=l,l=r.parentNode}return null}function ar(r){if(r=r[Rt]||r[In]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function sr(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(a(33))}function an(r){var i=r[Uu];return i||(i=r[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function vt(r){r[va]=!0}var $l=new Set,gs={};function Gn(r,i){Mr(r,i),Mr(r+"Capture",i)}function Mr(r,i){for(gs[r]=i,r=0;r<i.length;r++)$l.add(i[r])}var zu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bu={},ba={};function $u(r){return ca.call(ba,r)?!0:ca.call(Bu,r)?!1:zu.test(r)?ba[r]=!0:(Bu[r]=!0,!1)}function yi(r,i,l){if($u(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function lr(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function $t(r,i,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+u)}}var _a,Hu;function Vr(r){if(_a===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);_a=i&&i[1]||"",Hu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_a+r+Hu}var ys=!1;function vs(r,i){if(!r||ys)return"";ys=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var K=Z}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(Z){K=Z}r.call(ie.prototype)}}else{try{throw Error()}catch(Z){K=Z}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&K&&typeof Z.stack=="string")return[Z.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],C=g[1];if(w&&C){var U=w.split(`
`),Y=C.split(`
`);for(h=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(u===U.length||h===Y.length)for(u=U.length-1,h=Y.length-1;1<=u&&0<=h&&U[u]!==Y[h];)h--;for(;1<=u&&0<=h;u--,h--)if(U[u]!==Y[h]){if(u!==1||h!==1)do if(u--,h--,0>h||U[u]!==Y[h]){var ee=`
`+U[u].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=u&&0<=h);break}}}finally{ys=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Vr(l):""}function Hl(r){switch(r.tag){case 26:case 27:case 5:return Vr(r.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 15:return vs(r.type,!1);case 11:return vs(r.type.render,!1);case 1:return vs(r.type,!0);case 31:return Vr("Activity");default:return""}}function bs(r){try{var i="";do i+=Hl(r),r=r.return;while(r);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function sn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Fl(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ih(r){var i=Fl(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,g=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(w){u=""+w,g.call(this,w)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function _s(r){r._valueTracker||(r._valueTracker=Ih(r))}function ql(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return r&&(u=Fl(r)?r.checked?"true":"false":r.value),r=u,r!==l?(i.setValue(r),!0):!1}function Ea(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Mh=/[\n"\\]/g;function Tt(r){return r.replace(Mh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function bn(r,i,l,u,h,g,w,C){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),i!=null?w==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+sn(i)):r.value!==""+sn(i)&&(r.value=""+sn(i)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),i!=null?vi(r,w,sn(i)):l!=null?vi(r,w,sn(l)):u!=null&&r.removeAttribute("value"),h==null&&g!=null&&(r.defaultChecked=!!g),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+sn(C):r.removeAttribute("name")}function xa(r,i,l,u,h,g,w,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),i!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;l=l!=null?""+sn(l):"",i=i!=null?""+sn(i):l,C||i===r.value||(r.value=i),r.defaultValue=i}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=C?r.checked:!!u,r.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function vi(r,i,l){i==="number"&&Ea(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function jr(r,i,l,u){if(r=r.options,i){i={};for(var h=0;h<l.length;h++)i["$"+l[h]]=!0;for(l=0;l<r.length;l++)h=i.hasOwnProperty("$"+r[l].value),r[l].selected!==h&&(r[l].selected=h),h&&u&&(r[l].defaultSelected=!0)}else{for(l=""+sn(l),i=null,h=0;h<r.length;h++){if(r[h].value===l){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function et(r,i,l){if(i!=null&&(i=""+sn(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+sn(l):""}function Ta(r,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(a(92));if(pe(u)){if(1<u.length)throw Error(a(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=sn(i),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u)}function Mn(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var wa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fu(r,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,l):typeof l!="number"||l===0||wa.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function Gl(r,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in i)u=i[h],i.hasOwnProperty(h)&&l[h]!==u&&Fu(r,h,u)}else for(var g in i)i.hasOwnProperty(g)&&Fu(r,g,i[g])}function Ql(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Es(r){return jh.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Lr=null;function Vn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var kr=null,Pr=null;function Yl(r){var i=ar(r);if(i&&(r=i.stateNode)){var l=r[xt]||null;e:switch(r=i.stateNode,i.type){case"input":if(bn(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Tt(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==r&&u.form===r.form){var h=u[xt]||null;if(!h)throw Error(a(90));bn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===r.form&&ql(u)}break e;case"textarea":et(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&jr(r,!!l.multiple,i,!1)}}}var or=!1;function qu(r,i,l){if(or)return r(i,l);or=!0;try{var u=r(i);return u}finally{if(or=!1,(kr!==null||Pr!==null)&&(Pc(),kr&&(i=kr,r=Pr,Pr=kr=null,Yl(i),r)))for(i=0;i<r.length;i++)Yl(r[i])}}function Sa(r,i){var l=r.stateNode;if(l===null)return null;var u=l[xt]||null;if(u===null)return null;l=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(Qn)try{var Aa={};Object.defineProperty(Aa,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Aa,Aa),window.removeEventListener("test",Aa,Aa)}catch{jn=!1}var ur=null,bi=null,Ur=null;function Kl(){if(Ur)return Ur;var r,i=bi,l=i.length,u,h="value"in ur?ur.value:ur.textContent,g=h.length;for(r=0;r<l&&i[r]===h[r];r++);var w=l-r;for(u=1;u<=w&&i[l-u]===h[g-u];u++);return Ur=h.slice(r,1<u?1-u:void 0)}function cr(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function fr(){return!0}function Xl(){return!1}function jt(r){function i(l,u,h,g,w){this._reactName=l,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(l=r[C],this[C]=l?l(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?fr:Xl,this.isPropagationStopped=Xl,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),i}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=jt(Ke),Ra=y({},Ke,{view:0,detail:0}),Gu=jt(Ra),Ts,ws,hr,Ca=y({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==hr&&(hr&&r.type==="mousemove"?(Ts=r.screenX-hr.screenX,ws=r.screenY-hr.screenY):ws=Ts=0,hr=r),Ts)},movementY:function(r){return"movementY"in r?r.movementY:ws}}),Ln=jt(Ca),Qu=y({},Ca,{dataTransfer:0}),Lh=jt(Qu),Da=y({},Ra,{relatedTarget:0}),Ss=jt(Da),Zl=y({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),As=jt(Zl),Yu=y({},Ke,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Rs=jt(Yu),kh=y({},Ke,{data:0}),Wl=jt(kh),Na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Xu[r])?!!i[r]:!1}function Oa(){return Jl}var Zu=y({},Ra,{key:function(r){if(r.key){var i=Na[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=cr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ku[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(r){return r.type==="keypress"?cr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?cr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Cs=jt(Zu),Wu=y({},Ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eo=jt(Wu),zr=y({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Ju=jt(zr),ec=y({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),tc=jt(ec),nc=y({},Ca,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ds=jt(nc),ln=y({},Ke,{newState:0,oldState:0}),rc=jt(ln),ic=[9,13,27,32],dr=Qn&&"CompositionEvent"in window,f=null;Qn&&"documentMode"in document&&(f=document.documentMode);var v=Qn&&"TextEvent"in window&&!f,b=Qn&&(!dr||f&&8<f&&11>=f),D=" ",G=!1;function J(r,i){switch(r){case"keyup":return ic.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Be=!1;function Ct(r,i){switch(r){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(G=!0,D);case"textInput":return r=i.data,r===D&&G?null:r;default:return null}}function $e(r,i){if(Be)return r==="compositionend"||!dr&&J(r,i)?(r=Kl(),Ur=bi=ur=null,Be=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return b&&i.locale!=="ko"?null:i.data;default:return null}}var Lt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dt(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Lt[r.type]:i==="textarea"}function Br(r,i,l,u){kr?Pr?Pr.push(u):Pr=[u]:kr=u,i=Fc(i,"onChange"),0<i.length&&(l=new xs("onChange","change",null,l,u),r.push({event:l,listeners:i}))}var Ht=null,mr=null;function to(r){D0(r,0)}function ac(r){var i=sr(r);if(ql(i))return r}function Xg(r,i){if(r==="change")return i}var Zg=!1;if(Qn){var Ph;if(Qn){var Uh="oninput"in document;if(!Uh){var Wg=document.createElement("div");Wg.setAttribute("oninput","return;"),Uh=typeof Wg.oninput=="function"}Ph=Uh}else Ph=!1;Zg=Ph&&(!document.documentMode||9<document.documentMode)}function Jg(){Ht&&(Ht.detachEvent("onpropertychange",ey),mr=Ht=null)}function ey(r){if(r.propertyName==="value"&&ac(mr)){var i=[];Br(i,mr,r,Vn(r)),qu(to,i)}}function bT(r,i,l){r==="focusin"?(Jg(),Ht=i,mr=l,Ht.attachEvent("onpropertychange",ey)):r==="focusout"&&Jg()}function _T(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ac(mr)}function ET(r,i){if(r==="click")return ac(i)}function xT(r,i){if(r==="input"||r==="change")return ac(i)}function TT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var _n=typeof Object.is=="function"?Object.is:TT;function no(r,i){if(_n(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var h=l[u];if(!ca.call(i,h)||!_n(r[h],i[h]))return!1}return!0}function ty(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ny(r,i){var l=ty(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=i&&u>=i)return{node:l,offset:i-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ty(l)}}function ry(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?ry(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function iy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Ea(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=Ea(r.document)}return i}function zh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var wT=Qn&&"documentMode"in document&&11>=document.documentMode,Ns=null,Bh=null,ro=null,$h=!1;function ay(r,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;$h||Ns==null||Ns!==Ea(u)||(u=Ns,"selectionStart"in u&&zh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ro&&no(ro,u)||(ro=u,u=Fc(Bh,"onSelect"),0<u.length&&(i=new xs("onSelect","select",null,i,l),r.push({event:i,listeners:u}),i.target=Ns)))}function Ia(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var Os={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},Hh={},sy={};Qn&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function Ma(r){if(Hh[r])return Hh[r];if(!Os[r])return r;var i=Os[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in sy)return Hh[r]=i[l];return r}var ly=Ma("animationend"),oy=Ma("animationiteration"),uy=Ma("animationstart"),ST=Ma("transitionrun"),AT=Ma("transitionstart"),RT=Ma("transitioncancel"),cy=Ma("transitionend"),fy=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function Yn(r,i){fy.set(r,i),Gn(i,[r])}var hy=new WeakMap;function kn(r,i){if(typeof r=="object"&&r!==null){var l=hy.get(r);return l!==void 0?l:(i={value:r,source:i,stack:bs(i)},hy.set(r,i),i)}return{value:r,source:i,stack:bs(i)}}var Pn=[],Is=0,qh=0;function sc(){for(var r=Is,i=qh=Is=0;i<r;){var l=Pn[i];Pn[i++]=null;var u=Pn[i];Pn[i++]=null;var h=Pn[i];Pn[i++]=null;var g=Pn[i];if(Pn[i++]=null,u!==null&&h!==null){var w=u.pending;w===null?h.next=h:(h.next=w.next,w.next=h),u.pending=h}g!==0&&dy(l,h,g)}}function lc(r,i,l,u){Pn[Is++]=r,Pn[Is++]=i,Pn[Is++]=l,Pn[Is++]=u,qh|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Gh(r,i,l,u){return lc(r,i,l,u),oc(r)}function Ms(r,i){return lc(r,null,null,i),oc(r)}function dy(r,i,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var h=!1,g=r.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(h=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,h&&i!==null&&(h=31-Zt(l),r=g.hiddenUpdates,u=r[h],u===null?r[h]=[i]:u.push(i),i.lane=l|536870912),g):null}function oc(r){if(50<Do)throw Do=0,Wd=null,Error(a(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Vs={};function CT(r,i,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(r,i,l,u){return new CT(r,i,l,u)}function Qh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $r(r,i){var l=r.alternate;return l===null?(l=En(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function my(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function uc(r,i,l,u,h,g){var w=0;if(u=r,typeof r=="function")Qh(r)&&(w=1);else if(typeof r=="string")w=Nw(r,l,se.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=En(31,l,i,h),r.elementType=M,r.lanes=g,r;case S:return Va(l.children,h,g,i);case R:w=8,h|=24;break;case N:return r=En(12,l,i,h|2),r.elementType=N,r.lanes=g,r;case q:return r=En(13,l,i,h),r.elementType=q,r.lanes=g,r;case ne:return r=En(19,l,i,h),r.elementType=ne,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:case B:w=10;break e;case I:w=9;break e;case W:w=11;break e;case L:w=14;break e;case O:w=16,u=null;break e}w=29,l=Error(a(130,r===null?"null":typeof r,"")),u=null}return i=En(w,l,i,h),i.elementType=r,i.type=u,i.lanes=g,i}function Va(r,i,l,u){return r=En(7,r,u,i),r.lanes=l,r}function Yh(r,i,l){return r=En(6,r,null,i),r.lanes=l,r}function Kh(r,i,l){return i=En(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var js=[],Ls=0,cc=null,fc=0,Un=[],zn=0,ja=null,Hr=1,Fr="";function La(r,i){js[Ls++]=fc,js[Ls++]=cc,cc=r,fc=i}function py(r,i,l){Un[zn++]=Hr,Un[zn++]=Fr,Un[zn++]=ja,ja=r;var u=Hr;r=Fr;var h=32-Zt(u)-1;u&=~(1<<h),l+=1;var g=32-Zt(i)+h;if(30<g){var w=h-h%5;g=(u&(1<<w)-1).toString(32),u>>=w,h-=w,Hr=1<<32-Zt(i)+h|l<<h|u,Fr=g+r}else Hr=1<<g|l<<h|u,Fr=r}function Xh(r){r.return!==null&&(La(r,1),py(r,1,0))}function Zh(r){for(;r===cc;)cc=js[--Ls],js[Ls]=null,fc=js[--Ls],js[Ls]=null;for(;r===ja;)ja=Un[--zn],Un[zn]=null,Fr=Un[--zn],Un[zn]=null,Hr=Un[--zn],Un[zn]=null}var on=null,pt=null,Ye=!1,ka=null,pr=!1,Wh=Error(a(519));function Pa(r){var i=Error(a(418,""));throw so(kn(i,r)),Wh}function gy(r){var i=r.stateNode,l=r.type,u=r.memoizedProps;switch(i[Rt]=r,i[xt]=u,l){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(l=0;l<Oo.length;l++)Le(Oo[l],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),xa(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),_s(i);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),Ta(i,u.value,u.defaultValue,u.children),_s(i)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||M0(i.textContent,l)?(u.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),u.onScroll!=null&&Le("scroll",i),u.onScrollEnd!=null&&Le("scrollend",i),u.onClick!=null&&(i.onclick=qc),i=!0):i=!1,i||Pa(r)}function yy(r){for(on=r.return;on;)switch(on.tag){case 5:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:on=on.return}}function io(r){if(r!==on)return!1;if(!Ye)return yy(r),Ye=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||mm(r.type,r.memoizedProps)),l=!l),l&&pt&&Pa(r),yy(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(i===0){pt=Xn(r.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;r=r.nextSibling}pt=null}}else i===27?(i=pt,ji(r.type)?(r=vm,vm=null,pt=r):pt=i):pt=on?Xn(r.stateNode.nextSibling):null;return!0}function ao(){pt=on=null,Ye=!1}function vy(){var r=ka;return r!==null&&(pn===null?pn=r:pn.push.apply(pn,r),ka=null),r}function so(r){ka===null?ka=[r]:ka.push(r)}var Jh=re(null),Ua=null,qr=null;function _i(r,i,l){le(Jh,i._currentValue),i._currentValue=l}function Gr(r){r._currentValue=Jh.current,fe(Jh)}function ed(r,i,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===l)break;r=r.return}}function td(r,i,l,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var g=h.dependencies;if(g!==null){var w=h.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=h;for(var U=0;U<i.length;U++)if(C.context===i[U]){g.lanes|=l,C=g.alternate,C!==null&&(C.lanes|=l),ed(g.return,l,r),u||(w=null);break e}g=C.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(a(341));w.lanes|=l,g=w.alternate,g!==null&&(g.lanes|=l),ed(w,l,r),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===r){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function lo(r,i,l,u){r=null;for(var h=i,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var C=h.type;_n(h.pendingProps.value,w.value)||(r!==null?r.push(C):r=[C])}}else if(h===ke.current){if(w=h.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(ko):r=[ko])}h=h.return}r!==null&&td(i,r,l,u),i.flags|=262144}function hc(r){for(r=r.firstContext;r!==null;){if(!_n(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function za(r){Ua=r,qr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Wt(r){return by(Ua,r)}function dc(r,i){return Ua===null&&za(r),by(r,i)}function by(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},qr===null){if(r===null)throw Error(a(308));qr=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else qr=qr.next=i;return l}var DT=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},NT=t.unstable_scheduleCallback,OT=t.unstable_NormalPriority,Nt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nd(){return{controller:new DT,data:new Map,refCount:0}}function oo(r){r.refCount--,r.refCount===0&&NT(OT,function(){r.controller.abort()})}var uo=null,rd=0,ks=0,Ps=null;function IT(r,i){if(uo===null){var l=uo=[];rd=0,ks=am(),Ps={status:"pending",value:void 0,then:function(u){l.push(u)}}}return rd++,i.then(_y,_y),i}function _y(){if(--rd===0&&uo!==null){Ps!==null&&(Ps.status="fulfilled");var r=uo;uo=null,ks=0,Ps=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function MT(r,i){var l=[],u={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var h=0;h<l.length;h++)(0,l[h])(i)},function(h){for(u.status="rejected",u.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),u}var Ey=X.S;X.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&IT(r,i),Ey!==null&&Ey(r,i)};var Ba=re(null);function id(){var r=Ba.current;return r!==null?r:at.pooledCache}function mc(r,i){i===null?le(Ba,Ba.current):le(Ba,i.pool)}function xy(){var r=id();return r===null?null:{parent:Nt._currentValue,pool:r}}var co=Error(a(460)),Ty=Error(a(474)),pc=Error(a(542)),ad={then:function(){}};function wy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function gc(){}function Sy(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(gc,gc),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Ry(r),r;default:if(typeof i.status=="string")i.then(gc,gc);else{if(r=at,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=u}},function(u){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Ry(r),r}throw fo=i,co}}var fo=null;function Ay(){if(fo===null)throw Error(a(459));var r=fo;return fo=null,r}function Ry(r){if(r===co||r===pc)throw Error(a(483))}var Ei=!1;function sd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function xi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ti(r,i,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(We&2)!==0){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,i=oc(r),dy(r,null,l),i}return lc(r,u,i,l),oc(r)}function ho(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,zl(r,l)}}function od(r,i){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var h=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?h=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?h=g=i:g=g.next=i}else h=g=i;l={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var ud=!1;function mo(){if(ud){var r=Ps;if(r!==null)throw r}}function po(r,i,l,u){ud=!1;var h=r.updateQueue;Ei=!1;var g=h.firstBaseUpdate,w=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var U=C,Y=U.next;U.next=null,w===null?g=Y:w.next=Y,w=U;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,C=ee.lastBaseUpdate,C!==w&&(C===null?ee.firstBaseUpdate=Y:C.next=Y,ee.lastBaseUpdate=U))}if(g!==null){var ie=h.baseState;w=0,ee=Y=U=null,C=g;do{var K=C.lane&-536870913,Z=K!==C.lane;if(Z?(He&K)===K:(u&K)===K){K!==0&&K===ks&&(ud=!0),ee!==null&&(ee=ee.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Se=r,xe=C;K=i;var rt=l;switch(xe.tag){case 1:if(Se=xe.payload,typeof Se=="function"){ie=Se.call(rt,ie,K);break e}ie=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=xe.payload,K=typeof Se=="function"?Se.call(rt,ie,K):Se,K==null)break e;ie=y({},ie,K);break e;case 2:Ei=!0}}K=C.callback,K!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=h.callbacks,Z===null?h.callbacks=[K]:Z.push(K))}else Z={lane:K,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ee===null?(Y=ee=Z,U=ie):ee=ee.next=Z,w|=K;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;Z=C,C=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);ee===null&&(U=ie),h.baseState=U,h.firstBaseUpdate=Y,h.lastBaseUpdate=ee,g===null&&(h.shared.lanes=0),Oi|=w,r.lanes=w,r.memoizedState=ie}}function Cy(r,i){if(typeof r!="function")throw Error(a(191,r));r.call(i)}function Dy(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Cy(l[r],i)}var Us=re(null),yc=re(0);function Ny(r,i){r=Jr,le(yc,r),le(Us,i),Jr=r|i.baseLanes}function cd(){le(yc,Jr),le(Us,Us.current)}function fd(){Jr=yc.current,fe(Us),fe(yc)}var wi=0,Ie=null,tt=null,wt=null,vc=!1,zs=!1,$a=!1,bc=0,go=0,Bs=null,VT=0;function bt(){throw Error(a(321))}function hd(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!_n(r[l],i[l]))return!1;return!0}function dd(r,i,l,u,h,g){return wi=g,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=r===null||r.memoizedState===null?dv:mv,$a=!1,g=l(u,h),$a=!1,zs&&(g=Iy(i,l,u,h)),Oy(r),g}function Oy(r){X.H=Sc;var i=tt!==null&&tt.next!==null;if(wi=0,wt=tt=Ie=null,vc=!1,go=0,Bs=null,i)throw Error(a(300));r===null||kt||(r=r.dependencies,r!==null&&hc(r)&&(kt=!0))}function Iy(r,i,l,u){Ie=r;var h=0;do{if(zs&&(Bs=null),go=0,zs=!1,25<=h)throw Error(a(301));if(h+=1,wt=tt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=BT,g=i(l,u)}while(zs);return g}function jT(){var r=X.H,i=r.useState()[0];return i=typeof i.then=="function"?yo(i):i,r=r.useState()[0],(tt!==null?tt.memoizedState:null)!==r&&(Ie.flags|=1024),i}function md(){var r=bc!==0;return bc=0,r}function pd(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function gd(r){if(vc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vc=!1}wi=0,wt=tt=Ie=null,zs=!1,go=bc=0,Bs=null}function dn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ie.memoizedState=wt=r:wt=wt.next=r,wt}function St(){if(tt===null){var r=Ie.alternate;r=r!==null?r.memoizedState:null}else r=tt.next;var i=wt===null?Ie.memoizedState:wt.next;if(i!==null)wt=i,tt=r;else{if(r===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));tt=r,r={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},wt===null?Ie.memoizedState=wt=r:wt=wt.next=r}return wt}function yd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yo(r){var i=go;return go+=1,Bs===null&&(Bs=[]),r=Sy(Bs,r,i),i=Ie,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?dv:mv),r}function _c(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return yo(r);if(r.$$typeof===B)return Wt(r)}throw Error(a(438,String(r)))}function vd(r){var i=null,l=Ie.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=Ie.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=yd(),Ie.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),u=0;u<r;u++)l[u]=z;return i.index++,l}function Qr(r,i){return typeof i=="function"?i(r):i}function Ec(r){var i=St();return bd(i,tt,r)}function bd(r,i,l){var u=r.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=l;var h=r.baseQueue,g=u.pending;if(g!==null){if(h!==null){var w=h.next;h.next=g.next,g.next=w}i.baseQueue=h=g,u.pending=null}if(g=r.baseState,h===null)r.memoizedState=g;else{i=h.next;var C=w=null,U=null,Y=i,ee=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?(He&ie)===ie:(wi&ie)===ie){var K=Y.revertLane;if(K===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===ks&&(ee=!0);else if((wi&K)===K){Y=Y.next,K===ks&&(ee=!0);continue}else ie={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(C=U=ie,w=g):U=U.next=ie,Ie.lanes|=K,Oi|=K;ie=Y.action,$a&&l(g,ie),g=Y.hasEagerState?Y.eagerState:l(g,ie)}else K={lane:ie,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(C=U=K,w=g):U=U.next=K,Ie.lanes|=ie,Oi|=ie;Y=Y.next}while(Y!==null&&Y!==i);if(U===null?w=g:U.next=C,!_n(g,r.memoizedState)&&(kt=!0,ee&&(l=Ps,l!==null)))throw l;r.memoizedState=g,r.baseState=w,r.baseQueue=U,u.lastRenderedState=g}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function _d(r){var i=St(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var u=l.dispatch,h=l.pending,g=i.memoizedState;if(h!==null){l.pending=null;var w=h=h.next;do g=r(g,w.action),w=w.next;while(w!==h);_n(g,i.memoizedState)||(kt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,u]}function My(r,i,l){var u=Ie,h=St(),g=Ye;if(g){if(l===void 0)throw Error(a(407));l=l()}else l=i();var w=!_n((tt||h).memoizedState,l);w&&(h.memoizedState=l,kt=!0),h=h.queue;var C=Ly.bind(null,u,h,r);if(vo(2048,8,C,[r]),h.getSnapshot!==i||w||wt!==null&&wt.memoizedState.tag&1){if(u.flags|=2048,$s(9,xc(),jy.bind(null,u,h,l,i),null),at===null)throw Error(a(349));g||(wi&124)!==0||Vy(u,i,l)}return l}function Vy(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Ie.updateQueue,i===null?(i=yd(),Ie.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function jy(r,i,l,u){i.value=l,i.getSnapshot=u,ky(i)&&Py(r)}function Ly(r,i,l){return l(function(){ky(i)&&Py(r)})}function ky(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!_n(r,l)}catch{return!0}}function Py(r){var i=Ms(r,2);i!==null&&An(i,r,2)}function Ed(r){var i=dn();if(typeof r=="function"){var l=r;if(r=l(),$a){vn(!0);try{l()}finally{vn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:r},i}function Uy(r,i,l,u){return r.baseState=l,bd(r,tt,typeof u=="function"?u:Qr)}function LT(r,i,l,u,h){if(wc(r))throw Error(a(485));if(r=i.action,r!==null){var g={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};X.T!==null?l(!0):g.isTransition=!1,u(g),l=i.pending,l===null?(g.next=i.pending=g,zy(i,g)):(g.next=l.next,i.pending=l.next=g)}}function zy(r,i){var l=i.action,u=i.payload,h=r.state;if(i.isTransition){var g=X.T,w={};X.T=w;try{var C=l(h,u),U=X.S;U!==null&&U(w,C),By(r,i,C)}catch(Y){xd(r,i,Y)}finally{X.T=g}}else try{g=l(h,u),By(r,i,g)}catch(Y){xd(r,i,Y)}}function By(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){$y(r,i,u)},function(u){return xd(r,i,u)}):$y(r,i,l)}function $y(r,i,l){i.status="fulfilled",i.value=l,Hy(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,zy(r,l)))}function xd(r,i,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,Hy(i),i=i.next;while(i!==u)}r.action=null}function Hy(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Fy(r,i){return i}function qy(r,i){if(Ye){var l=at.formState;if(l!==null){e:{var u=Ie;if(Ye){if(pt){t:{for(var h=pt,g=pr;h.nodeType!==8;){if(!g){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){pt=Xn(h.nextSibling),u=h.data==="F!";break e}}Pa(u)}u=!1}u&&(i=l[0])}}return l=dn(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fy,lastRenderedState:i},l.queue=u,l=cv.bind(null,Ie,u),u.dispatch=l,u=Ed(!1),g=Rd.bind(null,Ie,!1,u.queue),u=dn(),h={state:i,dispatch:null,action:r,pending:null},u.queue=h,l=LT.bind(null,Ie,h,g,l),h.dispatch=l,u.memoizedState=r,[i,l,!1]}function Gy(r){var i=St();return Qy(i,tt,r)}function Qy(r,i,l){if(i=bd(r,i,Fy)[0],r=Ec(Qr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=yo(i)}catch(w){throw w===co?pc:w}else u=i;i=St();var h=i.queue,g=h.dispatch;return l!==i.memoizedState&&(Ie.flags|=2048,$s(9,xc(),kT.bind(null,h,l),null)),[u,g,r]}function kT(r,i){r.action=i}function Yy(r){var i=St(),l=tt;if(l!==null)return Qy(i,l,r);St(),i=i.memoizedState,l=St();var u=l.queue.dispatch;return l.memoizedState=r,[i,u,!1]}function $s(r,i,l,u){return r={tag:r,create:l,deps:u,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=yd(),Ie.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,i.lastEffect=r),r}function xc(){return{destroy:void 0,resource:void 0}}function Ky(){return St().memoizedState}function Tc(r,i,l,u){var h=dn();u=u===void 0?null:u,Ie.flags|=r,h.memoizedState=$s(1|i,xc(),l,u)}function vo(r,i,l,u){var h=St();u=u===void 0?null:u;var g=h.memoizedState.inst;tt!==null&&u!==null&&hd(u,tt.memoizedState.deps)?h.memoizedState=$s(i,g,l,u):(Ie.flags|=r,h.memoizedState=$s(1|i,g,l,u))}function Xy(r,i){Tc(8390656,8,r,i)}function Zy(r,i){vo(2048,8,r,i)}function Wy(r,i){return vo(4,2,r,i)}function Jy(r,i){return vo(4,4,r,i)}function ev(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function tv(r,i,l){l=l!=null?l.concat([r]):null,vo(4,4,ev.bind(null,i,r),l)}function Td(){}function nv(r,i){var l=St();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&hd(i,u[1])?u[0]:(l.memoizedState=[r,i],r)}function rv(r,i){var l=St();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&hd(i,u[1]))return u[0];if(u=r(),$a){vn(!0);try{r()}finally{vn(!1)}}return l.memoizedState=[u,i],u}function wd(r,i,l){return l===void 0||(wi&1073741824)!==0?r.memoizedState=i:(r.memoizedState=l,r=s0(),Ie.lanes|=r,Oi|=r,l)}function iv(r,i,l,u){return _n(l,i)?l:Us.current!==null?(r=wd(r,l,u),_n(r,i)||(kt=!0),r):(wi&42)===0?(kt=!0,r.memoizedState=l):(r=s0(),Ie.lanes|=r,Oi|=r,i)}function av(r,i,l,u,h){var g=ue.p;ue.p=g!==0&&8>g?g:8;var w=X.T,C={};X.T=C,Rd(r,!1,i,l);try{var U=h(),Y=X.S;if(Y!==null&&Y(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ee=MT(U,u);bo(r,i,ee,Sn(r))}else bo(r,i,u,Sn(r))}catch(ie){bo(r,i,{then:function(){},status:"rejected",reason:ie},Sn())}finally{ue.p=g,X.T=w}}function PT(){}function Sd(r,i,l,u){if(r.tag!==5)throw Error(a(476));var h=sv(r).queue;av(r,h,i,ce,l===null?PT:function(){return lv(r),l(u)})}function sv(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:ce},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function lv(r){var i=sv(r).next.queue;bo(r,i,{},Sn())}function Ad(){return Wt(ko)}function ov(){return St().memoizedState}function uv(){return St().memoizedState}function UT(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=Sn();r=xi(l);var u=Ti(i,r,l);u!==null&&(An(u,i,l),ho(u,i,l)),i={cache:nd()},r.payload=i;return}i=i.return}}function zT(r,i,l){var u=Sn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},wc(r)?fv(i,l):(l=Gh(r,i,l,u),l!==null&&(An(l,r,u),hv(l,i,u)))}function cv(r,i,l){var u=Sn();bo(r,i,l,u)}function bo(r,i,l,u){var h={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(wc(r))fv(i,h);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var w=i.lastRenderedState,C=g(w,l);if(h.hasEagerState=!0,h.eagerState=C,_n(C,w))return lc(r,i,h,0),at===null&&sc(),!1}catch{}finally{}if(l=Gh(r,i,h,u),l!==null)return An(l,r,u),hv(l,i,u),!0}return!1}function Rd(r,i,l,u){if(u={lane:2,revertLane:am(),action:u,hasEagerState:!1,eagerState:null,next:null},wc(r)){if(i)throw Error(a(479))}else i=Gh(r,l,u,2),i!==null&&An(i,r,2)}function wc(r){var i=r.alternate;return r===Ie||i!==null&&i===Ie}function fv(r,i){zs=vc=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function hv(r,i,l){if((l&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,l|=u,i.lanes=l,zl(r,l)}}var Sc={readContext:Wt,use:_c,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt},dv={readContext:Wt,use:_c,useCallback:function(r,i){return dn().memoizedState=[r,i===void 0?null:i],r},useContext:Wt,useEffect:Xy,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,Tc(4194308,4,ev.bind(null,i,r),l)},useLayoutEffect:function(r,i){return Tc(4194308,4,r,i)},useInsertionEffect:function(r,i){Tc(4,2,r,i)},useMemo:function(r,i){var l=dn();i=i===void 0?null:i;var u=r();if($a){vn(!0);try{r()}finally{vn(!1)}}return l.memoizedState=[u,i],u},useReducer:function(r,i,l){var u=dn();if(l!==void 0){var h=l(i);if($a){vn(!0);try{l(i)}finally{vn(!1)}}}else h=i;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=zT.bind(null,Ie,r),[u.memoizedState,r]},useRef:function(r){var i=dn();return r={current:r},i.memoizedState=r},useState:function(r){r=Ed(r);var i=r.queue,l=cv.bind(null,Ie,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:Td,useDeferredValue:function(r,i){var l=dn();return wd(l,r,i)},useTransition:function(){var r=Ed(!1);return r=av.bind(null,Ie,r.queue,!0,!1),dn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var u=Ie,h=dn();if(Ye){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),at===null)throw Error(a(349));(He&124)!==0||Vy(u,i,l)}h.memoizedState=l;var g={value:l,getSnapshot:i};return h.queue=g,Xy(Ly.bind(null,u,g,r),[r]),u.flags|=2048,$s(9,xc(),jy.bind(null,u,g,l,i),null),l},useId:function(){var r=dn(),i=at.identifierPrefix;if(Ye){var l=Fr,u=Hr;l=(u&~(1<<32-Zt(u)-1)).toString(32)+l,i="«"+i+"R"+l,l=bc++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=VT++,i="«"+i+"r"+l.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:Ad,useFormState:qy,useActionState:qy,useOptimistic:function(r){var i=dn();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Rd.bind(null,Ie,!0,l),l.dispatch=i,[r,i]},useMemoCache:vd,useCacheRefresh:function(){return dn().memoizedState=UT.bind(null,Ie)}},mv={readContext:Wt,use:_c,useCallback:nv,useContext:Wt,useEffect:Zy,useImperativeHandle:tv,useInsertionEffect:Wy,useLayoutEffect:Jy,useMemo:rv,useReducer:Ec,useRef:Ky,useState:function(){return Ec(Qr)},useDebugValue:Td,useDeferredValue:function(r,i){var l=St();return iv(l,tt.memoizedState,r,i)},useTransition:function(){var r=Ec(Qr)[0],i=St().memoizedState;return[typeof r=="boolean"?r:yo(r),i]},useSyncExternalStore:My,useId:ov,useHostTransitionStatus:Ad,useFormState:Gy,useActionState:Gy,useOptimistic:function(r,i){var l=St();return Uy(l,tt,r,i)},useMemoCache:vd,useCacheRefresh:uv},BT={readContext:Wt,use:_c,useCallback:nv,useContext:Wt,useEffect:Zy,useImperativeHandle:tv,useInsertionEffect:Wy,useLayoutEffect:Jy,useMemo:rv,useReducer:_d,useRef:Ky,useState:function(){return _d(Qr)},useDebugValue:Td,useDeferredValue:function(r,i){var l=St();return tt===null?wd(l,r,i):iv(l,tt.memoizedState,r,i)},useTransition:function(){var r=_d(Qr)[0],i=St().memoizedState;return[typeof r=="boolean"?r:yo(r),i]},useSyncExternalStore:My,useId:ov,useHostTransitionStatus:Ad,useFormState:Yy,useActionState:Yy,useOptimistic:function(r,i){var l=St();return tt!==null?Uy(l,tt,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:vd,useCacheRefresh:uv},Hs=null,_o=0;function Ac(r){var i=_o;return _o+=1,Hs===null&&(Hs=[]),Sy(Hs,r,i)}function Eo(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Rc(r,i){throw i.$$typeof===_?Error(a(525)):(r=Object.prototype.toString.call(i),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function pv(r){var i=r._init;return i(r._payload)}function gv(r){function i(F,H){if(r){var Q=F.deletions;Q===null?(F.deletions=[H],F.flags|=16):Q.push(H)}}function l(F,H){if(!r)return null;for(;H!==null;)i(F,H),H=H.sibling;return null}function u(F){for(var H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function h(F,H){return F=$r(F,H),F.index=0,F.sibling=null,F}function g(F,H,Q){return F.index=Q,r?(Q=F.alternate,Q!==null?(Q=Q.index,Q<H?(F.flags|=67108866,H):Q):(F.flags|=67108866,H)):(F.flags|=1048576,H)}function w(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function C(F,H,Q,te){return H===null||H.tag!==6?(H=Yh(Q,F.mode,te),H.return=F,H):(H=h(H,Q),H.return=F,H)}function U(F,H,Q,te){var ye=Q.type;return ye===S?ee(F,H,Q.props.children,te,Q.key):H!==null&&(H.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===O&&pv(ye)===H.type)?(H=h(H,Q.props),Eo(H,Q),H.return=F,H):(H=uc(Q.type,Q.key,Q.props,null,F.mode,te),Eo(H,Q),H.return=F,H)}function Y(F,H,Q,te){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=Kh(Q,F.mode,te),H.return=F,H):(H=h(H,Q.children||[]),H.return=F,H)}function ee(F,H,Q,te,ye){return H===null||H.tag!==7?(H=Va(Q,F.mode,te,ye),H.return=F,H):(H=h(H,Q),H.return=F,H)}function ie(F,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Yh(""+H,F.mode,Q),H.return=F,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return Q=uc(H.type,H.key,H.props,null,F.mode,Q),Eo(Q,H),Q.return=F,Q;case E:return H=Kh(H,F.mode,Q),H.return=F,H;case O:var te=H._init;return H=te(H._payload),ie(F,H,Q)}if(pe(H)||$(H))return H=Va(H,F.mode,Q,null),H.return=F,H;if(typeof H.then=="function")return ie(F,Ac(H),Q);if(H.$$typeof===B)return ie(F,dc(F,H),Q);Rc(F,H)}return null}function K(F,H,Q,te){var ye=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ye!==null?null:C(F,H,""+Q,te);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:return Q.key===ye?U(F,H,Q,te):null;case E:return Q.key===ye?Y(F,H,Q,te):null;case O:return ye=Q._init,Q=ye(Q._payload),K(F,H,Q,te)}if(pe(Q)||$(Q))return ye!==null?null:ee(F,H,Q,te,null);if(typeof Q.then=="function")return K(F,H,Ac(Q),te);if(Q.$$typeof===B)return K(F,H,dc(F,Q),te);Rc(F,Q)}return null}function Z(F,H,Q,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return F=F.get(Q)||null,C(H,F,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case T:return F=F.get(te.key===null?Q:te.key)||null,U(H,F,te,ye);case E:return F=F.get(te.key===null?Q:te.key)||null,Y(H,F,te,ye);case O:var Ve=te._init;return te=Ve(te._payload),Z(F,H,Q,te,ye)}if(pe(te)||$(te))return F=F.get(Q)||null,ee(H,F,te,ye,null);if(typeof te.then=="function")return Z(F,H,Q,Ac(te),ye);if(te.$$typeof===B)return Z(F,H,Q,dc(H,te),ye);Rc(H,te)}return null}function Se(F,H,Q,te){for(var ye=null,Ve=null,ve=H,Te=H=0,Ut=null;ve!==null&&Te<Q.length;Te++){ve.index>Te?(Ut=ve,ve=null):Ut=ve.sibling;var Qe=K(F,ve,Q[Te],te);if(Qe===null){ve===null&&(ve=Ut);break}r&&ve&&Qe.alternate===null&&i(F,ve),H=g(Qe,H,Te),Ve===null?ye=Qe:Ve.sibling=Qe,Ve=Qe,ve=Ut}if(Te===Q.length)return l(F,ve),Ye&&La(F,Te),ye;if(ve===null){for(;Te<Q.length;Te++)ve=ie(F,Q[Te],te),ve!==null&&(H=g(ve,H,Te),Ve===null?ye=ve:Ve.sibling=ve,Ve=ve);return Ye&&La(F,Te),ye}for(ve=u(ve);Te<Q.length;Te++)Ut=Z(ve,F,Te,Q[Te],te),Ut!==null&&(r&&Ut.alternate!==null&&ve.delete(Ut.key===null?Te:Ut.key),H=g(Ut,H,Te),Ve===null?ye=Ut:Ve.sibling=Ut,Ve=Ut);return r&&ve.forEach(function(zi){return i(F,zi)}),Ye&&La(F,Te),ye}function xe(F,H,Q,te){if(Q==null)throw Error(a(151));for(var ye=null,Ve=null,ve=H,Te=H=0,Ut=null,Qe=Q.next();ve!==null&&!Qe.done;Te++,Qe=Q.next()){ve.index>Te?(Ut=ve,ve=null):Ut=ve.sibling;var zi=K(F,ve,Qe.value,te);if(zi===null){ve===null&&(ve=Ut);break}r&&ve&&zi.alternate===null&&i(F,ve),H=g(zi,H,Te),Ve===null?ye=zi:Ve.sibling=zi,Ve=zi,ve=Ut}if(Qe.done)return l(F,ve),Ye&&La(F,Te),ye;if(ve===null){for(;!Qe.done;Te++,Qe=Q.next())Qe=ie(F,Qe.value,te),Qe!==null&&(H=g(Qe,H,Te),Ve===null?ye=Qe:Ve.sibling=Qe,Ve=Qe);return Ye&&La(F,Te),ye}for(ve=u(ve);!Qe.done;Te++,Qe=Q.next())Qe=Z(ve,F,Te,Qe.value,te),Qe!==null&&(r&&Qe.alternate!==null&&ve.delete(Qe.key===null?Te:Qe.key),H=g(Qe,H,Te),Ve===null?ye=Qe:Ve.sibling=Qe,Ve=Qe);return r&&ve.forEach(function($w){return i(F,$w)}),Ye&&La(F,Te),ye}function rt(F,H,Q,te){if(typeof Q=="object"&&Q!==null&&Q.type===S&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:e:{for(var ye=Q.key;H!==null;){if(H.key===ye){if(ye=Q.type,ye===S){if(H.tag===7){l(F,H.sibling),te=h(H,Q.props.children),te.return=F,F=te;break e}}else if(H.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===O&&pv(ye)===H.type){l(F,H.sibling),te=h(H,Q.props),Eo(te,Q),te.return=F,F=te;break e}l(F,H);break}else i(F,H);H=H.sibling}Q.type===S?(te=Va(Q.props.children,F.mode,te,Q.key),te.return=F,F=te):(te=uc(Q.type,Q.key,Q.props,null,F.mode,te),Eo(te,Q),te.return=F,F=te)}return w(F);case E:e:{for(ye=Q.key;H!==null;){if(H.key===ye)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){l(F,H.sibling),te=h(H,Q.children||[]),te.return=F,F=te;break e}else{l(F,H);break}else i(F,H);H=H.sibling}te=Kh(Q,F.mode,te),te.return=F,F=te}return w(F);case O:return ye=Q._init,Q=ye(Q._payload),rt(F,H,Q,te)}if(pe(Q))return Se(F,H,Q,te);if($(Q)){if(ye=$(Q),typeof ye!="function")throw Error(a(150));return Q=ye.call(Q),xe(F,H,Q,te)}if(typeof Q.then=="function")return rt(F,H,Ac(Q),te);if(Q.$$typeof===B)return rt(F,H,dc(F,Q),te);Rc(F,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(l(F,H.sibling),te=h(H,Q),te.return=F,F=te):(l(F,H),te=Yh(Q,F.mode,te),te.return=F,F=te),w(F)):l(F,H)}return function(F,H,Q,te){try{_o=0;var ye=rt(F,H,Q,te);return Hs=null,ye}catch(ve){if(ve===co||ve===pc)throw ve;var Ve=En(29,ve,null,F.mode);return Ve.lanes=te,Ve.return=F,Ve}finally{}}}var Fs=gv(!0),yv=gv(!1),Bn=re(null),gr=null;function Si(r){var i=r.alternate;le(Ot,Ot.current&1),le(Bn,r),gr===null&&(i===null||Us.current!==null||i.memoizedState!==null)&&(gr=r)}function vv(r){if(r.tag===22){if(le(Ot,Ot.current),le(Bn,r),gr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(gr=r)}}else Ai()}function Ai(){le(Ot,Ot.current),le(Bn,Bn.current)}function Yr(r){fe(Bn),gr===r&&(gr=null),fe(Ot)}var Ot=re(0);function Cc(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||ym(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Cd(r,i,l,u){i=r.memoizedState,l=l(u,i),l=l==null?i:y({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Dd={enqueueSetState:function(r,i,l){r=r._reactInternals;var u=Sn(),h=xi(u);h.payload=i,l!=null&&(h.callback=l),i=Ti(r,h,u),i!==null&&(An(i,r,u),ho(i,r,u))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var u=Sn(),h=xi(u);h.tag=1,h.payload=i,l!=null&&(h.callback=l),i=Ti(r,h,u),i!==null&&(An(i,r,u),ho(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=Sn(),u=xi(l);u.tag=2,i!=null&&(u.callback=i),i=Ti(r,u,l),i!==null&&(An(i,r,l),ho(i,r,l))}};function bv(r,i,l,u,h,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,w):i.prototype&&i.prototype.isPureReactComponent?!no(l,u)||!no(h,g):!0}function _v(r,i,l,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==r&&Dd.enqueueReplaceState(i,i.state,null)}function Ha(r,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(r=r.defaultProps){l===i&&(l=y({},l));for(var h in r)l[h]===void 0&&(l[h]=r[h])}return l}var Dc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Ev(r){Dc(r)}function xv(r){console.error(r)}function Tv(r){Dc(r)}function Nc(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function wv(r,i,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nd(r,i,l){return l=xi(l),l.tag=3,l.payload={element:null},l.callback=function(){Nc(r,i)},l}function Sv(r){return r=xi(r),r.tag=3,r}function Av(r,i,l,u){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;r.payload=function(){return h(g)},r.callback=function(){wv(i,l,u)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){wv(i,l,u),typeof h!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function $T(r,i,l,u,h){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&lo(i,l,h,!0),l=Bn.current,l!==null){switch(l.tag){case 13:return gr===null?em():l.alternate===null&&gt===0&&(gt=3),l.flags&=-257,l.flags|=65536,l.lanes=h,u===ad?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),nm(r,u,h)),!1;case 22:return l.flags|=65536,u===ad?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),nm(r,u,h)),!1}throw Error(a(435,l.tag))}return nm(r,u,h),em(),!1}if(Ye)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,u!==Wh&&(r=Error(a(422),{cause:u}),so(kn(r,l)))):(u!==Wh&&(i=Error(a(423),{cause:u}),so(kn(i,l))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=kn(u,l),h=Nd(r.stateNode,u,h),od(r,h),gt!==4&&(gt=2)),!1;var g=Error(a(520),{cause:u});if(g=kn(g,l),Co===null?Co=[g]:Co.push(g),gt!==4&&(gt=2),i===null)return!0;u=kn(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=h&-h,l.lanes|=r,r=Nd(l.stateNode,u,r),od(l,r),!1;case 1:if(i=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ii===null||!Ii.has(g))))return l.flags|=65536,h&=-h,l.lanes|=h,h=Sv(h),Av(h,r,l,u),od(l,h),!1}l=l.return}while(l!==null);return!1}var Rv=Error(a(461)),kt=!1;function Ft(r,i,l,u){i.child=r===null?yv(i,null,l,u):Fs(i,r.child,l,u)}function Cv(r,i,l,u,h){l=l.render;var g=i.ref;if("ref"in u){var w={};for(var C in u)C!=="ref"&&(w[C]=u[C])}else w=u;return za(i),u=dd(r,i,l,w,g,h),C=md(),r!==null&&!kt?(pd(r,i,h),Kr(r,i,h)):(Ye&&C&&Xh(i),i.flags|=1,Ft(r,i,u,h),i.child)}function Dv(r,i,l,u,h){if(r===null){var g=l.type;return typeof g=="function"&&!Qh(g)&&g.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=g,Nv(r,i,g,u,h)):(r=uc(l.type,null,u,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,!Pd(r,h)){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:no,l(w,u)&&r.ref===i.ref)return Kr(r,i,h)}return i.flags|=1,r=$r(g,u),r.ref=i.ref,r.return=i,i.child=r}function Nv(r,i,l,u,h){if(r!==null){var g=r.memoizedProps;if(no(g,u)&&r.ref===i.ref)if(kt=!1,i.pendingProps=u=g,Pd(r,h))(r.flags&131072)!==0&&(kt=!0);else return i.lanes=r.lanes,Kr(r,i,h)}return Od(r,i,l,u,h)}function Ov(r,i,l){var u=i.pendingProps,h=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=g!==null?g.baseLanes|l:l,r!==null){for(h=i.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;i.childLanes=g&~u}else i.childLanes=0,i.child=null;return Iv(r,i,u,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&mc(i,g!==null?g.cachePool:null),g!==null?Ny(i,g):cd(),vv(i);else return i.lanes=i.childLanes=536870912,Iv(r,i,g!==null?g.baseLanes|l:l,l)}else g!==null?(mc(i,g.cachePool),Ny(i,g),Ai(),i.memoizedState=null):(r!==null&&mc(i,null),cd(),Ai());return Ft(r,i,h,l),i.child}function Iv(r,i,l,u){var h=id();return h=h===null?null:{parent:Nt._currentValue,pool:h},i.memoizedState={baseLanes:l,cachePool:h},r!==null&&mc(i,null),cd(),vv(i),r!==null&&lo(r,i,u,!0),null}function Oc(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function Od(r,i,l,u,h){return za(i),l=dd(r,i,l,u,void 0,h),u=md(),r!==null&&!kt?(pd(r,i,h),Kr(r,i,h)):(Ye&&u&&Xh(i),i.flags|=1,Ft(r,i,l,h),i.child)}function Mv(r,i,l,u,h,g){return za(i),i.updateQueue=null,l=Iy(i,u,l,h),Oy(r),u=md(),r!==null&&!kt?(pd(r,i,g),Kr(r,i,g)):(Ye&&u&&Xh(i),i.flags|=1,Ft(r,i,l,g),i.child)}function Vv(r,i,l,u,h){if(za(i),i.stateNode===null){var g=Vs,w=l.contextType;typeof w=="object"&&w!==null&&(g=Wt(w)),g=new l(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Dd,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},sd(i),w=l.contextType,g.context=typeof w=="object"&&w!==null?Wt(w):Vs,g.state=i.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Cd(i,l,w,u),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Dd.enqueueReplaceState(g,g.state,null),po(i,u,g,h),mo(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){g=i.stateNode;var C=i.memoizedProps,U=Ha(l,C);g.props=U;var Y=g.context,ee=l.contextType;w=Vs,typeof ee=="object"&&ee!==null&&(w=Wt(ee));var ie=l.getDerivedStateFromProps;ee=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||Y!==w)&&_v(i,g,u,w),Ei=!1;var K=i.memoizedState;g.state=K,po(i,u,g,h),mo(),Y=i.memoizedState,C||K!==Y||Ei?(typeof ie=="function"&&(Cd(i,l,ie,u),Y=i.memoizedState),(U=Ei||bv(i,l,U,u,K,Y,w))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=Y),g.props=u,g.state=Y,g.context=w,u=U):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,ld(r,i),w=i.memoizedProps,ee=Ha(l,w),g.props=ee,ie=i.pendingProps,K=g.context,Y=l.contextType,U=Vs,typeof Y=="object"&&Y!==null&&(U=Wt(Y)),C=l.getDerivedStateFromProps,(Y=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ie||K!==U)&&_v(i,g,u,U),Ei=!1,K=i.memoizedState,g.state=K,po(i,u,g,h),mo();var Z=i.memoizedState;w!==ie||K!==Z||Ei||r!==null&&r.dependencies!==null&&hc(r.dependencies)?(typeof C=="function"&&(Cd(i,l,C,u),Z=i.memoizedState),(ee=Ei||bv(i,l,ee,u,K,Z,U)||r!==null&&r.dependencies!==null&&hc(r.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,U)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Z),g.props=u,g.state=Z,g.context=U,u=ee):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&K===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&K===r.memoizedState||(i.flags|=1024),u=!1)}return g=u,Oc(r,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,r!==null&&u?(i.child=Fs(i,r.child,null,h),i.child=Fs(i,null,l,h)):Ft(r,i,l,h),i.memoizedState=g.state,r=i.child):r=Kr(r,i,h),r}function jv(r,i,l,u){return ao(),i.flags|=256,Ft(r,i,l,u),i.child}var Id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Md(r){return{baseLanes:r,cachePool:xy()}}function Vd(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=$n),r}function Lv(r,i,l){var u=i.pendingProps,h=!1,g=(i.flags&128)!==0,w;if((w=g)||(w=r!==null&&r.memoizedState===null?!1:(Ot.current&2)!==0),w&&(h=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,r===null){if(Ye){if(h?Si(i):Ai(),Ye){var C=pt,U;if(U=C){e:{for(U=C,C=pr;U.nodeType!==8;){if(!C){C=null;break e}if(U=Xn(U.nextSibling),U===null){C=null;break e}}C=U}C!==null?(i.memoizedState={dehydrated:C,treeContext:ja!==null?{id:Hr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},U=En(18,null,null,0),U.stateNode=C,U.return=i,i.child=U,on=i,pt=null,U=!0):U=!1}U||Pa(i)}if(C=i.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return ym(C)?i.lanes=32:i.lanes=536870912,null;Yr(i)}return C=u.children,u=u.fallback,h?(Ai(),h=i.mode,C=Ic({mode:"hidden",children:C},h),u=Va(u,h,l,null),C.return=i,u.return=i,C.sibling=u,i.child=C,h=i.child,h.memoizedState=Md(l),h.childLanes=Vd(r,w,l),i.memoizedState=Id,u):(Si(i),jd(i,C))}if(U=r.memoizedState,U!==null&&(C=U.dehydrated,C!==null)){if(g)i.flags&256?(Si(i),i.flags&=-257,i=Ld(r,i,l)):i.memoizedState!==null?(Ai(),i.child=r.child,i.flags|=128,i=null):(Ai(),h=u.fallback,C=i.mode,u=Ic({mode:"visible",children:u.children},C),h=Va(h,C,l,null),h.flags|=2,u.return=i,h.return=i,u.sibling=h,i.child=u,Fs(i,r.child,null,l),u=i.child,u.memoizedState=Md(l),u.childLanes=Vd(r,w,l),i.memoizedState=Id,i=h);else if(Si(i),ym(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var Y=w.dgst;w=Y,u=Error(a(419)),u.stack="",u.digest=w,so({value:u,source:null,stack:null}),i=Ld(r,i,l)}else if(kt||lo(r,i,l,!1),w=(l&r.childLanes)!==0,kt||w){if(w=at,w!==null&&(u=l&-l,u=(u&42)!==0?1:di(u),u=(u&(w.suspendedLanes|l))!==0?0:u,u!==0&&u!==U.retryLane))throw U.retryLane=u,Ms(r,u),An(w,r,u),Rv;C.data==="$?"||em(),i=Ld(r,i,l)}else C.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=U.treeContext,pt=Xn(C.nextSibling),on=i,Ye=!0,ka=null,pr=!1,r!==null&&(Un[zn++]=Hr,Un[zn++]=Fr,Un[zn++]=ja,Hr=r.id,Fr=r.overflow,ja=i),i=jd(i,u.children),i.flags|=4096);return i}return h?(Ai(),h=u.fallback,C=i.mode,U=r.child,Y=U.sibling,u=$r(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Y!==null?h=$r(Y,h):(h=Va(h,C,l,null),h.flags|=2),h.return=i,u.return=i,u.sibling=h,i.child=u,u=h,h=i.child,C=r.child.memoizedState,C===null?C=Md(l):(U=C.cachePool,U!==null?(Y=Nt._currentValue,U=U.parent!==Y?{parent:Y,pool:Y}:U):U=xy(),C={baseLanes:C.baseLanes|l,cachePool:U}),h.memoizedState=C,h.childLanes=Vd(r,w,l),i.memoizedState=Id,u):(Si(i),l=r.child,r=l.sibling,l=$r(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,r!==null&&(w=i.deletions,w===null?(i.deletions=[r],i.flags|=16):w.push(r)),i.child=l,i.memoizedState=null,l)}function jd(r,i){return i=Ic({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Ic(r,i){return r=En(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Ld(r,i,l){return Fs(i,r.child,null,l),r=jd(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function kv(r,i,l){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),ed(r.return,i,l)}function kd(r,i,l,u,h){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:h}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=l,g.tailMode=h)}function Pv(r,i,l){var u=i.pendingProps,h=u.revealOrder,g=u.tail;if(Ft(r,i,u.children,l),u=Ot.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&kv(r,l,i);else if(r.tag===19)kv(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(le(Ot,u),h){case"forwards":for(l=i.child,h=null;l!==null;)r=l.alternate,r!==null&&Cc(r)===null&&(h=l),l=l.sibling;l=h,l===null?(h=i.child,i.child=null):(h=l.sibling,l.sibling=null),kd(i,!1,h,l,g);break;case"backwards":for(l=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&Cc(r)===null){i.child=h;break}r=h.sibling,h.sibling=l,l=h,h=r}kd(i,!0,l,null,g);break;case"together":kd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Kr(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),Oi|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(lo(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(a(153));if(i.child!==null){for(r=i.child,l=$r(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=$r(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function Pd(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&hc(r)))}function HT(r,i,l){switch(i.tag){case 3:Ae(i,i.stateNode.containerInfo),_i(i,Nt,r.memoizedState.cache),ao();break;case 27:case 5:Ge(i);break;case 4:Ae(i,i.stateNode.containerInfo);break;case 10:_i(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Si(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Lv(r,i,l):(Si(i),r=Kr(r,i,l),r!==null?r.sibling:null);Si(i);break;case 19:var h=(r.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(lo(r,i,l,!1),u=(l&i.childLanes)!==0),h){if(u)return Pv(r,i,l);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(Ot,Ot.current),u)break;return null;case 22:case 23:return i.lanes=0,Ov(r,i,l);case 24:_i(i,Nt,r.memoizedState.cache)}return Kr(r,i,l)}function Uv(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)kt=!0;else{if(!Pd(r,l)&&(i.flags&128)===0)return kt=!1,HT(r,i,l);kt=(r.flags&131072)!==0}else kt=!1,Ye&&(i.flags&1048576)!==0&&py(i,fc,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var u=i.elementType,h=u._init;if(u=h(u._payload),i.type=u,typeof u=="function")Qh(u)?(r=Ha(u,r),i.tag=1,i=Vv(null,i,u,r,l)):(i.tag=0,i=Od(null,i,u,r,l));else{if(u!=null){if(h=u.$$typeof,h===W){i.tag=11,i=Cv(null,i,u,r,l);break e}else if(h===L){i.tag=14,i=Dv(null,i,u,r,l);break e}}throw i=De(u)||u,Error(a(306,i,""))}}return i;case 0:return Od(r,i,i.type,i.pendingProps,l);case 1:return u=i.type,h=Ha(u,i.pendingProps),Vv(r,i,u,h,l);case 3:e:{if(Ae(i,i.stateNode.containerInfo),r===null)throw Error(a(387));u=i.pendingProps;var g=i.memoizedState;h=g.element,ld(r,i),po(i,u,null,l);var w=i.memoizedState;if(u=w.cache,_i(i,Nt,u),u!==g.cache&&td(i,[Nt],l,!0),mo(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=jv(r,i,u,l);break e}else if(u!==h){h=kn(Error(a(424)),i),so(h),i=jv(r,i,u,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(pt=Xn(r.firstChild),on=i,Ye=!0,ka=null,pr=!0,l=yv(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ao(),u===h){i=Kr(r,i,l);break e}Ft(r,i,u,l)}i=i.child}return i;case 26:return Oc(r,i),r===null?(l=H0(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ye||(l=i.type,r=i.pendingProps,u=Gc(de.current).createElement(l),u[Rt]=i,u[xt]=r,Gt(u,l,r),vt(u),i.stateNode=u):i.memoizedState=H0(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Ge(i),r===null&&Ye&&(u=i.stateNode=z0(i.type,i.pendingProps,de.current),on=i,pr=!0,h=pt,ji(i.type)?(vm=h,pt=Xn(u.firstChild)):pt=h),Ft(r,i,i.pendingProps.children,l),Oc(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Ye&&((h=u=pt)&&(u=yw(u,i.type,i.pendingProps,pr),u!==null?(i.stateNode=u,on=i,pt=Xn(u.firstChild),pr=!1,h=!0):h=!1),h||Pa(i)),Ge(i),h=i.type,g=i.pendingProps,w=r!==null?r.memoizedProps:null,u=g.children,mm(h,g)?u=null:w!==null&&mm(h,w)&&(i.flags|=32),i.memoizedState!==null&&(h=dd(r,i,jT,null,null,l),ko._currentValue=h),Oc(r,i),Ft(r,i,u,l),i.child;case 6:return r===null&&Ye&&((r=l=pt)&&(l=vw(l,i.pendingProps,pr),l!==null?(i.stateNode=l,on=i,pt=null,r=!0):r=!1),r||Pa(i)),null;case 13:return Lv(r,i,l);case 4:return Ae(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=Fs(i,null,u,l):Ft(r,i,u,l),i.child;case 11:return Cv(r,i,i.type,i.pendingProps,l);case 7:return Ft(r,i,i.pendingProps,l),i.child;case 8:return Ft(r,i,i.pendingProps.children,l),i.child;case 12:return Ft(r,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,_i(i,i.type,u.value),Ft(r,i,u.children,l),i.child;case 9:return h=i.type._context,u=i.pendingProps.children,za(i),h=Wt(h),u=u(h),i.flags|=1,Ft(r,i,u,l),i.child;case 14:return Dv(r,i,i.type,i.pendingProps,l);case 15:return Nv(r,i,i.type,i.pendingProps,l);case 19:return Pv(r,i,l);case 31:return u=i.pendingProps,l=i.mode,u={mode:u.mode,children:u.children},r===null?(l=Ic(u,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=$r(r.child,u),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return Ov(r,i,l);case 24:return za(i),u=Wt(Nt),r===null?(h=id(),h===null&&(h=at,g=nd(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=l),h=g),i.memoizedState={parent:u,cache:h},sd(i),_i(i,Nt,h)):((r.lanes&l)!==0&&(ld(r,i),po(i,null,null,l),mo()),h=r.memoizedState,g=i.memoizedState,h.parent!==u?(h={parent:u,cache:u},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_i(i,Nt,u)):(u=g.cache,_i(i,Nt,u),u!==h.cache&&td(i,[Nt],l,!0))),Ft(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Xr(r){r.flags|=4}function zv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Y0(i)){if(i=Bn.current,i!==null&&((He&4194048)===He?gr!==null:(He&62914560)!==He&&(He&536870912)===0||i!==gr))throw fo=ad,Ty;r.flags|=8192}}function Mc(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Pl():536870912,r.lanes|=i,Ys|=i)}function xo(r,i){if(!Ye)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ht(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(i)for(var h=r.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=l,i}function FT(r,i,l){var u=i.pendingProps;switch(Zh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(i),null;case 1:return ht(i),null;case 3:return l=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Gr(Nt),ft(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(io(i)?Xr(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vy())),ht(i),null;case 26:return l=i.memoizedState,r===null?(Xr(i),l!==null?(ht(i),zv(i,l)):(ht(i),i.flags&=-16777217)):l?l!==r.memoizedState?(Xr(i),ht(i),zv(i,l)):(ht(i),i.flags&=-16777217):(r.memoizedProps!==u&&Xr(i),ht(i),i.flags&=-16777217),null;case 27:Dr(i),l=de.current;var h=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Xr(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return ht(i),null}r=se.current,io(i)?gy(i):(r=z0(h,u,l),i.stateNode=r,Xr(i))}return ht(i),null;case 5:if(Dr(i),l=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&Xr(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return ht(i),null}if(r=se.current,io(i))gy(i);else{switch(h=Gc(de.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(l,{is:u.is}):h.createElement(l)}}r[Rt]=i,r[xt]=u;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=r;e:switch(Gt(r,l,u),l){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Xr(i)}}return ht(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&Xr(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(r=de.current,io(i)){if(r=i.stateNode,l=i.memoizedProps,u=null,h=on,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Rt]=i,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||M0(r.nodeValue,l)),r||Pa(i)}else r=Gc(r).createTextNode(u),r[Rt]=i,i.stateNode=r}return ht(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=io(i),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Rt]=i}else ao(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),h=!1}else h=vy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Yr(i),i):(Yr(i),null)}if(Yr(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=u!==null,r=r!==null&&r.memoizedState!==null,l){u=i.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return l!==r&&l&&(i.child.flags|=8192),Mc(i,i.updateQueue),ht(i),null;case 4:return ft(),r===null&&um(i.stateNode.containerInfo),ht(i),null;case 10:return Gr(i.type),ht(i),null;case 19:if(fe(Ot),h=i.memoizedState,h===null)return ht(i),null;if(u=(i.flags&128)!==0,g=h.rendering,g===null)if(u)xo(h,!1);else{if(gt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(g=Cc(r),g!==null){for(i.flags|=128,xo(h,!1),r=g.updateQueue,i.updateQueue=r,Mc(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)my(l,r),l=l.sibling;return le(Ot,Ot.current&1|2),i.child}r=r.sibling}h.tail!==null&&On()>Lc&&(i.flags|=128,u=!0,xo(h,!1),i.lanes=4194304)}else{if(!u)if(r=Cc(g),r!==null){if(i.flags|=128,u=!0,r=r.updateQueue,i.updateQueue=r,Mc(i,r),xo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Ye)return ht(i),null}else 2*On()-h.renderingStartTime>Lc&&l!==536870912&&(i.flags|=128,u=!0,xo(h,!1),i.lanes=4194304);h.isBackwards?(g.sibling=i.child,i.child=g):(r=h.last,r!==null?r.sibling=g:i.child=g,h.last=g)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=On(),i.sibling=null,r=Ot.current,le(Ot,u?r&1|2:r&1),i):(ht(i),null);case 22:case 23:return Yr(i),fd(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(ht(i),i.subtreeFlags&6&&(i.flags|=8192)):ht(i),l=i.updateQueue,l!==null&&Mc(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),r!==null&&fe(Ba),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gr(Nt),ht(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function qT(r,i){switch(Zh(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Gr(Nt),ft(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Dr(i),null;case 13:if(Yr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ao()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return fe(Ot),null;case 4:return ft(),null;case 10:return Gr(i.type),null;case 22:case 23:return Yr(i),fd(),r!==null&&fe(Ba),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Gr(Nt),null;case 25:return null;default:return null}}function Bv(r,i){switch(Zh(i),i.tag){case 3:Gr(Nt),ft();break;case 26:case 27:case 5:Dr(i);break;case 4:ft();break;case 13:Yr(i);break;case 19:fe(Ot);break;case 10:Gr(i.type);break;case 22:case 23:Yr(i),fd(),r!==null&&fe(Ba);break;case 24:Gr(Nt)}}function To(r,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&r)===r){u=void 0;var g=l.create,w=l.inst;u=g(),w.destroy=u}l=l.next}while(l!==h)}}catch(C){it(i,i.return,C)}}function Ri(r,i,l){try{var u=i.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&r)===r){var w=u.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,h=i;var U=l,Y=C;try{Y()}catch(ee){it(h,U,ee)}}}u=u.next}while(u!==g)}}catch(ee){it(i,i.return,ee)}}function $v(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{Dy(i,l)}catch(u){it(r,r.return,u)}}}function Hv(r,i,l){l.props=Ha(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){it(r,i,u)}}function wo(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(h){it(r,i,h)}}function yr(r,i){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(h){it(r,i,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){it(r,i,h)}else l.current=null}function Fv(r){var i=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(h){it(r,r.return,h)}}function Ud(r,i,l){try{var u=r.stateNode;hw(u,r.type,l,i),u[xt]=i}catch(h){it(r,r.return,h)}}function qv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ji(r.type)||r.tag===4}function zd(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||qv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ji(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bd(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=qc));else if(u!==4&&(u===27&&ji(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(Bd(r,i,l),r=r.sibling;r!==null;)Bd(r,i,l),r=r.sibling}function Vc(r,i,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(u!==4&&(u===27&&ji(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Vc(r,i,l),r=r.sibling;r!==null;)Vc(r,i,l),r=r.sibling}function Gv(r){var i=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,u,l),i[Rt]=r,i[xt]=l}catch(g){it(r,r.return,g)}}var Zr=!1,_t=!1,$d=!1,Qv=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function GT(r,i){if(r=r.containerInfo,hm=Wc,r=iy(r),zh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,C=-1,U=-1,Y=0,ee=0,ie=r,K=null;t:for(;;){for(var Z;ie!==l||h!==0&&ie.nodeType!==3||(C=w+h),ie!==g||u!==0&&ie.nodeType!==3||(U=w+u),ie.nodeType===3&&(w+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)K=ie,ie=Z;for(;;){if(ie===r)break t;if(K===l&&++Y===h&&(C=w),K===g&&++ee===u&&(U=w),(Z=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=Z}l=C===-1||U===-1?null:{start:C,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(dm={focusedElem:r,selectionRange:l},Wc=!1,Pt=i;Pt!==null;)if(i=Pt,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Pt=r;else for(;Pt!==null;){switch(i=Pt,g=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,l=i,h=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var Se=Ha(l.type,h,l.elementType===l.type);r=u.getSnapshotBeforeUpdate(Se,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(xe){it(l,l.return,xe)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)gm(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":gm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=i.sibling,r!==null){r.return=i.return,Pt=r;break}Pt=i.return}}function Yv(r,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ci(r,l),u&4&&To(5,l);break;case 1:if(Ci(r,l),u&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(w){it(l,l.return,w)}else{var h=Ha(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(h,i,r.__reactInternalSnapshotBeforeUpdate)}catch(w){it(l,l.return,w)}}u&64&&$v(l),u&512&&wo(l,l.return);break;case 3:if(Ci(r,l),u&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Dy(r,i)}catch(w){it(l,l.return,w)}}break;case 27:i===null&&u&4&&Gv(l);case 26:case 5:Ci(r,l),i===null&&u&4&&Fv(l),u&512&&wo(l,l.return);break;case 12:Ci(r,l);break;case 13:Ci(r,l),u&4&&Zv(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=tw.bind(null,l),bw(r,l))));break;case 22:if(u=l.memoizedState!==null||Zr,!u){i=i!==null&&i.memoizedState!==null||_t,h=Zr;var g=_t;Zr=u,(_t=i)&&!g?Di(r,l,(l.subtreeFlags&8772)!==0):Ci(r,l),Zr=h,_t=g}break;case 30:break;default:Ci(r,l)}}function Kv(r){var i=r.alternate;i!==null&&(r.alternate=null,Kv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&gi(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var lt=null,mn=!1;function Wr(r,i,l){for(l=l.child;l!==null;)Xv(r,i,l),l=l.sibling}function Xv(r,i,l){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(mt,l)}catch{}switch(l.tag){case 26:_t||yr(l,i),Wr(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:_t||yr(l,i);var u=lt,h=mn;ji(l.type)&&(lt=l.stateNode,mn=!1),Wr(r,i,l),Mo(l.stateNode),lt=u,mn=h;break;case 5:_t||yr(l,i);case 6:if(u=lt,h=mn,lt=null,Wr(r,i,l),lt=u,mn=h,lt!==null)if(mn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(l.stateNode)}catch(g){it(l,i,g)}else try{lt.removeChild(l.stateNode)}catch(g){it(l,i,g)}break;case 18:lt!==null&&(mn?(r=lt,P0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Bo(r)):P0(lt,l.stateNode));break;case 4:u=lt,h=mn,lt=l.stateNode.containerInfo,mn=!0,Wr(r,i,l),lt=u,mn=h;break;case 0:case 11:case 14:case 15:_t||Ri(2,l,i),_t||Ri(4,l,i),Wr(r,i,l);break;case 1:_t||(yr(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Hv(l,i,u)),Wr(r,i,l);break;case 21:Wr(r,i,l);break;case 22:_t=(u=_t)||l.memoizedState!==null,Wr(r,i,l),_t=u;break;default:Wr(r,i,l)}}function Zv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Bo(r)}catch(l){it(i,i.return,l)}}function QT(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Qv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Qv),i;default:throw Error(a(435,r.tag))}}function Hd(r,i){var l=QT(r);i.forEach(function(u){var h=nw.bind(null,r,u);l.has(u)||(l.add(u),u.then(h,h))})}function xn(r,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var h=l[u],g=r,w=i,C=w;e:for(;C!==null;){switch(C.tag){case 27:if(ji(C.type)){lt=C.stateNode,mn=!1;break e}break;case 5:lt=C.stateNode,mn=!1;break e;case 3:case 4:lt=C.stateNode.containerInfo,mn=!0;break e}C=C.return}if(lt===null)throw Error(a(160));Xv(g,w,h),lt=null,mn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Wv(i,r),i=i.sibling}var Kn=null;function Wv(r,i){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:xn(i,r),Tn(r),u&4&&(Ri(3,r,r.return),To(3,r),Ri(5,r,r.return));break;case 1:xn(i,r),Tn(r),u&512&&(_t||l===null||yr(l,l.return)),u&64&&Zr&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var h=Kn;if(xn(i,r),Tn(r),u&512&&(_t||l===null||yr(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[va]||g[Rt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),Gt(g,u,l),g[Rt]=r,vt(g),u=g;break e;case"link":var w=G0("link","href",h).get(u+(l.href||""));if(w){for(var C=0;C<w.length;C++)if(g=w[C],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(C,1);break t}}g=h.createElement(u),Gt(g,u,l),h.head.appendChild(g);break;case"meta":if(w=G0("meta","content",h).get(u+(l.content||""))){for(C=0;C<w.length;C++)if(g=w[C],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(C,1);break t}}g=h.createElement(u),Gt(g,u,l),h.head.appendChild(g);break;default:throw Error(a(468,u))}g[Rt]=r,vt(g),u=g}r.stateNode=u}else Q0(h,r.type,r.stateNode);else r.stateNode=q0(h,u,r.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?Q0(h,r.type,r.stateNode):q0(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Ud(r,r.memoizedProps,l.memoizedProps)}break;case 27:xn(i,r),Tn(r),u&512&&(_t||l===null||yr(l,l.return)),l!==null&&u&4&&Ud(r,r.memoizedProps,l.memoizedProps);break;case 5:if(xn(i,r),Tn(r),u&512&&(_t||l===null||yr(l,l.return)),r.flags&32){h=r.stateNode;try{Mn(h,"")}catch(Z){it(r,r.return,Z)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,Ud(r,h,l!==null?l.memoizedProps:h)),u&1024&&($d=!0);break;case 6:if(xn(i,r),Tn(r),u&4){if(r.stateNode===null)throw Error(a(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(Z){it(r,r.return,Z)}}break;case 3:if(Kc=null,h=Kn,Kn=Qc(i.containerInfo),xn(i,r),Kn=h,Tn(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Bo(i.containerInfo)}catch(Z){it(r,r.return,Z)}$d&&($d=!1,Jv(r));break;case 4:u=Kn,Kn=Qc(r.stateNode.containerInfo),xn(i,r),Tn(r),Kn=u;break;case 12:xn(i,r),Tn(r);break;case 13:xn(i,r),Tn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Kd=On()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Hd(r,u)));break;case 22:h=r.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,Y=Zr,ee=_t;if(Zr=Y||h,_t=ee||U,xn(i,r),_t=ee,Zr=Y,Tn(r),u&8192)e:for(i=r.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(l===null||U||Zr||_t||Fa(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){U=l=i;try{if(g=U.stateNode,h)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=U.stateNode;var ie=U.memoizedProps.style,K=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;C.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Z){it(U,U.return,Z)}}}else if(i.tag===6){if(l===null){U=i;try{U.stateNode.nodeValue=h?"":U.memoizedProps}catch(Z){it(U,U.return,Z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Hd(r,l))));break;case 19:xn(i,r),Tn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Hd(r,u)));break;case 30:break;case 21:break;default:xn(i,r),Tn(r)}}function Tn(r){var i=r.flags;if(i&2){try{for(var l,u=r.return;u!==null;){if(qv(u)){l=u;break}u=u.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var h=l.stateNode,g=zd(r);Vc(r,g,h);break;case 5:var w=l.stateNode;l.flags&32&&(Mn(w,""),l.flags&=-33);var C=zd(r);Vc(r,C,w);break;case 3:case 4:var U=l.stateNode.containerInfo,Y=zd(r);Bd(r,Y,U);break;default:throw Error(a(161))}}catch(ee){it(r,r.return,ee)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Jv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Jv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Ci(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Yv(r,i.alternate,i),i=i.sibling}function Fa(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Ri(4,i,i.return),Fa(i);break;case 1:yr(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Hv(i,i.return,l),Fa(i);break;case 27:Mo(i.stateNode);case 26:case 5:yr(i,i.return),Fa(i);break;case 22:i.memoizedState===null&&Fa(i);break;case 30:Fa(i);break;default:Fa(i)}r=r.sibling}}function Di(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,h=r,g=i,w=g.flags;switch(g.tag){case 0:case 11:case 15:Di(h,g,l),To(4,g);break;case 1:if(Di(h,g,l),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){it(u,u.return,Y)}if(u=g,h=u.updateQueue,h!==null){var C=u.stateNode;try{var U=h.shared.hiddenCallbacks;if(U!==null)for(h.shared.hiddenCallbacks=null,h=0;h<U.length;h++)Cy(U[h],C)}catch(Y){it(u,u.return,Y)}}l&&w&64&&$v(g),wo(g,g.return);break;case 27:Gv(g);case 26:case 5:Di(h,g,l),l&&u===null&&w&4&&Fv(g),wo(g,g.return);break;case 12:Di(h,g,l);break;case 13:Di(h,g,l),l&&w&4&&Zv(h,g);break;case 22:g.memoizedState===null&&Di(h,g,l),wo(g,g.return);break;case 30:break;default:Di(h,g,l)}i=i.sibling}}function Fd(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&oo(l))}function qd(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&oo(r))}function vr(r,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e0(r,i,l,u),i=i.sibling}function e0(r,i,l,u){var h=i.flags;switch(i.tag){case 0:case 11:case 15:vr(r,i,l,u),h&2048&&To(9,i);break;case 1:vr(r,i,l,u);break;case 3:vr(r,i,l,u),h&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&oo(r)));break;case 12:if(h&2048){vr(r,i,l,u),r=i.stateNode;try{var g=i.memoizedProps,w=g.id,C=g.onPostCommit;typeof C=="function"&&C(w,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){it(i,i.return,U)}}else vr(r,i,l,u);break;case 13:vr(r,i,l,u);break;case 23:break;case 22:g=i.stateNode,w=i.alternate,i.memoizedState!==null?g._visibility&2?vr(r,i,l,u):So(r,i):g._visibility&2?vr(r,i,l,u):(g._visibility|=2,qs(r,i,l,u,(i.subtreeFlags&10256)!==0)),h&2048&&Fd(w,i);break;case 24:vr(r,i,l,u),h&2048&&qd(i.alternate,i);break;default:vr(r,i,l,u)}}function qs(r,i,l,u,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=r,w=i,C=l,U=u,Y=w.flags;switch(w.tag){case 0:case 11:case 15:qs(g,w,C,U,h),To(8,w);break;case 23:break;case 22:var ee=w.stateNode;w.memoizedState!==null?ee._visibility&2?qs(g,w,C,U,h):So(g,w):(ee._visibility|=2,qs(g,w,C,U,h)),h&&Y&2048&&Fd(w.alternate,w);break;case 24:qs(g,w,C,U,h),h&&Y&2048&&qd(w.alternate,w);break;default:qs(g,w,C,U,h)}i=i.sibling}}function So(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,u=i,h=u.flags;switch(u.tag){case 22:So(l,u),h&2048&&Fd(u.alternate,u);break;case 24:So(l,u),h&2048&&qd(u.alternate,u);break;default:So(l,u)}i=i.sibling}}var Ao=8192;function Gs(r){if(r.subtreeFlags&Ao)for(r=r.child;r!==null;)t0(r),r=r.sibling}function t0(r){switch(r.tag){case 26:Gs(r),r.flags&Ao&&r.memoizedState!==null&&Iw(Kn,r.memoizedState,r.memoizedProps);break;case 5:Gs(r);break;case 3:case 4:var i=Kn;Kn=Qc(r.stateNode.containerInfo),Gs(r),Kn=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Ao,Ao=16777216,Gs(r),Ao=i):Gs(r));break;default:Gs(r)}}function n0(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Ro(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Pt=u,i0(u,r)}n0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)r0(r),r=r.sibling}function r0(r){switch(r.tag){case 0:case 11:case 15:Ro(r),r.flags&2048&&Ri(9,r,r.return);break;case 3:Ro(r);break;case 12:Ro(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,jc(r)):Ro(r);break;default:Ro(r)}}function jc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];Pt=u,i0(u,r)}n0(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Ri(8,i,i.return),jc(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,jc(i));break;default:jc(i)}r=r.sibling}}function i0(r,i){for(;Pt!==null;){var l=Pt;switch(l.tag){case 0:case 11:case 15:Ri(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:oo(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Pt=u;else e:for(l=r;Pt!==null;){u=Pt;var h=u.sibling,g=u.return;if(Kv(u),u===l){Pt=null;break e}if(h!==null){h.return=g,Pt=h;break e}Pt=g}}}var YT={getCacheForType:function(r){var i=Wt(Nt),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l}},KT=typeof WeakMap=="function"?WeakMap:Map,We=0,at=null,je=null,He=0,Je=0,wn=null,Ni=!1,Qs=!1,Gd=!1,Jr=0,gt=0,Oi=0,qa=0,Qd=0,$n=0,Ys=0,Co=null,pn=null,Yd=!1,Kd=0,Lc=1/0,kc=null,Ii=null,qt=0,Mi=null,Ks=null,Xs=0,Xd=0,Zd=null,a0=null,Do=0,Wd=null;function Sn(){if((We&2)!==0&&He!==0)return He&-He;if(X.T!==null){var r=ks;return r!==0?r:am()}return mi()}function s0(){$n===0&&($n=(He&536870912)===0||Ye?kl():536870912);var r=Bn.current;return r!==null&&(r.flags|=32),$n}function An(r,i,l){(r===at&&(Je===2||Je===9)||r.cancelPendingCommit!==null)&&(Zs(r,0),Vi(r,He,$n,!1)),Or(r,l),((We&2)===0||r!==at)&&(r===at&&((We&2)===0&&(qa|=l),gt===4&&Vi(r,He,$n,!1)),br(r))}function l0(r,i,l){if((We&6)!==0)throw Error(a(327));var u=!l&&(i&124)===0&&(i&r.expiredLanes)===0||ya(r,i),h=u?WT(r,i):tm(r,i,!0),g=u;do{if(h===0){Qs&&!u&&Vi(r,i,0,!1);break}else{if(l=r.current.alternate,g&&!XT(l)){h=tm(r,i,!1),g=!1;continue}if(h===2){if(g=i,r.errorRecoveryDisabledLanes&g)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var C=r;h=Co;var U=C.current.memoizedState.isDehydrated;if(U&&(Zs(C,w).flags|=256),w=tm(C,w,!1),w!==2){if(Gd&&!U){C.errorRecoveryDisabledLanes|=g,qa|=g,h=4;break e}g=pn,pn=h,g!==null&&(pn===null?pn=g:pn.push.apply(pn,g))}h=w}if(g=!1,h!==2)continue}}if(h===1){Zs(r,0),Vi(r,i,0,!0);break}e:{switch(u=r,g=h,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Vi(u,i,$n,!Ni);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Kd+300-On(),10<h)){if(Vi(u,i,$n,!Ni),ms(u,0,!0)!==0)break e;u.timeoutHandle=L0(o0.bind(null,u,l,pn,kc,Yd,i,$n,qa,Ys,Ni,g,2,-0,0),h);break e}o0(u,l,pn,kc,Yd,i,$n,qa,Ys,Ni,g,0,-0,0)}}break}while(!0);br(r)}function o0(r,i,l,u,h,g,w,C,U,Y,ee,ie,K,Z){if(r.timeoutHandle=-1,ie=i.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Lo={stylesheets:null,count:0,unsuspend:Ow},t0(i),ie=Mw(),ie!==null)){r.cancelPendingCommit=ie(p0.bind(null,r,i,g,l,u,h,w,C,U,ee,1,K,Z)),Vi(r,g,w,!Y);return}p0(r,i,g,l,u,h,w,C,U)}function XT(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var h=l[u],g=h.getSnapshot;h=h.value;try{if(!_n(g(),h))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Vi(r,i,l,u){i&=~Qd,i&=~qa,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var h=i;0<h;){var g=31-Zt(h),w=1<<g;u[g]=-1,h&=~w}l!==0&&ir(r,l,i)}function Pc(){return(We&6)===0?(No(0),!1):!0}function Jd(){if(je!==null){if(Je===0)var r=je.return;else r=je,qr=Ua=null,gd(r),Hs=null,_o=0,r=je;for(;r!==null;)Bv(r.alternate,r),r=r.return;je=null}}function Zs(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,mw(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Jd(),at=r,je=l=$r(r.current,null),He=i,Je=0,wn=null,Ni=!1,Qs=ya(r,i),Gd=!1,Ys=$n=Qd=qa=Oi=gt=0,pn=Co=null,Yd=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var h=31-Zt(u),g=1<<h;i|=r[h],u&=~g}return Jr=i,sc(),l}function u0(r,i){Ie=null,X.H=Sc,i===co||i===pc?(i=Ay(),Je=3):i===Ty?(i=Ay(),Je=4):Je=i===Rv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,je===null&&(gt=1,Nc(r,kn(i,r.current)))}function c0(){var r=X.H;return X.H=Sc,r===null?Sc:r}function f0(){var r=X.A;return X.A=YT,r}function em(){gt=4,Ni||(He&4194048)!==He&&Bn.current!==null||(Qs=!0),(Oi&134217727)===0&&(qa&134217727)===0||at===null||Vi(at,He,$n,!1)}function tm(r,i,l){var u=We;We|=2;var h=c0(),g=f0();(at!==r||He!==i)&&(kc=null,Zs(r,i)),i=!1;var w=gt;e:do try{if(Je!==0&&je!==null){var C=je,U=wn;switch(Je){case 8:Jd(),w=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(i=!0);var Y=Je;if(Je=0,wn=null,Ws(r,C,U,Y),l&&Qs){w=0;break e}break;default:Y=Je,Je=0,wn=null,Ws(r,C,U,Y)}}ZT(),w=gt;break}catch(ee){u0(r,ee)}while(!0);return i&&r.shellSuspendCounter++,qr=Ua=null,We=u,X.H=h,X.A=g,je===null&&(at=null,He=0,sc()),w}function ZT(){for(;je!==null;)h0(je)}function WT(r,i){var l=We;We|=2;var u=c0(),h=f0();at!==r||He!==i?(kc=null,Lc=On()+500,Zs(r,i)):Qs=ya(r,i);e:do try{if(Je!==0&&je!==null){i=je;var g=wn;t:switch(Je){case 1:Je=0,wn=null,Ws(r,i,g,1);break;case 2:case 9:if(wy(g)){Je=0,wn=null,d0(i);break}i=function(){Je!==2&&Je!==9||at!==r||(Je=7),br(r)},g.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:wy(g)?(Je=0,wn=null,d0(i)):(Je=0,wn=null,Ws(r,i,g,7));break;case 5:var w=null;switch(je.tag){case 26:w=je.memoizedState;case 5:case 27:var C=je;if(!w||Y0(w)){Je=0,wn=null;var U=C.sibling;if(U!==null)je=U;else{var Y=C.return;Y!==null?(je=Y,Uc(Y)):je=null}break t}}Je=0,wn=null,Ws(r,i,g,5);break;case 6:Je=0,wn=null,Ws(r,i,g,6);break;case 8:Jd(),gt=6;break e;default:throw Error(a(462))}}JT();break}catch(ee){u0(r,ee)}while(!0);return qr=Ua=null,X.H=u,X.A=h,We=l,je!==null?0:(at=null,He=0,sc(),gt)}function JT(){for(;je!==null&&!Ml();)h0(je)}function h0(r){var i=Uv(r.alternate,r,Jr);r.memoizedProps=r.pendingProps,i===null?Uc(r):je=i}function d0(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=Mv(l,i,i.pendingProps,i.type,void 0,He);break;case 11:i=Mv(l,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:gd(i);default:Bv(l,i),i=je=my(i,Jr),i=Uv(l,i,Jr)}r.memoizedProps=r.pendingProps,i===null?Uc(r):je=i}function Ws(r,i,l,u){qr=Ua=null,gd(i),Hs=null,_o=0;var h=i.return;try{if($T(r,h,i,l,He)){gt=1,Nc(r,kn(l,r.current)),je=null;return}}catch(g){if(h!==null)throw je=h,g;gt=1,Nc(r,kn(l,r.current)),je=null;return}i.flags&32768?(Ye||u===1?r=!0:Qs||(He&536870912)!==0?r=!1:(Ni=r=!0,(u===2||u===9||u===3||u===6)&&(u=Bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),m0(i,r)):Uc(i)}function Uc(r){var i=r;do{if((i.flags&32768)!==0){m0(i,Ni);return}r=i.return;var l=FT(i.alternate,i,Jr);if(l!==null){je=l;return}if(i=i.sibling,i!==null){je=i;return}je=i=r}while(i!==null);gt===0&&(gt=5)}function m0(r,i){do{var l=qT(r.alternate,r);if(l!==null){l.flags&=32767,je=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){je=r;return}je=r=l}while(r!==null);gt=6,je=null}function p0(r,i,l,u,h,g,w,C,U){r.cancelPendingCommit=null;do zc();while(qt!==0);if((We&6)!==0)throw Error(a(327));if(i!==null){if(i===r.current)throw Error(a(177));if(g=i.lanes|i.childLanes,g|=qh,Ul(r,l,g,w,C,U),r===at&&(je=at=null,He=0),Ks=i,Mi=r,Xs=l,Xd=g,Zd=h,a0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,rw(da,function(){return _0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,h=ue.p,ue.p=2,w=We,We|=4;try{GT(r,i,l)}finally{We=w,ue.p=h,X.T=u}}qt=1,g0(),y0(),v0()}}function g0(){if(qt===1){qt=0;var r=Mi,i=Ks,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var u=ue.p;ue.p=2;var h=We;We|=4;try{Wv(i,r);var g=dm,w=iy(r.containerInfo),C=g.focusedElem,U=g.selectionRange;if(w!==C&&C&&C.ownerDocument&&ry(C.ownerDocument.documentElement,C)){if(U!==null&&zh(C)){var Y=U.start,ee=U.end;if(ee===void 0&&(ee=Y),"selectionStart"in C)C.selectionStart=Y,C.selectionEnd=Math.min(ee,C.value.length);else{var ie=C.ownerDocument||document,K=ie&&ie.defaultView||window;if(K.getSelection){var Z=K.getSelection(),Se=C.textContent.length,xe=Math.min(U.start,Se),rt=U.end===void 0?xe:Math.min(U.end,Se);!Z.extend&&xe>rt&&(w=rt,rt=xe,xe=w);var F=ny(C,xe),H=ny(C,rt);if(F&&H&&(Z.rangeCount!==1||Z.anchorNode!==F.node||Z.anchorOffset!==F.offset||Z.focusNode!==H.node||Z.focusOffset!==H.offset)){var Q=ie.createRange();Q.setStart(F.node,F.offset),Z.removeAllRanges(),xe>rt?(Z.addRange(Q),Z.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),Z.addRange(Q))}}}}for(ie=[],Z=C;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ie.length;C++){var te=ie[C];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Wc=!!hm,dm=hm=null}finally{We=h,ue.p=u,X.T=l}}r.current=i,qt=2}}function y0(){if(qt===2){qt=0;var r=Mi,i=Ks,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var u=ue.p;ue.p=2;var h=We;We|=4;try{Yv(r,i.alternate,i)}finally{We=h,ue.p=u,X.T=l}}qt=3}}function v0(){if(qt===4||qt===3){qt=0,ju();var r=Mi,i=Ks,l=Xs,u=a0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,Ks=Mi=null,b0(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(Ii=null),ps(l),i=i.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(mt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=X.T,h=ue.p,ue.p=2,X.T=null;try{for(var g=r.onRecoverableError,w=0;w<u.length;w++){var C=u[w];g(C.value,{componentStack:C.stack})}}finally{X.T=i,ue.p=h}}(Xs&3)!==0&&zc(),br(r),h=r.pendingLanes,(l&4194090)!==0&&(h&42)!==0?r===Wd?Do++:(Do=0,Wd=r):Do=0,No(0)}}function b0(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,oo(i)))}function zc(r){return g0(),y0(),v0(),_0()}function _0(){if(qt!==5)return!1;var r=Mi,i=Xd;Xd=0;var l=ps(Xs),u=X.T,h=ue.p;try{ue.p=32>l?32:l,X.T=null,l=Zd,Zd=null;var g=Mi,w=Xs;if(qt=0,Ks=Mi=null,Xs=0,(We&6)!==0)throw Error(a(331));var C=We;if(We|=4,r0(g.current),e0(g,g.current,w,l),We=C,No(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(mt,g)}catch{}return!0}finally{ue.p=h,X.T=u,b0(r,i)}}function E0(r,i,l){i=kn(l,i),i=Nd(r.stateNode,i,2),r=Ti(r,i,2),r!==null&&(Or(r,2),br(r))}function it(r,i,l){if(r.tag===3)E0(r,r,l);else for(;i!==null;){if(i.tag===3){E0(i,r,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ii===null||!Ii.has(u))){r=kn(l,r),l=Sv(2),u=Ti(i,l,2),u!==null&&(Av(l,u,i,r),Or(u,2),br(u));break}}i=i.return}}function nm(r,i,l){var u=r.pingCache;if(u===null){u=r.pingCache=new KT;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(l)||(Gd=!0,h.add(l),r=ew.bind(null,r,i,l),i.then(r,r))}function ew(r,i,l){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,at===r&&(He&l)===l&&(gt===4||gt===3&&(He&62914560)===He&&300>On()-Kd?(We&2)===0&&Zs(r,0):Qd|=l,Ys===He&&(Ys=0)),br(r)}function x0(r,i){i===0&&(i=Pl()),r=Ms(r,i),r!==null&&(Or(r,i),br(r))}function tw(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),x0(r,l)}function nw(r,i){var l=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(l=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),x0(r,l)}function rw(r,i){return fa(r,i)}var Bc=null,Js=null,rm=!1,$c=!1,im=!1,Ga=0;function br(r){r!==Js&&r.next===null&&(Js===null?Bc=Js=r:Js=Js.next=r),$c=!0,rm||(rm=!0,aw())}function No(r,i){if(!im&&$c){im=!0;do for(var l=!1,u=Bc;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var w=u.suspendedLanes,C=u.pingedLanes;g=(1<<31-Zt(42|r)+1)-1,g&=h&~(w&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,A0(u,g))}else g=He,g=ms(u,u===at?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ya(u,g)||(l=!0,A0(u,g));u=u.next}while(l);im=!1}}function iw(){T0()}function T0(){$c=rm=!1;var r=0;Ga!==0&&(dw()&&(r=Ga),Ga=0);for(var i=On(),l=null,u=Bc;u!==null;){var h=u.next,g=w0(u,i);g===0?(u.next=null,l===null?Bc=h:l.next=h,h===null&&(Js=l)):(l=u,(r!==0||(g&3)!==0)&&($c=!0)),u=h}No(r)}function w0(r,i){for(var l=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var w=31-Zt(g),C=1<<w,U=h[w];U===-1?((C&l)===0||(C&u)!==0)&&(h[w]=Ll(C,i)):U<=i&&(r.expiredLanes|=C),g&=~C}if(i=at,l=He,l=ms(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===i&&(Je===2||Je===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&ha(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||ya(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(u!==null&&ha(u),ps(l)){case 2:case 8:l=hs;break;case 32:l=da;break;case 268435456:l=ds;break;default:l=da}return u=S0.bind(null,r),l=fa(l,u),r.callbackPriority=i,r.callbackNode=l,i}return u!==null&&u!==null&&ha(u),r.callbackPriority=2,r.callbackNode=null,2}function S0(r,i){if(qt!==0&&qt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(zc()&&r.callbackNode!==l)return null;var u=He;return u=ms(r,r===at?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(l0(r,u,i),w0(r,On()),r.callbackNode!=null&&r.callbackNode===l?S0.bind(null,r):null)}function A0(r,i){if(zc())return null;l0(r,i,!0)}function aw(){pw(function(){(We&6)!==0?fa(Vl,iw):T0()})}function am(){return Ga===0&&(Ga=kl()),Ga}function R0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Es(""+r)}function C0(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function sw(r,i,l,u,h){if(i==="submit"&&l&&l.stateNode===h){var g=R0((h[xt]||null).action),w=u.submitter;w&&(i=(i=w[xt]||null)?R0(i.formAction):w.getAttribute("formAction"),i!==null&&(g=i,w=null));var C=new xs("action","action",null,u,h);r.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ga!==0){var U=w?C0(h,w):new FormData(h);Sd(l,{pending:!0,data:U,method:h.method,action:g},null,U)}}else typeof g=="function"&&(C.preventDefault(),U=w?C0(h,w):new FormData(h),Sd(l,{pending:!0,data:U,method:h.method,action:g},g,U))},currentTarget:h}]})}}for(var sm=0;sm<Fh.length;sm++){var lm=Fh[sm],lw=lm.toLowerCase(),ow=lm[0].toUpperCase()+lm.slice(1);Yn(lw,"on"+ow)}Yn(ly,"onAnimationEnd"),Yn(oy,"onAnimationIteration"),Yn(uy,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(ST,"onTransitionRun"),Yn(AT,"onTransitionStart"),Yn(RT,"onTransitionCancel"),Yn(cy,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oo));function D0(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],h=u.event;u=u.listeners;e:{var g=void 0;if(i)for(var w=u.length-1;0<=w;w--){var C=u[w],U=C.instance,Y=C.currentTarget;if(C=C.listener,U!==g&&h.isPropagationStopped())break e;g=C,h.currentTarget=Y;try{g(h)}catch(ee){Dc(ee)}h.currentTarget=null,g=U}else for(w=0;w<u.length;w++){if(C=u[w],U=C.instance,Y=C.currentTarget,C=C.listener,U!==g&&h.isPropagationStopped())break e;g=C,h.currentTarget=Y;try{g(h)}catch(ee){Dc(ee)}h.currentTarget=null,g=U}}}}function Le(r,i){var l=i[Bl];l===void 0&&(l=i[Bl]=new Set);var u=r+"__bubble";l.has(u)||(N0(i,r,2,!1),l.add(u))}function om(r,i,l){var u=0;i&&(u|=4),N0(l,r,u,i)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function um(r){if(!r[Hc]){r[Hc]=!0,$l.forEach(function(l){l!=="selectionchange"&&(uw.has(l)||om(l,!1,r),om(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Hc]||(i[Hc]=!0,om("selectionchange",!1,i))}}function N0(r,i,l,u){switch(eb(i)){case 2:var h=Lw;break;case 8:h=kw;break;default:h=Tm}l=h.bind(null,i,l,r),h=void 0,!jn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(i,l,{capture:!0,passive:h}):r.addEventListener(i,l,!0):h!==void 0?r.addEventListener(i,l,{passive:h}):r.addEventListener(i,l,!1)}function cm(r,i,l,u,h){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var C=u.stateNode.containerInfo;if(C===h)break;if(w===4)for(w=u.return;w!==null;){var U=w.tag;if((U===3||U===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;C!==null;){if(w=Ir(C),w===null)return;if(U=w.tag,U===5||U===6||U===26||U===27){u=g=w;continue e}C=C.parentNode}}u=u.return}qu(function(){var Y=g,ee=Vn(l),ie=[];e:{var K=fy.get(r);if(K!==void 0){var Z=xs,Se=r;switch(r){case"keypress":if(cr(l)===0)break e;case"keydown":case"keyup":Z=Cs;break;case"focusin":Se="focus",Z=Ss;break;case"focusout":Se="blur",Z=Ss;break;case"beforeblur":case"afterblur":Z=Ss;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Ju;break;case ly:case oy:case uy:Z=As;break;case cy:Z=tc;break;case"scroll":case"scrollend":Z=Gu;break;case"wheel":Z=Ds;break;case"copy":case"cut":case"paste":Z=Rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=eo;break;case"toggle":case"beforetoggle":Z=rc}var xe=(i&4)!==0,rt=!xe&&(r==="scroll"||r==="scrollend"),F=xe?K!==null?K+"Capture":null:K;xe=[];for(var H=Y,Q;H!==null;){var te=H;if(Q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Q===null||F===null||(te=Sa(H,F),te!=null&&xe.push(Io(H,te,Q))),rt)break;H=H.return}0<xe.length&&(K=new Z(K,Se,null,l,ee),ie.push({event:K,listeners:xe}))}}if((i&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",K&&l!==Lr&&(Se=l.relatedTarget||l.fromElement)&&(Ir(Se)||Se[In]))break e;if((Z||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,Z?(Se=l.relatedTarget||l.toElement,Z=Y,Se=Se?Ir(Se):null,Se!==null&&(rt=o(Se),xe=Se.tag,Se!==rt||xe!==5&&xe!==27&&xe!==6)&&(Se=null)):(Z=null,Se=Y),Z!==Se)){if(xe=Ln,te="onMouseLeave",F="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(xe=eo,te="onPointerLeave",F="onPointerEnter",H="pointer"),rt=Z==null?K:sr(Z),Q=Se==null?K:sr(Se),K=new xe(te,H+"leave",Z,l,ee),K.target=rt,K.relatedTarget=Q,te=null,Ir(ee)===Y&&(xe=new xe(F,H+"enter",Se,l,ee),xe.target=Q,xe.relatedTarget=rt,te=xe),rt=te,Z&&Se)t:{for(xe=Z,F=Se,H=0,Q=xe;Q;Q=el(Q))H++;for(Q=0,te=F;te;te=el(te))Q++;for(;0<H-Q;)xe=el(xe),H--;for(;0<Q-H;)F=el(F),Q--;for(;H--;){if(xe===F||F!==null&&xe===F.alternate)break t;xe=el(xe),F=el(F)}xe=null}else xe=null;Z!==null&&O0(ie,K,Z,xe,!1),Se!==null&&rt!==null&&O0(ie,rt,Se,xe,!0)}}e:{if(K=Y?sr(Y):window,Z=K.nodeName&&K.nodeName.toLowerCase(),Z==="select"||Z==="input"&&K.type==="file")var ye=Xg;else if(Dt(K))if(Zg)ye=xT;else{ye=_T;var Ve=bT}else Z=K.nodeName,!Z||Z.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&Ql(Y.elementType)&&(ye=Xg):ye=ET;if(ye&&(ye=ye(r,Y))){Br(ie,ye,l,ee);break e}Ve&&Ve(r,K,Y),r==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&vi(K,"number",K.value)}switch(Ve=Y?sr(Y):window,r){case"focusin":(Dt(Ve)||Ve.contentEditable==="true")&&(Ns=Ve,Bh=Y,ro=null);break;case"focusout":ro=Bh=Ns=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,ay(ie,l,ee);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":ay(ie,l,ee)}var ve;if(dr)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Be?J(r,l)&&(Te="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(b&&l.locale!=="ko"&&(Be||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Be&&(ve=Kl()):(ur=ee,bi="value"in ur?ur.value:ur.textContent,Be=!0)),Ve=Fc(Y,Te),0<Ve.length&&(Te=new Wl(Te,r,null,l,ee),ie.push({event:Te,listeners:Ve}),ve?Te.data=ve:(ve=he(l),ve!==null&&(Te.data=ve)))),(ve=v?Ct(r,l):$e(r,l))&&(Te=Fc(Y,"onBeforeInput"),0<Te.length&&(Ve=new Wl("onBeforeInput","beforeinput",null,l,ee),ie.push({event:Ve,listeners:Te}),Ve.data=ve)),sw(ie,r,Y,l,ee)}D0(ie,i)})}function Io(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Fc(r,i){for(var l=i+"Capture",u=[];r!==null;){var h=r,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Sa(r,l),h!=null&&u.unshift(Io(r,h,g)),h=Sa(r,i),h!=null&&u.push(Io(r,h,g))),r.tag===3)return u;r=r.return}return[]}function el(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function O0(r,i,l,u,h){for(var g=i._reactName,w=[];l!==null&&l!==u;){var C=l,U=C.alternate,Y=C.stateNode;if(C=C.tag,U!==null&&U===u)break;C!==5&&C!==26&&C!==27||Y===null||(U=Y,h?(Y=Sa(l,g),Y!=null&&w.unshift(Io(l,Y,U))):h||(Y=Sa(l,g),Y!=null&&w.push(Io(l,Y,U)))),l=l.return}w.length!==0&&r.push({event:i,listeners:w})}var cw=/\r\n?/g,fw=/\u0000|\uFFFD/g;function I0(r){return(typeof r=="string"?r:""+r).replace(cw,`
`).replace(fw,"")}function M0(r,i){return i=I0(i),I0(r)===i}function qc(){}function nt(r,i,l,u,h,g){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Mn(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Mn(r,""+u);break;case"className":lr(r,"class",u);break;case"tabIndex":lr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(r,l,u);break;case"style":Gl(r,u,g);break;case"data":if(i!=="object"){lr(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Es(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(i!=="input"&&nt(r,i,"name",h.name,h,null),nt(r,i,"formEncType",h.formEncType,h,null),nt(r,i,"formMethod",h.formMethod,h,null),nt(r,i,"formTarget",h.formTarget,h,null)):(nt(r,i,"encType",h.encType,h,null),nt(r,i,"method",h.method,h,null),nt(r,i,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=Es(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=qc);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=Es(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":Le("beforetoggle",r),Le("toggle",r),yi(r,"popover",u);break;case"xlinkActuate":$t(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":$t(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":$t(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":$t(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":$t(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":$t(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":$t(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":$t(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":$t(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":yi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Vh.get(l)||l,yi(r,l,u))}}function fm(r,i,l,u,h,g){switch(l){case"style":Gl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(a(60));r.innerHTML=l}}break;case"children":typeof u=="string"?Mn(r,u):(typeof u=="number"||typeof u=="bigint")&&Mn(r,""+u);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"onClick":u!=null&&(r.onclick=qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gs.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),i=l.slice(2,h?l.length-7:void 0),g=r[xt]||null,g=g!=null?g[l]:null,typeof g=="function"&&r.removeEventListener(i,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,u,h);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):yi(r,l,u)}}}function Gt(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var u=!1,h=!1,g;for(g in l)if(l.hasOwnProperty(g)){var w=l[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:nt(r,i,g,w,l,null)}}h&&nt(r,i,"srcSet",l.srcSet,l,null),u&&nt(r,i,"src",l.src,l,null);return;case"input":Le("invalid",r);var C=g=w=h=null,U=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var ee=l[u];if(ee!=null)switch(u){case"name":h=ee;break;case"type":w=ee;break;case"checked":U=ee;break;case"defaultChecked":Y=ee;break;case"value":g=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,i));break;default:nt(r,i,u,ee,l,null)}}xa(r,g,C,U,Y,w,h,!1),_s(r);return;case"select":Le("invalid",r),u=w=g=null;for(h in l)if(l.hasOwnProperty(h)&&(C=l[h],C!=null))switch(h){case"value":g=C;break;case"defaultValue":w=C;break;case"multiple":u=C;default:nt(r,i,h,C,l,null)}i=g,l=w,r.multiple=!!u,i!=null?jr(r,!!u,i,!1):l!=null&&jr(r,!!u,l,!0);return;case"textarea":Le("invalid",r),g=h=u=null;for(w in l)if(l.hasOwnProperty(w)&&(C=l[w],C!=null))switch(w){case"value":u=C;break;case"defaultValue":h=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:nt(r,i,w,C,l,null)}Ta(r,u,h,g),_s(r);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(u=l[U],u!=null))switch(U){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:nt(r,i,U,u,l,null)}return;case"dialog":Le("beforetoggle",r),Le("toggle",r),Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(u=0;u<Oo.length;u++)Le(Oo[u],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:nt(r,i,Y,u,l,null)}return;default:if(Ql(i)){for(ee in l)l.hasOwnProperty(ee)&&(u=l[ee],u!==void 0&&fm(r,i,ee,u,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(u=l[C],u!=null&&nt(r,i,C,u,l,null))}function hw(r,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,w=null,C=null,U=null,Y=null,ee=null;for(Z in l){var ie=l[Z];if(l.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":U=ie;default:u.hasOwnProperty(Z)||nt(r,i,Z,null,u,ie)}}for(var K in u){var Z=u[K];if(ie=l[K],u.hasOwnProperty(K)&&(Z!=null||ie!=null))switch(K){case"type":g=Z;break;case"name":h=Z;break;case"checked":Y=Z;break;case"defaultChecked":ee=Z;break;case"value":w=Z;break;case"defaultValue":C=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Z!==ie&&nt(r,i,K,Z,u,ie)}}bn(r,w,C,U,Y,ee,g,h);return;case"select":Z=w=C=K=null;for(g in l)if(U=l[g],l.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":Z=U;default:u.hasOwnProperty(g)||nt(r,i,g,null,u,U)}for(h in u)if(g=u[h],U=l[h],u.hasOwnProperty(h)&&(g!=null||U!=null))switch(h){case"value":K=g;break;case"defaultValue":C=g;break;case"multiple":w=g;default:g!==U&&nt(r,i,h,g,u,U)}i=C,l=w,u=Z,K!=null?jr(r,!!l,K,!1):!!u!=!!l&&(i!=null?jr(r,!!l,i,!0):jr(r,!!l,l?[]:"",!1));return;case"textarea":Z=K=null;for(C in l)if(h=l[C],l.hasOwnProperty(C)&&h!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:nt(r,i,C,null,u,h)}for(w in u)if(h=u[w],g=l[w],u.hasOwnProperty(w)&&(h!=null||g!=null))switch(w){case"value":K=h;break;case"defaultValue":Z=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==g&&nt(r,i,w,h,u,g)}et(r,K,Z);return;case"option":for(var Se in l)if(K=l[Se],l.hasOwnProperty(Se)&&K!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":r.selected=!1;break;default:nt(r,i,Se,null,u,K)}for(U in u)if(K=u[U],Z=l[U],u.hasOwnProperty(U)&&K!==Z&&(K!=null||Z!=null))switch(U){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:nt(r,i,U,K,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in l)K=l[xe],l.hasOwnProperty(xe)&&K!=null&&!u.hasOwnProperty(xe)&&nt(r,i,xe,null,u,K);for(Y in u)if(K=u[Y],Z=l[Y],u.hasOwnProperty(Y)&&K!==Z&&(K!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:nt(r,i,Y,K,u,Z)}return;default:if(Ql(i)){for(var rt in l)K=l[rt],l.hasOwnProperty(rt)&&K!==void 0&&!u.hasOwnProperty(rt)&&fm(r,i,rt,void 0,u,K);for(ee in u)K=u[ee],Z=l[ee],!u.hasOwnProperty(ee)||K===Z||K===void 0&&Z===void 0||fm(r,i,ee,K,u,Z);return}}for(var F in l)K=l[F],l.hasOwnProperty(F)&&K!=null&&!u.hasOwnProperty(F)&&nt(r,i,F,null,u,K);for(ie in u)K=u[ie],Z=l[ie],!u.hasOwnProperty(ie)||K===Z||K==null&&Z==null||nt(r,i,ie,K,u,Z)}var hm=null,dm=null;function Gc(r){return r.nodeType===9?r:r.ownerDocument}function V0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j0(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function mm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pm=null;function dw(){var r=window.event;return r&&r.type==="popstate"?r===pm?!1:(pm=r,!0):(pm=null,!1)}var L0=typeof setTimeout=="function"?setTimeout:void 0,mw=typeof clearTimeout=="function"?clearTimeout:void 0,k0=typeof Promise=="function"?Promise:void 0,pw=typeof queueMicrotask=="function"?queueMicrotask:typeof k0<"u"?function(r){return k0.resolve(null).then(r).catch(gw)}:L0;function gw(r){setTimeout(function(){throw r})}function ji(r){return r==="head"}function P0(r,i){var l=i,u=0,h=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<u&&8>u){l=u;var w=r.ownerDocument;if(l&1&&Mo(w.documentElement),l&2&&Mo(w.body),l&4)for(l=w.head,Mo(l),w=l.firstChild;w;){var C=w.nextSibling,U=w.nodeName;w[va]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=C}}if(h===0){r.removeChild(g),Bo(i);return}h--}else l==="$"||l==="$?"||l==="$!"?h++:u=l.charCodeAt(0)-48;else u=0;l=g}while(l);Bo(i)}function gm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":gm(l),gi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function yw(r,i,l,u){for(;r.nodeType===1;){var h=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[va])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Xn(r.nextSibling),r===null)break}return null}function vw(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Xn(r.nextSibling),r===null))return null;return r}function ym(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function bw(r,i){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Xn(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var vm=null;function U0(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return r;i--}else l==="/$"&&i++}r=r.previousSibling}return null}function z0(r,i,l){switch(i=Gc(l),r){case"html":if(r=i.documentElement,!r)throw Error(a(452));return r;case"head":if(r=i.head,!r)throw Error(a(453));return r;case"body":if(r=i.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function Mo(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);gi(r)}var Hn=new Map,B0=new Set;function Qc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ei=ue.d;ue.d={f:_w,r:Ew,D:xw,C:Tw,L:ww,m:Sw,X:Rw,S:Aw,M:Cw};function _w(){var r=ei.f(),i=Pc();return r||i}function Ew(r){var i=ar(r);i!==null&&i.tag===5&&i.type==="form"?lv(i):ei.r(r)}var tl=typeof document>"u"?null:document;function $0(r,i,l){var u=tl;if(u&&typeof i=="string"&&i){var h=Tt(i);h='link[rel="'+r+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),B0.has(h)||(B0.add(h),r={rel:r,crossOrigin:l,href:i},u.querySelector(h)===null&&(i=u.createElement("link"),Gt(i,"link",r),vt(i),u.head.appendChild(i)))}}function xw(r){ei.D(r),$0("dns-prefetch",r,null)}function Tw(r,i){ei.C(r,i),$0("preconnect",r,i)}function ww(r,i,l){ei.L(r,i,l);var u=tl;if(u&&r&&i){var h='link[rel="preload"][as="'+Tt(i)+'"]';i==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+Tt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+Tt(l.imageSizes)+'"]')):h+='[href="'+Tt(r)+'"]';var g=h;switch(i){case"style":g=nl(r);break;case"script":g=rl(r)}Hn.has(g)||(r=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),Hn.set(g,r),u.querySelector(h)!==null||i==="style"&&u.querySelector(Vo(g))||i==="script"&&u.querySelector(jo(g))||(i=u.createElement("link"),Gt(i,"link",r),vt(i),u.head.appendChild(i)))}}function Sw(r,i){ei.m(r,i);var l=tl;if(l&&r){var u=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Tt(u)+'"][href="'+Tt(r)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=rl(r)}if(!Hn.has(g)&&(r=y({rel:"modulepreload",href:r},i),Hn.set(g,r),l.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(jo(g)))return}u=l.createElement("link"),Gt(u,"link",r),vt(u),l.head.appendChild(u)}}}function Aw(r,i,l){ei.S(r,i,l);var u=tl;if(u&&r){var h=an(u).hoistableStyles,g=nl(r);i=i||"default";var w=h.get(g);if(!w){var C={loading:0,preload:null};if(w=u.querySelector(Vo(g)))C.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":i},l),(l=Hn.get(g))&&bm(r,l);var U=w=u.createElement("link");vt(U),Gt(U,"link",r),U._p=new Promise(function(Y,ee){U.onload=Y,U.onerror=ee}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Yc(w,i,u)}w={type:"stylesheet",instance:w,count:1,state:C},h.set(g,w)}}}function Rw(r,i){ei.X(r,i);var l=tl;if(l&&r){var u=an(l).hoistableScripts,h=rl(r),g=u.get(h);g||(g=l.querySelector(jo(h)),g||(r=y({src:r,async:!0},i),(i=Hn.get(h))&&_m(r,i),g=l.createElement("script"),vt(g),Gt(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function Cw(r,i){ei.M(r,i);var l=tl;if(l&&r){var u=an(l).hoistableScripts,h=rl(r),g=u.get(h);g||(g=l.querySelector(jo(h)),g||(r=y({src:r,async:!0,type:"module"},i),(i=Hn.get(h))&&_m(r,i),g=l.createElement("script"),vt(g),Gt(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function H0(r,i,l,u){var h=(h=de.current)?Qc(h):null;if(!h)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=nl(l.href),l=an(h).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=nl(l.href);var g=an(h).hoistableStyles,w=g.get(r);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,w),(g=h.querySelector(Vo(r)))&&!g._p&&(w.instance=g,w.state.loading=5),Hn.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Hn.set(r,l),g||Dw(h,r,l,w.state))),i&&u===null)throw Error(a(528,""));return w}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=rl(l),l=an(h).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function nl(r){return'href="'+Tt(r)+'"'}function Vo(r){return'link[rel="stylesheet"]['+r+"]"}function F0(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function Dw(r,i,l,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Gt(i,"link",l),vt(i),r.head.appendChild(i))}function rl(r){return'[src="'+Tt(r)+'"]'}function jo(r){return"script[async]"+r}function q0(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+Tt(l.href)+'"]');if(u)return i.instance=u,vt(u),u;var h=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),vt(u),Gt(u,"style",h),Yc(u,l.precedence,r),i.instance=u;case"stylesheet":h=nl(l.href);var g=r.querySelector(Vo(h));if(g)return i.state.loading|=4,i.instance=g,vt(g),g;u=F0(l),(h=Hn.get(h))&&bm(u,h),g=(r.ownerDocument||r).createElement("link"),vt(g);var w=g;return w._p=new Promise(function(C,U){w.onload=C,w.onerror=U}),Gt(g,"link",u),i.state.loading|=4,Yc(g,l.precedence,r),i.instance=g;case"script":return g=rl(l.src),(h=r.querySelector(jo(g)))?(i.instance=h,vt(h),h):(u=l,(h=Hn.get(g))&&(u=y({},l),_m(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),vt(h),Gt(h,"link",u),r.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Yc(u,l.precedence,r));return i.instance}function Yc(r,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,w=0;w<u.length;w++){var C=u[w];if(C.dataset.precedence===i)g=C;else if(g!==h)break}g?g.parentNode.insertBefore(r,g.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function bm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function _m(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Kc=null;function G0(r,i,l){if(Kc===null){var u=new Map,h=Kc=new Map;h.set(l,u)}else h=Kc,u=h.get(l),u||(u=new Map,h.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),h=0;h<l.length;h++){var g=l[h];if(!(g[va]||g[Rt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(i)||"";w=r+w;var C=u.get(w);C?C.push(g):u.set(w,[g])}}return u}function Q0(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function Nw(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Y0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Lo=null;function Ow(){}function Iw(r,i,l){if(Lo===null)throw Error(a(475));var u=Lo;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=nl(l.href),g=r.querySelector(Vo(h));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Xc.bind(u),r.then(u,u)),i.state.loading|=4,i.instance=g,vt(g);return}g=r.ownerDocument||r,l=F0(l),(h=Hn.get(h))&&bm(l,h),g=g.createElement("link"),vt(g);var w=g;w._p=new Promise(function(C,U){w.onload=C,w.onerror=U}),Gt(g,"link",l),i.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Xc.bind(u),r.addEventListener("load",i),r.addEventListener("error",i))}}function Mw(){if(Lo===null)throw Error(a(475));var r=Lo;return r.stylesheets&&r.count===0&&Em(r,r.stylesheets),0<r.count?function(i){var l=setTimeout(function(){if(r.stylesheets&&Em(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(l)}}:null}function Xc(){if(this.count--,this.count===0){if(this.stylesheets)Em(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Zc=null;function Em(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Zc=new Map,i.forEach(Vw,r),Zc=null,Xc.call(r))}function Vw(r,i){if(!(i.state.loading&4)){var l=Zc.get(r);if(l)var u=l.get(null);else{l=new Map,Zc.set(r,l);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var w=h[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),u=w)}u&&l.set(null,u)}h=i.instance,w=h.getAttribute("data-precedence"),g=l.get(w)||u,g===u&&l.set(null,h),l.set(w,h),this.count++,u=Xc.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),i.state.loading|=4}}var ko={$$typeof:B,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function jw(r,i,l,u,h,g,w,C){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function K0(r,i,l,u,h,g,w,C,U,Y,ee,ie){return r=new jw(r,i,l,w,C,U,Y,ie),i=1,g===!0&&(i|=24),g=En(3,null,null,i),r.current=g,g.stateNode=r,i=nd(),i.refCount++,r.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:i},sd(g),r}function X0(r){return r?(r=Vs,r):Vs}function Z0(r,i,l,u,h,g){h=X0(h),u.context===null?u.context=h:u.pendingContext=h,u=xi(i),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=Ti(r,u,i),l!==null&&(An(l,r,i),ho(l,r,i))}function W0(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function xm(r,i){W0(r,i),(r=r.alternate)&&W0(r,i)}function J0(r){if(r.tag===13){var i=Ms(r,67108864);i!==null&&An(i,r,67108864),xm(r,67108864)}}var Wc=!0;function Lw(r,i,l,u){var h=X.T;X.T=null;var g=ue.p;try{ue.p=2,Tm(r,i,l,u)}finally{ue.p=g,X.T=h}}function kw(r,i,l,u){var h=X.T;X.T=null;var g=ue.p;try{ue.p=8,Tm(r,i,l,u)}finally{ue.p=g,X.T=h}}function Tm(r,i,l,u){if(Wc){var h=wm(u);if(h===null)cm(r,i,u,Jc,l),tb(r,u);else if(Uw(h,r,i,l,u))u.stopPropagation();else if(tb(r,u),i&4&&-1<Pw.indexOf(r)){for(;h!==null;){var g=ar(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=qn(g.pendingLanes);if(w!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var U=1<<31-Zt(w);C.entanglements[1]|=U,w&=~U}br(g),(We&6)===0&&(Lc=On()+500,No(0))}}break;case 13:C=Ms(g,2),C!==null&&An(C,g,2),Pc(),xm(g,2)}if(g=wm(u),g===null&&cm(r,i,u,Jc,l),g===h)break;h=g}h!==null&&u.stopPropagation()}else cm(r,i,u,null,l)}}function wm(r){return r=Vn(r),Sm(r)}var Jc=null;function Sm(r){if(Jc=null,r=Ir(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=c(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Jc=r,null}function eb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ch()){case Vl:return 2;case hs:return 8;case da:case Dh:return 32;case ds:return 268435456;default:return 32}default:return 32}}var Am=!1,Li=null,ki=null,Pi=null,Po=new Map,Uo=new Map,Ui=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tb(r,i){switch(r){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Po.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(i.pointerId)}}function zo(r,i,l,u,h,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},i!==null&&(i=ar(i),i!==null&&J0(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function Uw(r,i,l,u,h){switch(i){case"focusin":return Li=zo(Li,r,i,l,u,h),!0;case"dragenter":return ki=zo(ki,r,i,l,u,h),!0;case"mouseover":return Pi=zo(Pi,r,i,l,u,h),!0;case"pointerover":var g=h.pointerId;return Po.set(g,zo(Po.get(g)||null,r,i,l,u,h)),!0;case"gotpointercapture":return g=h.pointerId,Uo.set(g,zo(Uo.get(g)||null,r,i,l,u,h)),!0}return!1}function nb(r){var i=Ir(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){r.blockedOn=i,Pu(r.priority,function(){if(l.tag===13){var u=Sn();u=di(u);var h=Ms(l,u);h!==null&&An(h,l,u),xm(l,u)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ef(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=wm(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);Lr=u,l.target.dispatchEvent(u),Lr=null}else return i=ar(l),i!==null&&J0(i),r.blockedOn=l,!1;i.shift()}return!0}function rb(r,i,l){ef(r)&&l.delete(i)}function zw(){Am=!1,Li!==null&&ef(Li)&&(Li=null),ki!==null&&ef(ki)&&(ki=null),Pi!==null&&ef(Pi)&&(Pi=null),Po.forEach(rb),Uo.forEach(rb)}function tf(r,i){r.blockedOn===i&&(r.blockedOn=null,Am||(Am=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zw)))}var nf=null;function ib(r){nf!==r&&(nf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nf===r&&(nf=null);for(var i=0;i<r.length;i+=3){var l=r[i],u=r[i+1],h=r[i+2];if(typeof u!="function"){if(Sm(u||l)===null)continue;break}var g=ar(l);g!==null&&(r.splice(i,3),i-=3,Sd(g,{pending:!0,data:h,method:l.method,action:u},u,h))}}))}function Bo(r){function i(U){return tf(U,r)}Li!==null&&tf(Li,r),ki!==null&&tf(ki,r),Pi!==null&&tf(Pi,r),Po.forEach(i),Uo.forEach(i);for(var l=0;l<Ui.length;l++){var u=Ui[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ui.length&&(l=Ui[0],l.blockedOn===null);)nb(l),l.blockedOn===null&&Ui.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var h=l[u],g=l[u+1],w=h[xt]||null;if(typeof g=="function")w||ib(l);else if(w){var C=null;if(g&&g.hasAttribute("formAction")){if(h=g,w=g[xt]||null)C=w.formAction;else if(Sm(h)!==null)continue}else C=w.action;typeof C=="function"?l[u+1]=C:(l.splice(u,3),u-=3),ib(l)}}}function Rm(r){this._internalRoot=r}rf.prototype.render=Rm.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,u=Sn();Z0(l,u,r,i,null,null)},rf.prototype.unmount=Rm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Z0(r.current,2,null,r,null,null),Pc(),i[In]=null}};function rf(r){this._internalRoot=r}rf.prototype.unstable_scheduleHydration=function(r){if(r){var i=mi();r={blockedOn:null,target:r,priority:i};for(var l=0;l<Ui.length&&i!==0&&i<Ui[l].priority;l++);Ui.splice(l,0,r),l===0&&nb(r)}};var ab=e.version;if(ab!=="19.1.0")throw Error(a(527,ab,"19.1.0"));ue.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=m(i),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var Bw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{mt=af.inject(Bw),Ze=af}catch{}}return qo.createRoot=function(r,i){if(!s(r))throw Error(a(299));var l=!1,u="",h=Ev,g=xv,w=Tv,C=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks)),i=K0(r,1,!1,null,null,l,u,h,g,w,C,null),r[In]=i.current,um(r),new Rm(i)},qo.hydrateRoot=function(r,i,l){if(!s(r))throw Error(a(299));var u=!1,h="",g=Ev,w=xv,C=Tv,U=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),i=K0(r,1,!0,i,l??null,u,h,g,w,C,U,Y),i.context=X0(null),l=i.current,u=Sn(),u=di(u),h=xi(u),h.callback=null,Ti(l,h,u),l=u,i.current.lanes=l,Or(i,l),br(i),r[In]=i.current,um(r),new rf(i)},qo.version="19.1.0",qo}var Eb;function TA(){if(Eb)return Im.exports;Eb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Im.exports=xA(),Im.exports}var wA=TA(),Cn=A1();const SA=()=>{};var xb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=function(t){const e=[];let n=0;for(let a=0;a<t.length;a++){let s=t.charCodeAt(a);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&a+1<t.length&&(t.charCodeAt(a+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++a)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},AA=function(t){const e=[];let n=0,a=0;for(;n<t.length;){const s=t[n++];if(s<128)e[a++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[a++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],c=t[n++],d=t[n++],m=((s&7)<<18|(o&63)<<12|(c&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const o=t[n++],c=t[n++];e[a++]=String.fromCharCode((s&15)<<12|(o&63)<<6|c&63)}}return e.join("")},C1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let s=0;s<t.length;s+=3){const o=t[s],c=s+1<t.length,d=c?t[s+1]:0,m=s+2<t.length,p=m?t[s+2]:0,y=o>>2,_=(o&3)<<4|d>>4;let T=(d&15)<<2|p>>6,E=p&63;m||(E=64,c||(T=64)),a.push(n[y],n[_],n[T],n[E])}return a.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(R1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||d==null||p==null||_==null)throw new RA;const T=o<<2|d>>4;if(a.push(T),p!==64){const E=d<<4&240|p>>2;if(a.push(E),_!==64){const S=p<<6&192|_;a.push(S)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CA=function(t){const e=R1(t);return C1.encodeByteArray(e,!0)},Df=function(t){return CA(t).replace(/\./g,"")},DA=function(t){try{return C1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=()=>NA().__FIREBASE_DEFAULTS__,IA=()=>{if(typeof process>"u"||typeof xb>"u")return;const t=xb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DA(t[1]);return e&&JSON.parse(e)},Zp=()=>{try{return SA()||OA()||IA()||MA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VA=t=>{var e,n;return(n=(e=Zp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jA=t=>{const e=VA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},D1=()=>{var t;return(t=Zp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t){return t.endsWith(".cloudworkstations.dev")}async function kA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Df(JSON.stringify(n)),Df(JSON.stringify(c)),""].join(".")}const Wo={};function UA(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wo))Wo[e]?t.emulator.push(e):t.prod.push(e);return t}function zA(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Tb=!1;function BA(t,e){if(typeof window>"u"||typeof document>"u"||!Wp(window.location.host)||Wo[t]===e||Wo[t]||Tb)return;Wo[t]=e;function n(T){return`__firebase__banner__${T}`}const a="__firebase__banner",o=UA().prod.length>0;function c(){const T=document.getElementById(a);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,E){T.setAttribute("width","24"),T.setAttribute("id",E),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Tb=!0,c()},T}function y(T,E){T.setAttribute("id",E),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=zA(a),E=n("text"),S=document.getElementById(E)||document.createElement("span"),R=n("learnmore"),N=document.getElementById(R)||document.createElement("a"),V=n("preprendIcon"),I=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const B=T.element;d(B),y(N,R);const W=p();m(I,V),B.append(I,S,N,W),document.body.appendChild(B)}o?(S.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HA(){var t;const e=(t=Zp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FA(){return!HA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qA(){try{return typeof indexedDB=="object"}catch{return!1}}function GA(){return new Promise((t,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(a);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(a),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="FirebaseError";class wl extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=QA,Object.setPrototypeOf(this,wl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N1.prototype.create)}}class N1{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],c=o?YA(o,a):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new wl(s,d,a)}}function YA(t,e){return t.replace(KA,(n,a)=>{const s=e[a];return s!=null?String(s):`<${a}?>`})}const KA=/\{\$([^}]+)}/g;function Nf(t,e){if(t===e)return!0;const n=Object.keys(t),a=Object.keys(e);for(const s of n){if(!a.includes(s))return!1;const o=t[s],c=e[s];if(wb(o)&&wb(c)){if(!Nf(o,c))return!1}else if(o!==c)return!1}for(const s of a)if(!n.includes(s))return!1;return!0}function wb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){return t&&t._delegate?t._delegate:t}class lu{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new LA;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&a.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WA(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});a.resolve(o)}catch{}}}}clearInstance(e=Qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qa){return this.instances.has(e)}getOptions(e=Qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[o,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);a===d&&c.resolve(s)}return s}onInit(e,n){var a;const s=this.normalizeInstanceIdentifier(n),o=(a=this.onInitCallbacks.get(s))!==null&&a!==void 0?a:new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const s of a)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ZA(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Qa){return this.component?this.component.multipleInstances?e:Qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZA(t){return t===Qa?void 0:t}function WA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qe||(qe={}));const e2={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},t2=qe.INFO,n2={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},r2=(t,e,...n)=>{if(e<t.logLevel)return;const a=new Date().toISOString(),s=n2[e];if(s)console[s](`[${a}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class O1{constructor(e){this.name=e,this._logLevel=t2,this._logHandler=r2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const i2=(t,e)=>e.some(n=>t instanceof n);let Sb,Ab;function a2(){return Sb||(Sb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s2(){return Ab||(Ab=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I1=new WeakMap,lp=new WeakMap,M1=new WeakMap,Lm=new WeakMap,Jp=new WeakMap;function l2(t){const e=new Promise((n,a)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{n(Hi(t.result)),s()},c=()=>{a(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&I1.set(n,t)}).catch(()=>{}),Jp.set(e,t),e}function o2(t){if(lp.has(t))return;const e=new Promise((n,a)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{n(),s()},c=()=>{a(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});lp.set(t,e)}let op={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||M1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function u2(t){op=t(op)}function c2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=t.call(km(this),e,...n);return M1.set(a,e.sort?e.sort():[e]),Hi(a)}:s2().includes(t)?function(...e){return t.apply(km(this),e),Hi(I1.get(this))}:function(...e){return Hi(t.apply(km(this),e))}}function f2(t){return typeof t=="function"?c2(t):(t instanceof IDBTransaction&&o2(t),i2(t,a2())?new Proxy(t,op):t)}function Hi(t){if(t instanceof IDBRequest)return l2(t);if(Lm.has(t))return Lm.get(t);const e=f2(t);return e!==t&&(Lm.set(t,e),Jp.set(e,t)),e}const km=t=>Jp.get(t);function h2(t,e,{blocked:n,upgrade:a,blocking:s,terminated:o}={}){const c=indexedDB.open(t,e),d=Hi(c);return a&&c.addEventListener("upgradeneeded",m=>{a(Hi(c.result),m.oldVersion,m.newVersion,Hi(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{o&&m.addEventListener("close",()=>o()),s&&m.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const d2=["get","getKey","getAll","getAllKeys","count"],m2=["put","add","delete","clear"],Pm=new Map;function Rb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pm.get(e))return Pm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,s=m2.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(s||d2.includes(n)))return;const o=async function(c,...d){const m=this.transaction(c,s?"readwrite":"readonly");let p=m.store;return a&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),s&&m.done]))[0]};return Pm.set(e,o),o}u2(t=>({...t,get:(e,n,a)=>Rb(e,n)||t.get(e,n,a),has:(e,n)=>!!Rb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g2(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function g2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const up="@firebase/app",Cb="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new O1("@firebase/app"),y2="@firebase/app-compat",v2="@firebase/analytics-compat",b2="@firebase/analytics",_2="@firebase/app-check-compat",E2="@firebase/app-check",x2="@firebase/auth",T2="@firebase/auth-compat",w2="@firebase/database",S2="@firebase/data-connect",A2="@firebase/database-compat",R2="@firebase/functions",C2="@firebase/functions-compat",D2="@firebase/installations",N2="@firebase/installations-compat",O2="@firebase/messaging",I2="@firebase/messaging-compat",M2="@firebase/performance",V2="@firebase/performance-compat",j2="@firebase/remote-config",L2="@firebase/remote-config-compat",k2="@firebase/storage",P2="@firebase/storage-compat",U2="@firebase/firestore",z2="@firebase/ai",B2="@firebase/firestore-compat",$2="firebase",H2="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="[DEFAULT]",F2={[up]:"fire-core",[y2]:"fire-core-compat",[b2]:"fire-analytics",[v2]:"fire-analytics-compat",[E2]:"fire-app-check",[_2]:"fire-app-check-compat",[x2]:"fire-auth",[T2]:"fire-auth-compat",[w2]:"fire-rtdb",[S2]:"fire-data-connect",[A2]:"fire-rtdb-compat",[R2]:"fire-fn",[C2]:"fire-fn-compat",[D2]:"fire-iid",[N2]:"fire-iid-compat",[O2]:"fire-fcm",[I2]:"fire-fcm-compat",[M2]:"fire-perf",[V2]:"fire-perf-compat",[j2]:"fire-rc",[L2]:"fire-rc-compat",[k2]:"fire-gcs",[P2]:"fire-gcs-compat",[U2]:"fire-fst",[B2]:"fire-fst-compat",[z2]:"fire-vertex","fire-js":"fire-js",[$2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Map,q2=new Map,fp=new Map;function Db(t,e){try{t.container.addComponent(e)}catch(n){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function If(t){const e=t.name;if(fp.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,t);for(const n of Of.values())Db(n,t);for(const n of q2.values())Db(n,t);return!0}function G2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Q2(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new N1("app","Firebase",Y2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new lu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=H2;function V1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const a=Object.assign({name:cp,automaticDataCollectionEnabled:!0},e),s=a.name;if(typeof s!="string"||!s)throw Fi.create("bad-app-name",{appName:String(s)});if(n||(n=D1()),!n)throw Fi.create("no-options");const o=Of.get(s);if(o){if(Nf(n,o.options)&&Nf(a,o.config))return o;throw Fi.create("duplicate-app",{appName:s})}const c=new JA(s);for(const m of fp.values())c.addComponent(m);const d=new K2(n,a,c);return Of.set(s,d),d}function Z2(t=cp){const e=Of.get(t);if(!e&&t===cp&&D1())return V1();if(!e)throw Fi.create("no-app",{appName:t});return e}function ul(t,e,n){var a;let s=(a=F2[t])!==null&&a!==void 0?a:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(d.join(" "));return}If(new lu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="firebase-heartbeat-database",J2=1,ou="firebase-heartbeat-store";let Um=null;function j1(){return Um||(Um=h2(W2,J2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ou)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fi.create("idb-open",{originalErrorMessage:t.message})})),Um}async function eR(t){try{const n=(await j1()).transaction(ou),a=await n.objectStore(ou).get(L1(t));return await n.done,a}catch(e){if(e instanceof wl)ai.warn(e.message);else{const n=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(n.message)}}}async function Nb(t,e){try{const a=(await j1()).transaction(ou,"readwrite");await a.objectStore(ou).put(e,L1(t)),await a.done}catch(n){if(n instanceof wl)ai.warn(n.message);else{const a=Fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ai.warn(a.message)}}}function L1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=1024,nR=30;class rR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Ob();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>nR){const c=sR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ai.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ob(),{heartbeatsToSend:a,unsentEntries:s}=iR(this._heartbeatsCache.heartbeats),o=Df(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ai.warn(n),""}}}function Ob(){return new Date().toISOString().substring(0,10)}function iR(t,e=tR){const n=[];let a=t.slice();for(const s of t){const o=n.find(c=>c.agent===s.agent);if(o){if(o.dates.push(s.date),Ib(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ib(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class aR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qA()?GA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Nb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ib(t){return Df(JSON.stringify({version:2,heartbeats:t})).length}function sR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let a=1;a<t.length;a++)t[a].date<n&&(n=t[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){If(new lu("platform-logger",e=>new p2(e),"PRIVATE")),If(new lu("heartbeat",e=>new rR(e),"PRIVATE")),ul(up,Cb,t),ul(up,Cb,"esm2017"),ul("fire-js","")}lR("");var Mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,k1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,O){function M(){}M.prototype=O.prototype,L.D=O.prototype,L.prototype=new M,L.prototype.constructor=L,L.C=function(z,k,$){for(var j=Array(arguments.length-2),De=2;De<arguments.length;De++)j[De-2]=arguments[De];return O.prototype[k].apply(z,j)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(L,O,M){M||(M=0);var z=Array(16);if(typeof O=="string")for(var k=0;16>k;++k)z[k]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(k=0;16>k;++k)z[k]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=L.g[0],M=L.g[1],k=L.g[2];var $=L.g[3],j=O+($^M&(k^$))+z[0]+3614090360&4294967295;O=M+(j<<7&4294967295|j>>>25),j=$+(k^O&(M^k))+z[1]+3905402710&4294967295,$=O+(j<<12&4294967295|j>>>20),j=k+(M^$&(O^M))+z[2]+606105819&4294967295,k=$+(j<<17&4294967295|j>>>15),j=M+(O^k&($^O))+z[3]+3250441966&4294967295,M=k+(j<<22&4294967295|j>>>10),j=O+($^M&(k^$))+z[4]+4118548399&4294967295,O=M+(j<<7&4294967295|j>>>25),j=$+(k^O&(M^k))+z[5]+1200080426&4294967295,$=O+(j<<12&4294967295|j>>>20),j=k+(M^$&(O^M))+z[6]+2821735955&4294967295,k=$+(j<<17&4294967295|j>>>15),j=M+(O^k&($^O))+z[7]+4249261313&4294967295,M=k+(j<<22&4294967295|j>>>10),j=O+($^M&(k^$))+z[8]+1770035416&4294967295,O=M+(j<<7&4294967295|j>>>25),j=$+(k^O&(M^k))+z[9]+2336552879&4294967295,$=O+(j<<12&4294967295|j>>>20),j=k+(M^$&(O^M))+z[10]+4294925233&4294967295,k=$+(j<<17&4294967295|j>>>15),j=M+(O^k&($^O))+z[11]+2304563134&4294967295,M=k+(j<<22&4294967295|j>>>10),j=O+($^M&(k^$))+z[12]+1804603682&4294967295,O=M+(j<<7&4294967295|j>>>25),j=$+(k^O&(M^k))+z[13]+4254626195&4294967295,$=O+(j<<12&4294967295|j>>>20),j=k+(M^$&(O^M))+z[14]+2792965006&4294967295,k=$+(j<<17&4294967295|j>>>15),j=M+(O^k&($^O))+z[15]+1236535329&4294967295,M=k+(j<<22&4294967295|j>>>10),j=O+(k^$&(M^k))+z[1]+4129170786&4294967295,O=M+(j<<5&4294967295|j>>>27),j=$+(M^k&(O^M))+z[6]+3225465664&4294967295,$=O+(j<<9&4294967295|j>>>23),j=k+(O^M&($^O))+z[11]+643717713&4294967295,k=$+(j<<14&4294967295|j>>>18),j=M+($^O&(k^$))+z[0]+3921069994&4294967295,M=k+(j<<20&4294967295|j>>>12),j=O+(k^$&(M^k))+z[5]+3593408605&4294967295,O=M+(j<<5&4294967295|j>>>27),j=$+(M^k&(O^M))+z[10]+38016083&4294967295,$=O+(j<<9&4294967295|j>>>23),j=k+(O^M&($^O))+z[15]+3634488961&4294967295,k=$+(j<<14&4294967295|j>>>18),j=M+($^O&(k^$))+z[4]+3889429448&4294967295,M=k+(j<<20&4294967295|j>>>12),j=O+(k^$&(M^k))+z[9]+568446438&4294967295,O=M+(j<<5&4294967295|j>>>27),j=$+(M^k&(O^M))+z[14]+3275163606&4294967295,$=O+(j<<9&4294967295|j>>>23),j=k+(O^M&($^O))+z[3]+4107603335&4294967295,k=$+(j<<14&4294967295|j>>>18),j=M+($^O&(k^$))+z[8]+1163531501&4294967295,M=k+(j<<20&4294967295|j>>>12),j=O+(k^$&(M^k))+z[13]+2850285829&4294967295,O=M+(j<<5&4294967295|j>>>27),j=$+(M^k&(O^M))+z[2]+4243563512&4294967295,$=O+(j<<9&4294967295|j>>>23),j=k+(O^M&($^O))+z[7]+1735328473&4294967295,k=$+(j<<14&4294967295|j>>>18),j=M+($^O&(k^$))+z[12]+2368359562&4294967295,M=k+(j<<20&4294967295|j>>>12),j=O+(M^k^$)+z[5]+4294588738&4294967295,O=M+(j<<4&4294967295|j>>>28),j=$+(O^M^k)+z[8]+2272392833&4294967295,$=O+(j<<11&4294967295|j>>>21),j=k+($^O^M)+z[11]+1839030562&4294967295,k=$+(j<<16&4294967295|j>>>16),j=M+(k^$^O)+z[14]+4259657740&4294967295,M=k+(j<<23&4294967295|j>>>9),j=O+(M^k^$)+z[1]+2763975236&4294967295,O=M+(j<<4&4294967295|j>>>28),j=$+(O^M^k)+z[4]+1272893353&4294967295,$=O+(j<<11&4294967295|j>>>21),j=k+($^O^M)+z[7]+4139469664&4294967295,k=$+(j<<16&4294967295|j>>>16),j=M+(k^$^O)+z[10]+3200236656&4294967295,M=k+(j<<23&4294967295|j>>>9),j=O+(M^k^$)+z[13]+681279174&4294967295,O=M+(j<<4&4294967295|j>>>28),j=$+(O^M^k)+z[0]+3936430074&4294967295,$=O+(j<<11&4294967295|j>>>21),j=k+($^O^M)+z[3]+3572445317&4294967295,k=$+(j<<16&4294967295|j>>>16),j=M+(k^$^O)+z[6]+76029189&4294967295,M=k+(j<<23&4294967295|j>>>9),j=O+(M^k^$)+z[9]+3654602809&4294967295,O=M+(j<<4&4294967295|j>>>28),j=$+(O^M^k)+z[12]+3873151461&4294967295,$=O+(j<<11&4294967295|j>>>21),j=k+($^O^M)+z[15]+530742520&4294967295,k=$+(j<<16&4294967295|j>>>16),j=M+(k^$^O)+z[2]+3299628645&4294967295,M=k+(j<<23&4294967295|j>>>9),j=O+(k^(M|~$))+z[0]+4096336452&4294967295,O=M+(j<<6&4294967295|j>>>26),j=$+(M^(O|~k))+z[7]+1126891415&4294967295,$=O+(j<<10&4294967295|j>>>22),j=k+(O^($|~M))+z[14]+2878612391&4294967295,k=$+(j<<15&4294967295|j>>>17),j=M+($^(k|~O))+z[5]+4237533241&4294967295,M=k+(j<<21&4294967295|j>>>11),j=O+(k^(M|~$))+z[12]+1700485571&4294967295,O=M+(j<<6&4294967295|j>>>26),j=$+(M^(O|~k))+z[3]+2399980690&4294967295,$=O+(j<<10&4294967295|j>>>22),j=k+(O^($|~M))+z[10]+4293915773&4294967295,k=$+(j<<15&4294967295|j>>>17),j=M+($^(k|~O))+z[1]+2240044497&4294967295,M=k+(j<<21&4294967295|j>>>11),j=O+(k^(M|~$))+z[8]+1873313359&4294967295,O=M+(j<<6&4294967295|j>>>26),j=$+(M^(O|~k))+z[15]+4264355552&4294967295,$=O+(j<<10&4294967295|j>>>22),j=k+(O^($|~M))+z[6]+2734768916&4294967295,k=$+(j<<15&4294967295|j>>>17),j=M+($^(k|~O))+z[13]+1309151649&4294967295,M=k+(j<<21&4294967295|j>>>11),j=O+(k^(M|~$))+z[4]+4149444226&4294967295,O=M+(j<<6&4294967295|j>>>26),j=$+(M^(O|~k))+z[11]+3174756917&4294967295,$=O+(j<<10&4294967295|j>>>22),j=k+(O^($|~M))+z[2]+718787259&4294967295,k=$+(j<<15&4294967295|j>>>17),j=M+($^(k|~O))+z[9]+3951481745&4294967295,L.g[0]=L.g[0]+O&4294967295,L.g[1]=L.g[1]+(k+(j<<21&4294967295|j>>>11))&4294967295,L.g[2]=L.g[2]+k&4294967295,L.g[3]=L.g[3]+$&4294967295}a.prototype.u=function(L,O){O===void 0&&(O=L.length);for(var M=O-this.blockSize,z=this.B,k=this.h,$=0;$<O;){if(k==0)for(;$<=M;)s(this,L,$),$+=this.blockSize;if(typeof L=="string"){for(;$<O;)if(z[k++]=L.charCodeAt($++),k==this.blockSize){s(this,z),k=0;break}}else for(;$<O;)if(z[k++]=L[$++],k==this.blockSize){s(this,z),k=0;break}}this.h=k,this.o+=O},a.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var O=1;O<L.length-8;++O)L[O]=0;var M=8*this.o;for(O=L.length-8;O<L.length;++O)L[O]=M&255,M/=256;for(this.u(L),L=Array(16),O=M=0;4>O;++O)for(var z=0;32>z;z+=8)L[M++]=this.g[O]>>>z&255;return L};function o(L,O){var M=d;return Object.prototype.hasOwnProperty.call(M,L)?M[L]:M[L]=O(L)}function c(L,O){this.h=O;for(var M=[],z=!0,k=L.length-1;0<=k;k--){var $=L[k]|0;z&&$==O||(M[k]=$,z=!1)}this.g=M}var d={};function m(L){return-128<=L&&128>L?o(L,function(O){return new c([O|0],0>O?-1:0)}):new c([L|0],0>L?-1:0)}function p(L){if(isNaN(L)||!isFinite(L))return _;if(0>L)return N(p(-L));for(var O=[],M=1,z=0;L>=M;z++)O[z]=L/M|0,M*=4294967296;return new c(O,0)}function y(L,O){if(L.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(L.charAt(0)=="-")return N(y(L.substring(1),O));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=p(Math.pow(O,8)),z=_,k=0;k<L.length;k+=8){var $=Math.min(8,L.length-k),j=parseInt(L.substring(k,k+$),O);8>$?($=p(Math.pow(O,$)),z=z.j($).add(p(j))):(z=z.j(M),z=z.add(p(j)))}return z}var _=m(0),T=m(1),E=m(16777216);t=c.prototype,t.m=function(){if(R(this))return-N(this).m();for(var L=0,O=1,M=0;M<this.g.length;M++){var z=this.i(M);L+=(0<=z?z:4294967296+z)*O,O*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(S(this))return"0";if(R(this))return"-"+N(this).toString(L);for(var O=p(Math.pow(L,6)),M=this,z="";;){var k=W(M,O).g;M=V(M,k.j(O));var $=((0<M.g.length?M.g[0]:M.h)>>>0).toString(L);if(M=k,S(M))return $+z;for(;6>$.length;)$="0"+$;z=$+z}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function S(L){if(L.h!=0)return!1;for(var O=0;O<L.g.length;O++)if(L.g[O]!=0)return!1;return!0}function R(L){return L.h==-1}t.l=function(L){return L=V(this,L),R(L)?-1:S(L)?0:1};function N(L){for(var O=L.g.length,M=[],z=0;z<O;z++)M[z]=~L.g[z];return new c(M,~L.h).add(T)}t.abs=function(){return R(this)?N(this):this},t.add=function(L){for(var O=Math.max(this.g.length,L.g.length),M=[],z=0,k=0;k<=O;k++){var $=z+(this.i(k)&65535)+(L.i(k)&65535),j=($>>>16)+(this.i(k)>>>16)+(L.i(k)>>>16);z=j>>>16,$&=65535,j&=65535,M[k]=j<<16|$}return new c(M,M[M.length-1]&-2147483648?-1:0)};function V(L,O){return L.add(N(O))}t.j=function(L){if(S(this)||S(L))return _;if(R(this))return R(L)?N(this).j(N(L)):N(N(this).j(L));if(R(L))return N(this.j(N(L)));if(0>this.l(E)&&0>L.l(E))return p(this.m()*L.m());for(var O=this.g.length+L.g.length,M=[],z=0;z<2*O;z++)M[z]=0;for(z=0;z<this.g.length;z++)for(var k=0;k<L.g.length;k++){var $=this.i(z)>>>16,j=this.i(z)&65535,De=L.i(k)>>>16,pe=L.i(k)&65535;M[2*z+2*k]+=j*pe,I(M,2*z+2*k),M[2*z+2*k+1]+=$*pe,I(M,2*z+2*k+1),M[2*z+2*k+1]+=j*De,I(M,2*z+2*k+1),M[2*z+2*k+2]+=$*De,I(M,2*z+2*k+2)}for(z=0;z<O;z++)M[z]=M[2*z+1]<<16|M[2*z];for(z=O;z<2*O;z++)M[z]=0;return new c(M,0)};function I(L,O){for(;(L[O]&65535)!=L[O];)L[O+1]+=L[O]>>>16,L[O]&=65535,O++}function B(L,O){this.g=L,this.h=O}function W(L,O){if(S(O))throw Error("division by zero");if(S(L))return new B(_,_);if(R(L))return O=W(N(L),O),new B(N(O.g),N(O.h));if(R(O))return O=W(L,N(O)),new B(N(O.g),O.h);if(30<L.g.length){if(R(L)||R(O))throw Error("slowDivide_ only works with positive integers.");for(var M=T,z=O;0>=z.l(L);)M=q(M),z=q(z);var k=ne(M,1),$=ne(z,1);for(z=ne(z,2),M=ne(M,2);!S(z);){var j=$.add(z);0>=j.l(L)&&(k=k.add(M),$=j),z=ne(z,1),M=ne(M,1)}return O=V(L,k.j(O)),new B(k,O)}for(k=_;0<=L.l(O);){for(M=Math.max(1,Math.floor(L.m()/O.m())),z=Math.ceil(Math.log(M)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),$=p(M),j=$.j(O);R(j)||0<j.l(L);)M-=z,$=p(M),j=$.j(O);S($)&&($=T),k=k.add($),L=V(L,j)}return new B(k,L)}t.A=function(L){return W(this,L).h},t.and=function(L){for(var O=Math.max(this.g.length,L.g.length),M=[],z=0;z<O;z++)M[z]=this.i(z)&L.i(z);return new c(M,this.h&L.h)},t.or=function(L){for(var O=Math.max(this.g.length,L.g.length),M=[],z=0;z<O;z++)M[z]=this.i(z)|L.i(z);return new c(M,this.h|L.h)},t.xor=function(L){for(var O=Math.max(this.g.length,L.g.length),M=[],z=0;z<O;z++)M[z]=this.i(z)^L.i(z);return new c(M,this.h^L.h)};function q(L){for(var O=L.g.length+1,M=[],z=0;z<O;z++)M[z]=L.i(z)<<1|L.i(z-1)>>>31;return new c(M,L.h)}function ne(L,O){var M=O>>5;O%=32;for(var z=L.g.length-M,k=[],$=0;$<z;$++)k[$]=0<O?L.i($+M)>>>O|L.i($+M+1)<<32-O:L.i($+M);return new c(k,L.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,k1=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,qi=c}).apply(typeof Mb<"u"?Mb:typeof self<"u"?self:typeof window<"u"?window:{});var lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P1,Qo,U1,_f,hp,z1,B1,$1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,b){return f==Array.prototype||f==Object.prototype||(f[v]=b.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof lf=="object"&&lf];for(var v=0;v<f.length;++v){var b=f[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=n(this);function s(f,v){if(v)e:{var b=a;f=f.split(".");for(var D=0;D<f.length-1;D++){var G=f[D];if(!(G in b))break e;b=b[G]}f=f[f.length-1],D=b[f],v=v(D),v!=D&&v!=null&&e(b,f,{configurable:!0,writable:!0,value:v})}}function o(f,v){f instanceof String&&(f+="");var b=0,D=!1,G={next:function(){if(!D&&b<f.length){var J=b++;return{value:v(J,f[J]),done:!1}}return D=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(f){return f||function(){return o(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function p(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,b){return f.call.apply(f.bind,arguments)}function _(f,v,b){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,D),f.apply(v,G)}}return function(){return f.apply(v,arguments)}}function T(f,v,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,T.apply(null,arguments)}function E(f,v){var b=Array.prototype.slice.call(arguments,1);return function(){var D=b.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function S(f,v){function b(){}b.prototype=v.prototype,f.aa=v.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(D,G,J){for(var he=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)he[Be-2]=arguments[Be];return v.prototype[G].apply(D,he)}}function R(f){const v=f.length;if(0<v){const b=Array(v);for(let D=0;D<v;D++)b[D]=f[D];return b}return[]}function N(f,v){for(let b=1;b<arguments.length;b++){const D=arguments[b];if(m(D)){const G=f.length||0,J=D.length||0;f.length=G+J;for(let he=0;he<J;he++)f[G+he]=D[he]}else f.push(D)}}class V{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function I(f){return/^[\s\xa0]*$/.test(f)}function B(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function W(f){return W[" "](f),f}W[" "]=function(){};var q=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ne(f,v,b){for(const D in f)v.call(b,f[D],D,f)}function L(f,v){for(const b in f)v.call(void 0,f[b],b,f)}function O(f){const v={};for(const b in f)v[b]=f[b];return v}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(f,v){let b,D;for(let G=1;G<arguments.length;G++){D=arguments[G];for(b in D)f[b]=D[b];for(let J=0;J<M.length;J++)b=M[J],Object.prototype.hasOwnProperty.call(D,b)&&(f[b]=D[b])}}function k(f){var v=1;f=f.split(":");const b=[];for(;0<v&&f.length;)b.push(f.shift()),v--;return f.length&&b.push(f.join(":")),b}function $(f){d.setTimeout(()=>{throw f},0)}function j(){var f=ge;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class De{constructor(){this.h=this.g=null}add(v,b){const D=pe.get();D.set(v,b),this.h?this.h.next=D:this.g=D,this.h=D}}var pe=new V(()=>new X,f=>f.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ce=!1,ge=new De,P=()=>{const f=d.Promise.resolve(void 0);ue=()=>{f.then(re)}};var re=()=>{for(var f;f=j();){try{f.h.call(f.g)}catch(b){$(b)}var v=pe;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}ce=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};d.addEventListener("test",b,v),d.removeEventListener("test",b,v)}catch{}return f}();function _e(f,v){if(le.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(q){e:{try{W(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else b=="mouseover"?v=f.fromElement:b=="mouseout"&&(v=f.toElement);this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:de[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&_e.aa.h.call(this)}}S(_e,le);var de={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function ft(f,v,b,D,G){this.listener=f,this.proxy=null,this.src=v,this.type=b,this.capture=!!D,this.ha=G,this.key=++Ae,this.da=this.fa=!1}function Ge(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Dr(f){this.src=f,this.g={},this.h=0}Dr.prototype.add=function(f,v,b,D,G){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var he=fa(f,v,D,G);return-1<he?(v=f[he],b||(v.fa=!1)):(v=new ft(v,this.src,J,!!D,G),v.fa=b,f.push(v)),v};function ca(f,v){var b=v.type;if(b in f.g){var D=f.g[b],G=Array.prototype.indexOf.call(D,v,void 0),J;(J=0<=G)&&Array.prototype.splice.call(D,G,1),J&&(Ge(v),f.g[b].length==0&&(delete f.g[b],f.h--))}}function fa(f,v,b,D){for(var G=0;G<f.length;++G){var J=f[G];if(!J.da&&J.listener==v&&J.capture==!!b&&J.ha==D)return G}return-1}var ha="closure_lm_"+(1e6*Math.random()|0),Ml={};function ju(f,v,b,D,G){if(Array.isArray(v)){for(var J=0;J<v.length;J++)ju(f,v[J],b,D,G);return null}return b=Lu(b),f&&f[ke]?f.K(v,b,p(D)?!!D.capture:!1,G):On(f,v,b,!1,D,G)}function On(f,v,b,D,G,J){if(!v)throw Error("Invalid event type");var he=p(G)?!!G.capture:!!G,Be=ds(f);if(Be||(f[ha]=Be=new Dr(f)),b=Be.add(v,b,D,he,J),b.proxy)return b;if(D=Ch(),b.proxy=D,D.src=f,D.listener=b,f.addEventListener)se||(G=he),G===void 0&&(G=!1),f.addEventListener(v.toString(),D,G);else if(f.attachEvent)f.attachEvent(da(v.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Ch(){function f(b){return v.call(f.src,f.listener,b)}const v=Dh;return f}function Vl(f,v,b,D,G){if(Array.isArray(v))for(var J=0;J<v.length;J++)Vl(f,v[J],b,D,G);else D=p(D)?!!D.capture:!!D,b=Lu(b),f&&f[ke]?(f=f.i,v=String(v).toString(),v in f.g&&(J=f.g[v],b=fa(J,b,D,G),-1<b&&(Ge(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete f.g[v],f.h--)))):f&&(f=ds(f))&&(v=f.g[v.toString()],f=-1,v&&(f=fa(v,b,D,G)),(b=-1<f?v[f]:null)&&hs(b))}function hs(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[ke])ca(v.i,f);else{var b=f.type,D=f.proxy;v.removeEventListener?v.removeEventListener(b,D,f.capture):v.detachEvent?v.detachEvent(da(b),D):v.addListener&&v.removeListener&&v.removeListener(D),(b=ds(v))?(ca(b,f),b.h==0&&(b.src=null,v[ha]=null)):Ge(f)}}}function da(f){return f in Ml?Ml[f]:Ml[f]="on"+f}function Dh(f,v){if(f.da)f=!0;else{v=new _e(v,this);var b=f.listener,D=f.ha||f.src;f.fa&&hs(f),f=b.call(D,v)}return f}function ds(f){return f=f[ha],f instanceof Dr?f:null}var jl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lu(f){return typeof f=="function"?f:(f[jl]||(f[jl]=function(v){return f.handleEvent(v)}),f[jl])}function mt(){fe.call(this),this.i=new Dr(this),this.M=this,this.F=null}S(mt,fe),mt.prototype[ke]=!0,mt.prototype.removeEventListener=function(f,v,b,D){Vl(this,f,v,b,D)};function Ze(f,v){var b,D=f.F;if(D)for(b=[];D;D=D.F)b.push(D);if(f=f.M,D=v.type||v,typeof v=="string")v=new le(v,f);else if(v instanceof le)v.target=v.target||f;else{var G=v;v=new le(D,f),z(v,G)}if(G=!0,b)for(var J=b.length-1;0<=J;J--){var he=v.g=b[J];G=vn(he,D,!0,v)&&G}if(he=v.g=f,G=vn(he,D,!0,v)&&G,G=vn(he,D,!1,v)&&G,b)for(J=0;J<b.length;J++)he=v.g=b[J],G=vn(he,D,!1,v)&&G}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var b=f.g[v],D=0;D<b.length;D++)Ge(b[D]);delete f.g[v],f.h--}}this.F=null},mt.prototype.K=function(f,v,b,D){return this.i.add(String(f),v,!1,b,D)},mt.prototype.L=function(f,v,b,D){return this.i.add(String(f),v,!0,b,D)};function vn(f,v,b,D){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,J=0;J<v.length;++J){var he=v[J];if(he&&!he.da&&he.capture==b){var Be=he.listener,Ct=he.ha||he.src;he.fa&&ca(f.i,he),G=Be.call(Ct,D)!==!1&&G}}return G&&!D.defaultPrevented}function Zt(f,v,b){if(typeof f=="function")b&&(f=T(f,b));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(f,v||0)}function ku(f){f.g=Zt(()=>{f.g=null,f.i&&(f.i=!1,ku(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class Nh extends fe{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ku(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(f){fe.call(this),this.h=f,this.g={}}S(ma,fe);var pa=[];function ga(f){ne(f.g,function(v,b){this.g.hasOwnProperty(b)&&hs(v)},f),f.g={}}ma.prototype.N=function(){ma.aa.N.call(this),ga(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=d.JSON.stringify,ms=d.JSON.parse,ya=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Ll(){}Ll.prototype.h=null;function kl(f){return f.h||(f.h=f.i())}function Pl(){}var Nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Or(){le.call(this,"d")}S(Or,le);function Ul(){le.call(this,"c")}S(Ul,le);var ir={},zl=null;function di(){return zl=zl||new mt}ir.La="serverreachability";function ps(f){le.call(this,ir.La,f)}S(ps,le);function mi(f){const v=di();Ze(v,new ps(v))}ir.STAT_EVENT="statevent";function Pu(f,v){le.call(this,ir.STAT_EVENT,f),this.stat=v}S(Pu,le);function st(f){const v=di();Ze(v,new Pu(v,f))}ir.Ma="timingevent";function Rt(f,v){le.call(this,ir.Ma,f),this.size=v}S(Rt,le);function xt(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},v)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function Bl(f,v,b,D,G,J){f.info(function(){if(f.g)if(J)for(var he="",Be=J.split("&"),Ct=0;Ct<Be.length;Ct++){var $e=Be[Ct].split("=");if(1<$e.length){var Lt=$e[0];$e=$e[1];var Dt=Lt.split("_");he=2<=Dt.length&&Dt[1]=="type"?he+(Lt+"="+$e+"&"):he+(Lt+"=redacted&")}}else he=null;else he=J;return"XMLHTTP REQ ("+D+") [attempt "+G+"]: "+v+`
`+b+`
`+he})}function Oh(f,v,b,D,G,J,he){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+G+"]: "+v+`
`+b+`
`+J+" "+he})}function pi(f,v,b,D){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+va(f,b)+(D?" "+D:"")})}function Uu(f,v){f.info(function(){return"TIMEOUT: "+v})}In.prototype.info=function(){};function va(f,v){if(!f.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var D=b[f];if(!(2>D.length)){var G=D[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var he=1;he<G.length;he++)G[he]=""}}}}return qn(b)}catch{return v}}var gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function sr(){}S(sr,Ll),sr.prototype.g=function(){return new XMLHttpRequest},sr.prototype.i=function(){return{}},ar=new sr;function an(f,v,b,D){this.j=f,this.i=v,this.l=b,this.R=D||1,this.U=new ma(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var $l={},gs={};function Gn(f,v,b){f.L=1,f.v=Ta(bn(v)),f.m=b,f.P=!0,Mr(f,null)}function Mr(f,v){f.F=Date.now(),ba(f),f.A=bn(f.v);var b=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),Yl(b.i,"t",D),f.C=0,b=f.j.J,f.h=new vt,f.g=tc(f.j,b?v:null,!f.m),0<f.O&&(f.M=new Nh(T(f.Y,f,f.g),f.O)),v=f.U,b=f.g,D=f.ca;var G="readystatechange";Array.isArray(G)||(G&&(pa[0]=G.toString()),G=pa);for(var J=0;J<G.length;J++){var he=ju(b,G[J],D||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=f.H?O(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),mi(),Bl(f.i,f.u,f.A,f.l,f.R,f.m)}an.prototype.ca=function(f){f=f.target;const v=this.M;v&&Ln(f)==3?v.j():this.Y(f)},an.prototype.Y=function(f){try{if(f==this.g)e:{const Dt=Ln(this.g);var v=this.g.Ba();const Br=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||Qu(this.g)))){this.J||Dt!=4||v==7||(v==8||0>=Br?mi(3):mi(2)),yi(this);var b=this.g.Z();this.X=b;t:if(zu(this)){var D=Qu(this.g);f="";var G=D.length,J=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$t(this),lr(this);var he="";break t}this.h.i=new d.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,f+=this.h.i.decode(D[v],{stream:!(J&&v==G-1)});D.length=0,this.h.g+=f,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=b==200,Oh(this.i,this.u,this.A,this.l,this.R,Dt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Ct=this.g;if((Be=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Be)){var $e=Be;break t}}$e=null}if(b=$e)pi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_a(this,b);else{this.o=!1,this.s=3,st(12),$t(this),lr(this);break e}}if(this.P){b=!0;let Ht;for(;!this.J&&this.C<he.length;)if(Ht=Bu(this,he),Ht==gs){Dt==4&&(this.s=4,st(14),b=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==$l){this.s=4,st(15),pi(this.i,this.l,he,"[Invalid Chunk]"),b=!1;break}else pi(this.i,this.l,Ht,null),_a(this,Ht);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||he.length!=0||this.h.h||(this.s=1,st(16),b=!1),this.o=this.o&&b,!b)pi(this.i,this.l,he,"[Invalid Chunked Response]"),$t(this),lr(this);else if(0<he.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Oa(Lt),Lt.M=!0,st(11))}}else pi(this.i,this.l,he,null),_a(this,he);Dt==4&&$t(this),this.o&&!this.J&&(Dt==4?Wu(this.j,this):(this.o=!1,ba(this)))}else Lh(this.g),b==400&&0<he.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),$t(this),lr(this)}}}catch{}finally{}};function zu(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Bu(f,v){var b=f.C,D=v.indexOf(`
`,b);return D==-1?gs:(b=Number(v.substring(b,D)),isNaN(b)?$l:(D+=1,D+b>v.length?gs:(v=v.slice(D,D+b),f.C=D+b,v)))}an.prototype.cancel=function(){this.J=!0,$t(this)};function ba(f){f.S=Date.now()+f.I,$u(f,f.I)}function $u(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=xt(T(f.ba,f),v)}function yi(f){f.B&&(d.clearTimeout(f.B),f.B=null)}an.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Uu(this.i,this.A),this.L!=2&&(mi(),st(17)),$t(this),this.s=2,lr(this)):$u(this,this.S-f)};function lr(f){f.j.G==0||f.J||Wu(f.j,f)}function $t(f){yi(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,ga(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function _a(f,v){try{var b=f.j;if(b.G!=0&&(b.g==f||Hl(b.h,f))){if(!f.K&&Hl(b.h,f)&&b.G==3){try{var D=b.Da.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var G=D;if(G[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)Cs(b),As(b);else break e;Jl(b),st(18)}}else b.za=G[1],0<b.za-b.T&&37500>G[2]&&b.F&&b.v==0&&!b.C&&(b.C=xt(T(b.Za,b),6e3));if(1>=vs(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else zr(b,11)}else if((f.K||b.g==f)&&Cs(b),!I(v))for(G=b.Da.g.parse(v),v=0;v<G.length;v++){let $e=G[v];if(b.T=$e[0],$e=$e[1],b.G==2)if($e[0]=="c"){b.K=$e[1],b.ia=$e[2];const Lt=$e[3];Lt!=null&&(b.la=Lt,b.j.info("VER="+b.la));const Dt=$e[4];Dt!=null&&(b.Aa=Dt,b.j.info("SVER="+b.Aa));const Br=$e[5];Br!=null&&typeof Br=="number"&&0<Br&&(D=1.5*Br,b.L=D,b.j.info("backChannelRequestTimeoutMs_="+D)),D=b;const Ht=f.g;if(Ht){const mr=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mr){var J=D.h;J.g||mr.indexOf("spdy")==-1&&mr.indexOf("quic")==-1&&mr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(bs(J,J.h),J.h=null))}if(D.D){const to=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;to&&(D.ya=to,et(D.I,D.D,to))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),D=b;var he=f;if(D.qa=ec(D,D.J?D.ia:null,D.W),he.K){sn(D.h,he);var Be=he,Ct=D.L;Ct&&(Be.I=Ct),Be.B&&(yi(Be),ba(Be)),D.g=he}else Xu(D);0<b.i.length&&Rs(b)}else $e[0]!="stop"&&$e[0]!="close"||zr(b,7);else b.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?zr(b,7):Zl(b):$e[0]!="noop"&&b.l&&b.l.ta($e),b.v=0)}}mi(4)}catch{}}var Hu=class{constructor(f,v){this.g=f,this.map=v}};function Vr(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ys(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function vs(f){return f.h?1:f.g?f.g.size:0}function Hl(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function bs(f,v){f.g?f.g.add(v):f.h=v}function sn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Vr.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Fl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const b of f.g.values())v=v.concat(b.D);return v}return R(f.i)}function Ih(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var v=[],b=f.length,D=0;D<b;D++)v.push(f[D]);return v}v=[],b=0;for(D in f)v[b++]=f[D];return v}function _s(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var v=[];f=f.length;for(var b=0;b<f;b++)v.push(b);return v}v=[],b=0;for(const D in f)v[b++]=D;return v}}}function ql(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var b=_s(f),D=Ih(f),G=D.length,J=0;J<G;J++)v.call(void 0,D[J],b&&b[J],f)}var Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mh(f,v){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var D=f[b].indexOf("="),G=null;if(0<=D){var J=f[b].substring(0,D);G=f[b].substring(D+1)}else J=f[b];v(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Tt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Tt){this.h=f.h,xa(this,f.j),this.o=f.o,this.g=f.g,vi(this,f.s),this.l=f.l;var v=f.i,b=new Lr;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),jr(this,b),this.m=f.m}else f&&(v=String(f).match(Ea))?(this.h=!1,xa(this,v[1]||"",!0),this.o=Mn(v[2]||""),this.g=Mn(v[3]||"",!0),vi(this,v[4]),this.l=Mn(v[5]||"",!0),jr(this,v[6]||"",!0),this.m=Mn(v[7]||"")):(this.h=!1,this.i=new Lr(null,this.h))}Tt.prototype.toString=function(){var f=[],v=this.j;v&&f.push(wa(v,Gl,!0),":");var b=this.g;return(b||v=="file")&&(f.push("//"),(v=this.o)&&f.push(wa(v,Gl,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(wa(b,b.charAt(0)=="/"?Vh:Ql,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",wa(b,Es)),f.join("")};function bn(f){return new Tt(f)}function xa(f,v,b){f.j=b?Mn(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function vi(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function jr(f,v,b){v instanceof Lr?(f.i=v,qu(f.i,f.h)):(b||(v=wa(v,jh)),f.i=new Lr(v,f.h))}function et(f,v,b){f.i.set(v,b)}function Ta(f){return et(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Mn(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function wa(f,v,b){return typeof f=="string"?(f=encodeURI(f).replace(v,Fu),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Fu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Gl=/[#\/\?@]/g,Ql=/[#\?:]/g,Vh=/[#\?]/g,jh=/[#\?@]/g,Es=/#/g;function Lr(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Vn(f){f.g||(f.g=new Map,f.h=0,f.i&&Mh(f.i,function(v,b){f.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=Lr.prototype,t.add=function(f,v){Vn(this),this.i=null,f=or(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(v),this.h+=1,this};function kr(f,v){Vn(f),v=or(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Pr(f,v){return Vn(f),v=or(f,v),f.g.has(v)}t.forEach=function(f,v){Vn(this),this.g.forEach(function(b,D){b.forEach(function(G){f.call(v,G,D,this)},this)},this)},t.na=function(){Vn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let D=0;D<v.length;D++){const G=f[D];for(let J=0;J<G.length;J++)b.push(v[D])}return b},t.V=function(f){Vn(this);let v=[];if(typeof f=="string")Pr(this,f)&&(v=v.concat(this.g.get(or(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)v=v.concat(f[b])}return v},t.set=function(f,v){return Vn(this),this.i=null,f=or(this,f),Pr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},t.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Yl(f,v,b){kr(f,v),0<b.length&&(f.i=null,f.g.set(or(f,v),R(b)),f.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var D=v[b];const J=encodeURIComponent(String(D)),he=this.V(D);for(D=0;D<he.length;D++){var G=J;he[D]!==""&&(G+="="+encodeURIComponent(String(he[D]))),f.push(G)}}return this.i=f.join("&")};function or(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function qu(f,v){v&&!f.j&&(Vn(f),f.i=null,f.g.forEach(function(b,D){var G=D.toLowerCase();D!=G&&(kr(this,D),Yl(this,G,b))},f)),f.j=v}function Sa(f,v){const b=new In;if(d.Image){const D=new Image;D.onload=E(jn,b,"TestLoadImage: loaded",!0,v,D),D.onerror=E(jn,b,"TestLoadImage: error",!1,v,D),D.onabort=E(jn,b,"TestLoadImage: abort",!1,v,D),D.ontimeout=E(jn,b,"TestLoadImage: timeout",!1,v,D),d.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else v(!1)}function Qn(f,v){const b=new In,D=new AbortController,G=setTimeout(()=>{D.abort(),jn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:D.signal}).then(J=>{clearTimeout(G),J.ok?jn(b,"TestPingServer: ok",!0,v):jn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),jn(b,"TestPingServer: error",!1,v)})}function jn(f,v,b,D,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),D(b)}catch{}}function Aa(){this.g=new ya}function ur(f,v,b){const D=b||"";try{ql(f,function(G,J){let he=G;p(G)&&(he=qn(G)),v.push(D+J+"="+encodeURIComponent(he))})}catch(G){throw v.push(D+"type="+encodeURIComponent("_badmap")),G}}function bi(f){this.l=f.Ub||null,this.j=f.eb||!1}S(bi,Ll),bi.prototype.g=function(){return new Ur(this.l,this.j)},bi.prototype.i=function(f){return function(){return f}}({});function Ur(f,v){mt.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ur,mt),t=Ur.prototype,t.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,fr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?cr(this):fr(this),this.readyState==3&&Kl(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,cr(this))},t.Qa=function(f){this.g&&(this.response=f,cr(this))},t.ga=function(){this.g&&cr(this)};function cr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,fr(f)}t.setRequestHeader=function(f,v){this.u.append(f,v)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=v.next();return f.join(`\r
`)};function fr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Xl(f){let v="";return ne(f,function(b,D){v+=D,v+=":",v+=b,v+=`\r
`}),v}function jt(f,v,b){e:{for(D in b){var D=!1;break e}D=!0}D||(b=Xl(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):et(f,v,b))}function Ke(f){mt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ke,mt);var xs=/^https?$/i,Ra=["POST","PUT"];t=Ke.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,v,b,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?kl(this.o):kl(ar),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(J){Gu(this,J);return}if(f=b||"",b=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var G in D)b.set(G,D[G]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())b.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),G=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ra,v,void 0))||D||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of b)this.g.setRequestHeader(J,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ca(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){Gu(this,J)}};function Gu(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Ts(f),hr(f)}function Ts(f){f.A||(f.A=!0,Ze(f,"complete"),Ze(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ze(this,"complete"),Ze(this,"abort"),hr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ws(this):this.bb())},t.bb=function(){ws(this)};function ws(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Ln(f)!=4||f.Z()!=2)){if(f.u&&Ln(f)==4)Zt(f.Ea,0,f);else if(Ze(f,"readystatechange"),Ln(f)==4){f.h=!1;try{const he=f.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var D;if(D=he===0){var G=String(f.D).match(Ea)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),D=!xs.test(G?G.toLowerCase():"")}b=D}if(b)Ze(f,"complete"),Ze(f,"success");else{f.m=6;try{var J=2<Ln(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",Ts(f)}}finally{hr(f)}}}}function hr(f,v){if(f.g){Ca(f);const b=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Ze(f,"ready");try{b.onreadystatechange=D}catch{}}}function Ca(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Ln(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),ms(v)}};function Qu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Lh(f){const v={};f=(f.g&&2<=Ln(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(I(f[D]))continue;var b=k(f[D]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=v[G]||[];v[G]=J,J.push(b)}L(v,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Da(f,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||v}function Ss(f){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Da("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Da("baseRetryDelayMs",5e3,f),this.cb=Da("retryDelaySeedMs",1e4,f),this.Wa=Da("forwardChannelMaxRetries",2,f),this.wa=Da("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Vr(f&&f.concurrentRequestLimit),this.Da=new Aa,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ss.prototype,t.la=8,t.G=1,t.connect=function(f,v,b,D){st(0),this.W=f,this.H=v||{},b&&D!==void 0&&(this.H.OSID=b,this.H.OAID=D),this.F=this.X,this.I=ec(this,null,this.W),Rs(this)};function Zl(f){if(Yu(f),f.G==3){var v=f.U++,b=bn(f.I);if(et(b,"SID",f.K),et(b,"RID",v),et(b,"TYPE","terminate"),Na(f,b),v=new an(f,f.j,v),v.L=2,v.v=Ta(bn(b)),b=!1,d.navigator&&d.navigator.sendBeacon)try{b=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&d.Image&&(new Image().src=v.v,b=!0),b||(v.g=tc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ba(v)}Ju(f)}function As(f){f.g&&(Oa(f),f.g.cancel(),f.g=null)}function Yu(f){As(f),f.u&&(d.clearTimeout(f.u),f.u=null),Cs(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Rs(f){if(!ys(f.h)&&!f.s){f.s=!0;var v=f.Ga;ue||P(),ce||(ue(),ce=!0),ge.add(v,f),f.B=0}}function kh(f,v){return vs(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=xt(T(f.Ga,f,v),eo(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const G=new an(this,this.j,f);let J=this.o;if(this.S&&(J?(J=O(J),z(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var D=this.i[b];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(v+=D,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Ku(this,G,v),b=bn(this.I),et(b,"RID",f),et(b,"CVER",22),this.D&&et(b,"X-HTTP-Session-Id",this.D),Na(this,b),J&&(this.O?v="headers="+encodeURIComponent(String(Xl(J)))+"&"+v:this.m&&jt(b,this.m,J)),bs(this.h,G),this.Ua&&et(b,"TYPE","init"),this.P?(et(b,"$req",v),et(b,"SID","null"),G.T=!0,Gn(G,b,null)):Gn(G,b,v),this.G=2}}else this.G==3&&(f?Wl(this,f):this.i.length==0||ys(this.h)||Wl(this))};function Wl(f,v){var b;v?b=v.l:b=f.U++;const D=bn(f.I);et(D,"SID",f.K),et(D,"RID",b),et(D,"AID",f.T),Na(f,D),f.m&&f.o&&jt(D,f.m,f.o),b=new an(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Ku(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),bs(f.h,b),Gn(b,D,v)}function Na(f,v){f.H&&ne(f.H,function(b,D){et(v,D,b)}),f.l&&ql({},function(b,D){et(v,D,b)})}function Ku(f,v,b){b=Math.min(f.i.length,b);var D=f.l?T(f.l.Na,f.l,f):null;e:{var G=f.i;let J=-1;for(;;){const he=["count="+b];J==-1?0<b?(J=G[0].g,he.push("ofs="+J)):J=0:he.push("ofs="+J);let Be=!0;for(let Ct=0;Ct<b;Ct++){let $e=G[Ct].g;const Lt=G[Ct].map;if($e-=J,0>$e)J=Math.max(0,G[Ct].g-100),Be=!1;else try{ur(Lt,he,"req"+$e+"_")}catch{D&&D(Lt)}}if(Be){D=he.join("&");break e}}}return f=f.i.splice(0,b),v.D=f,D}function Xu(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;ue||P(),ce||(ue(),ce=!0),ge.add(v,f),f.v=0}}function Jl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=xt(T(f.Fa,f),eo(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=xt(T(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),As(this),Zu(this))};function Oa(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Zu(f){f.g=new an(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=bn(f.qa);et(v,"RID","rpc"),et(v,"SID",f.K),et(v,"AID",f.T),et(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&et(v,"TO",f.ja),et(v,"TYPE","xmlhttp"),Na(f,v),f.m&&f.o&&jt(v,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=Ta(bn(v)),b.m=null,b.P=!0,Mr(b,f)}t.Za=function(){this.C!=null&&(this.C=null,As(this),Jl(this),st(19))};function Cs(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Wu(f,v){var b=null;if(f.g==v){Cs(f),Oa(f),f.g=null;var D=2}else if(Hl(f.h,v))b=v.D,sn(f.h,v),D=1;else return;if(f.G!=0){if(v.o)if(D==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var G=f.B;D=di(),Ze(D,new Rt(D,b)),Rs(f)}else Xu(f);else if(G=v.s,G==3||G==0&&0<v.X||!(D==1&&kh(f,v)||D==2&&Jl(f)))switch(b&&0<b.length&&(v=f.h,v.i=v.i.concat(b)),G){case 1:zr(f,5);break;case 4:zr(f,10);break;case 3:zr(f,6);break;default:zr(f,2)}}}function eo(f,v){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*v}function zr(f,v){if(f.j.info("Error code "+v),v==2){var b=T(f.fb,f),D=f.Xa;const G=!D;D=new Tt(D||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xa(D,"https"),Ta(D),G?Sa(D.toString(),b):Qn(D.toString(),b)}else st(2);f.G=0,f.l&&f.l.sa(v),Ju(f),Yu(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Ju(f){if(f.G=0,f.ka=[],f.l){const v=Fl(f.h);(v.length!=0||f.i.length!=0)&&(N(f.ka,v),N(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function ec(f,v,b){var D=b instanceof Tt?bn(b):new Tt(b);if(D.g!="")v&&(D.g=v+"."+D.g),vi(D,D.s);else{var G=d.location;D=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var J=new Tt(null);D&&xa(J,D),v&&(J.g=v),G&&vi(J,G),b&&(J.l=b),D=J}return b=f.D,v=f.ya,b&&v&&et(D,b,v),et(D,"VER",f.la),Na(f,D),D}function tc(f,v,b){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new Ke(new bi({eb:b})):new Ke(f.pa),v.Ha(f.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nc(){}t=nc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ds(){}Ds.prototype.g=function(f,v){return new ln(f,v)};function ln(f,v){mt.call(this),this.g=new Ss(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!I(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new dr(this)}S(ln,mt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Zl(this.g)},ln.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=qn(f),f=b);v.i.push(new Hu(v.Ya++,f)),v.G==3&&Rs(v)},ln.prototype.N=function(){this.g.l=null,delete this.j,Zl(this.g),delete this.g,ln.aa.N.call(this)};function rc(f){Or.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const b in v){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}S(rc,Or);function ic(){Ul.call(this),this.status=1}S(ic,Ul);function dr(f){this.g=f}S(dr,nc),dr.prototype.ua=function(){Ze(this.g,"a")},dr.prototype.ta=function(f){Ze(this.g,new rc(f))},dr.prototype.sa=function(f){Ze(this.g,new ic)},dr.prototype.ra=function(){Ze(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,$1=function(){return new Ds},B1=function(){return di()},z1=ir,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gi.NO_ERROR=0,gi.TIMEOUT=8,gi.HTTP_ERROR=6,_f=gi,Ir.COMPLETE="complete",U1=Ir,Pl.EventType=Nr,Nr.OPEN="a",Nr.CLOSE="b",Nr.ERROR="c",Nr.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Qo=Pl,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,P1=Ke}).apply(typeof lf<"u"?lf:typeof self<"u"?self:typeof window<"u"?window:{});const Vb="@firebase/firestore",jb="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new O1("@firebase/firestore");function al(){return ts.logLevel}function me(t,...e){if(ts.logLevel<=qe.DEBUG){const n=e.map(eg);ts.debug(`Firestore (${Sl}): ${t}`,...n)}}function si(t,...e){if(ts.logLevel<=qe.ERROR){const n=e.map(eg);ts.error(`Firestore (${Sl}): ${t}`,...n)}}function dl(t,...e){if(ts.logLevel<=qe.WARN){const n=e.map(eg);ts.warn(`Firestore (${Sl}): ${t}`,...n)}}function eg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,H1(t,a,n)}function H1(t,e,n){let a=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw si(a),new Error(a)}function Xe(t,e,n,a){let s="Unexpected state";typeof n=="string"?s=n:a=n,t||H1(e,s,a)}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends wl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class uR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cR{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let a=this.i;const s=m=>this.i!==a?(a=this.i,n(m)):Promise.resolve();let o=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gi,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const m=o;e.enqueueRetryable(async()=>{await m.promise,await s(this.currentUser)})},d=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gi)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xe(typeof a.accessToken=="string",31837,{l:a}),new F1(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class fR{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hR{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new fR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Q2(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const a=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>a(o))};const s=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Lb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<t;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const s=mR(40);for(let o=0;o<s.length;++o)a.length<20&&s[o]<n&&(a+=e.charAt(s[o]%62))}return a}}function Me(t,e){return t<e?-1:t>e?1:0}function dp(t,e){let n=0;for(;n<t.length&&n<e.length;){const a=t.codePointAt(n),s=e.codePointAt(n);if(a!==s){if(a<128&&s<128)return Me(a,s);{const o=q1(),c=pR(o.encode(kb(t,n)),o.encode(kb(e,n)));return c!==0?c:Me(a,s)}}n+=a>65535?2:1}return Me(t.length,e.length)}function kb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function pR(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Me(t[n],e[n]);return Me(t.length,e.length)}function ml(t,e,n){return t.length===e.length&&t.every((a,s)=>n(a,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=-62135596800,Ub=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Ub);return new Mt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Pb)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ub}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Pb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Mt(0,0))}static max(){return new Re(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="__name__";class _r{constructor(e,n,a){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&we(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let s=0;s<a;s++){const o=_r.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Me(e.length,n.length)}static compareSegments(e,n){const a=_r.isNumericId(e),s=_r.isNumericId(n);return a&&!s?-1:!a&&s?1:a&&s?_r.extractNumericId(e).compare(_r.extractNumericId(n)):dp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class ot extends _r{construct(e,n,a){return new ot(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new be(oe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(s=>s.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const gR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends _r{construct(e,n,a){return new Yt(e,n,a)}static isValidIdentifier(e){return gR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zb}static keyField(){return new Yt([zb])}static fromServerFormat(e){const n=[];let a="",s=0;const o=()=>{if(a.length===0)throw new be(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new be(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new be(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(a+=d,s++):(o(),s++)}if(o(),c)throw new be(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ot.fromString(e))}static fromName(e){return new Ee(ot.fromString(e).popFirst(5))}static empty(){return new Ee(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=-1;function yR(t,e){const n=t.toTimestamp().seconds,a=t.toTimestamp().nanoseconds+1,s=Re.fromTimestamp(a===1e9?new Mt(n+1,0):new Mt(n,a));return new Zi(s,Ee.empty(),e)}function vR(t){return new Zi(t.readTime,t.key,uu)}class Zi{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Zi(Re.min(),Ee.empty(),uu)}static max(){return new Zi(Re.max(),Ee.empty(),uu)}}function bR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ER{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==_R)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((a,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(a,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(a,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,a)=>{n(e)})}static reject(e){return new ae((n,a)=>{a(e)})}static waitFor(e){return new ae((n,a)=>{let s=0,o=0,c=!1;e.forEach(d=>{++s,d.next(()=>{++o,c&&o===s&&n()},m=>a(m))}),c=!0,o===s&&n()})}static or(e){let n=ae.resolve(!1);for(const a of e)n=n.next(s=>s?ae.resolve(s):a());return n}static forEach(e,n){const a=[];return e.forEach((s,o)=>{a.push(n.call(this,s,o))}),this.waitFor(a)}static mapArray(e,n){return new ae((a,s)=>{const o=e.length,c=new Array(o);let d=0;for(let m=0;m<o;m++){const p=m;n(e[p]).next(y=>{c[p]=y,++d,d===o&&a(c)},y=>s(y))}})}static doWhile(e,n){return new ae((a,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):a()};o()})}}function xR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>n.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}nh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=-1;function rh(t){return t==null}function Mf(t){return t===0&&1/t==-1/0}function TR(t){return typeof t=="number"&&Number.isInteger(t)&&!Mf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="";function wR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Bb(e)),e=SR(t.get(n),e);return Bb(e)}function SR(t,e){let n=e;const a=t.length;for(let s=0;s<a;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case Q1:n+="";break;default:n+=o}}return n}function Bb(t){return t+Q1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Y1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const s=this.comparator(e,a.key);if(s===0)return n+a.left.size;s<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new of(this.root,e,this.comparator,!1)}getReverseIterator(){return new of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new of(this.root,e,this.comparator,!0)}}class of{constructor(e,n,a,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?a(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,a,s,o){this.key=e,this.value=n,this.color=a??Qt.RED,this.left=s??Qt.EMPTY,this.right=o??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,s,o){return new Qt(e??this.key,n??this.value,a??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let s=this;const o=a(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,a),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,a)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qt.EMPTY;a=s.right.min(),s=s.copy(a.key,a.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,a,s,o){return this}insert(e,n,a){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const s=a.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hb(this.data.getIterator())}getIteratorFrom(e){return new Hb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=a.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Hb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new K1("Invalid base64 string: "+o):o}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(s){let o="";for(let c=0;c<s.length;++c)o+=String.fromCharCode(s[c]);return o}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let s=0;s<n.length;s++)a[s]=n.charCodeAt(s);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const AR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=AR.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const a=new Date(t);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ji(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="server_timestamp",Z1="__type__",W1="__previous_value__",J1="__local_write_time__";function ng(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z1])===null||n===void 0?void 0:n.stringValue)===X1}function ih(t){const e=t.mapValue.fields[W1];return ng(e)?ih(e):e}function cu(t){const e=Wi(t.mapValue.fields[J1].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n,a,s,o,c,d,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=s,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Vf="(default)";class fu{constructor(e,n){this.projectId=e,this.database=n||Vf}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Vf}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="__type__",CR="__max__",uf={mapValue:{}},tE="__vector__",jf="value";function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ng(t)?4:NR(t)?9007199254740991:DR(t)?10:11:we(28295,{value:t})}function wr(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cu(t).isEqual(cu(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const c=Wi(s.timestampValue),d=Wi(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Ji(s.bytesValue).isEqual(Ji(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return Et(s.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(s.geoPointValue.longitude)===Et(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Et(s.integerValue)===Et(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const c=Et(s.doubleValue),d=Et(o.doubleValue);return c===d?Mf(c)===Mf(d):isNaN(c)&&isNaN(d)}return!1}(t,e);case 9:return ml(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(s,o){const c=s.mapValue.fields||{},d=o.mapValue.fields||{};if($b(c)!==$b(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!wr(c[m],d[m])))return!1;return!0}(t,e);default:return we(52216,{left:t})}}function hu(t,e){return(t.values||[]).find(n=>wr(n,e))!==void 0}function pl(t,e){if(t===e)return 0;const n=ea(t),a=ea(e);if(n!==a)return Me(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(o,c){const d=Et(o.integerValue||o.doubleValue),m=Et(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(t,e);case 3:return Fb(t.timestampValue,e.timestampValue);case 4:return Fb(cu(t),cu(e));case 5:return dp(t.stringValue,e.stringValue);case 6:return function(o,c){const d=Ji(o),m=Ji(c);return d.compareTo(m)}(t.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const y=Me(d[p],m[p]);if(y!==0)return y}return Me(d.length,m.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,c){const d=Me(Et(o.latitude),Et(c.latitude));return d!==0?d:Me(Et(o.longitude),Et(c.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qb(t.arrayValue,e.arrayValue);case 10:return function(o,c){var d,m,p,y;const _=o.fields||{},T=c.fields||{},E=(d=_[jf])===null||d===void 0?void 0:d.arrayValue,S=(m=T[jf])===null||m===void 0?void 0:m.arrayValue,R=Me(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0);return R!==0?R:qb(E,S)}(t.mapValue,e.mapValue);case 11:return function(o,c){if(o===uf.mapValue&&c===uf.mapValue)return 0;if(o===uf.mapValue)return 1;if(c===uf.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const T=dp(m[_],y[_]);if(T!==0)return T;const E=pl(d[m[_]],p[y[_]]);if(E!==0)return E}return Me(m.length,y.length)}(t.mapValue,e.mapValue);default:throw we(23264,{Pe:n})}}function Fb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Wi(t),a=Wi(e),s=Me(n.seconds,a.seconds);return s!==0?s:Me(n.nanos,a.nanos)}function qb(t,e){const n=t.values||[],a=e.values||[];for(let s=0;s<n.length&&s<a.length;++s){const o=pl(n[s],a[s]);if(o)return o}return Me(n.length,a.length)}function gl(t){return mp(t)}function mp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const a=Wi(n);return`time(${a.seconds},${a.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let a="[",s=!0;for(const o of n.values||[])s?s=!1:a+=",",a+=mp(o);return a+"]"}(t.arrayValue):"mapValue"in t?function(n){const a=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const c of a)o?o=!1:s+=",",s+=`${c}:${mp(n.fields[c])}`;return s+"}"}(t.mapValue):we(61005,{value:t})}function Ef(t){switch(ea(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ih(t);return e?16+Ef(e):16;case 5:return 2*t.stringValue.length;case 6:return Ji(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((s,o)=>s+Ef(o),0)}(t.arrayValue);case 10:case 11:return function(a){let s=0;return sa(a.fields,(o,c)=>{s+=o.length+Ef(c)}),s}(t.mapValue);default:throw we(13486,{value:t})}}function pp(t){return!!t&&"integerValue"in t}function rg(t){return!!t&&"arrayValue"in t}function Gb(t){return!!t&&"nullValue"in t}function Qb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xf(t){return!!t&&"mapValue"in t}function DR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[eE])===null||n===void 0?void 0:n.stringValue)===tE}function Jo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return sa(t.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Jo(a)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!xf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(n)}setAll(e){let n=Yt.emptyPath(),a={},s=[];e.forEach((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,a,s),a={},s=[],n=d.popLast()}c?a[d.lastSegment()]=Jo(c):s.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,a,s)}delete(e){const n=this.field(e.popLast());xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let s=n.mapValue.fields[e.get(a)];xf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,a){sa(n,(s,o)=>e[s]=o);for(const s of a)delete e[s]}clone(){return new yn(Jo(this.value))}}function nE(t){const e=[];return sa(t.fields,(n,a)=>{const s=new Yt([n]);if(xf(a)){const o=nE(a.mapValue).fields;if(o.length===0)e.push(s);else for(const c of o)e.push(s.child(c))}else e.push(s)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,a,s,o,c,d){this.key=e,this.documentType=n,this.version=a,this.readTime=s,this.createTime=o,this.data=c,this.documentState=d}static newInvalidDocument(e){return new nn(e,0,Re.min(),Re.min(),Re.min(),yn.empty(),0)}static newFoundDocument(e,n,a,s){return new nn(e,1,n,Re.min(),a,s,0)}static newNoDocument(e,n){return new nn(e,2,n,Re.min(),Re.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Re.min(),Re.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.position=e,this.inclusive=n}}function Yb(t,e,n){let a=0;for(let s=0;s<t.position.length;s++){const o=e[s],c=t.position[s];if(o.field.isKeyField()?a=Ee.comparator(Ee.fromName(c.referenceValue),n.key):a=pl(c,n.data.field(o.field)),o.dir==="desc"&&(a*=-1),a!==0)break}return a}function Kb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n="asc"){this.field=e,this.dir=n}}function OR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{}class It extends rE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new MR(e,n,a):n==="array-contains"?new LR(e,a):n==="in"?new kR(e,a):n==="not-in"?new PR(e,a):n==="array-contains-any"?new UR(e,a):new It(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new VR(e,a):new jR(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pl(n,this.value)):n!==null&&ea(this.value)===ea(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends rE{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Sr(e,n)}matches(e){return iE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function iE(t){return t.op==="and"}function aE(t){return IR(t)&&iE(t)}function IR(t){for(const e of t.filters)if(e instanceof Sr)return!1;return!0}function gp(t){if(t instanceof It)return t.field.canonicalString()+t.op.toString()+gl(t.value);if(aE(t))return t.filters.map(e=>gp(e)).join(",");{const e=t.filters.map(n=>gp(n)).join(",");return`${t.op}(${e})`}}function sE(t,e){return t instanceof It?function(a,s){return s instanceof It&&a.op===s.op&&a.field.isEqual(s.field)&&wr(a.value,s.value)}(t,e):t instanceof Sr?function(a,s){return s instanceof Sr&&a.op===s.op&&a.filters.length===s.filters.length?a.filters.reduce((o,c,d)=>o&&sE(c,s.filters[d]),!0):!1}(t,e):void we(19439)}function lE(t){return t instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${gl(n.value)}`}(t):t instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(lE).join(" ,")+"}"}(t):"Filter"}class MR extends It{constructor(e,n,a){super(e,n,a),this.key=Ee.fromName(a.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class VR extends It{constructor(e,n){super(e,"in",n),this.keys=oE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jR extends It{constructor(e,n){super(e,"not-in",n),this.keys=oE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>Ee.fromName(a.referenceValue))}class LR extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rg(n)&&hu(n.arrayValue,this.value)}}class kR extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class PR extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class UR extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>hu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n=null,a=[],s=[],o=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=s,this.limit=o,this.startAt=c,this.endAt=d,this.Ie=null}}function Xb(t,e=null,n=[],a=[],s=null,o=null,c=null){return new zR(t,e,n,a,s,o,c)}function ig(t){const e=Ce(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>gp(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(o){return o.field.canonicalString()+o.dir}(a)).join(","),rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>gl(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>gl(a)).join(",")),e.Ie=n}return e.Ie}function ag(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kb(t.startAt,e.startAt)&&Kb(t.endAt,e.endAt)}function yp(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n=null,a=[],s=[],o=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=s,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function BR(t,e,n,a,s,o,c,d){return new ah(t,e,n,a,s,o,c,d)}function uE(t){return new ah(t)}function Zb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $R(t){return t.collectionGroup!==null}function eu(t){const e=Ce(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Vt(Yt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new kf(o,a))}),n.has(Yt.keyField().canonicalString())||e.Ee.push(new kf(Yt.keyField(),a))}return e.Ee}function Er(t){const e=Ce(t);return e.de||(e.de=HR(e,eu(t))),e.de}function HR(t,e){if(t.limitType==="F")return Xb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new kf(s.field,o)});const n=t.endAt?new Lf(t.endAt.position,t.endAt.inclusive):null,a=t.startAt?new Lf(t.startAt.position,t.startAt.inclusive):null;return Xb(t.path,t.collectionGroup,e,t.filters,t.limit,n,a)}}function vp(t,e,n){return new ah(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sh(t,e){return ag(Er(t),Er(e))&&t.limitType===e.limitType}function cE(t){return`${ig(Er(t))}|lt:${t.limitType}`}function sl(t){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(s=>lE(s)).join(", ")}]`),rh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(s=>gl(s)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(s=>gl(s)).join(",")),`Target(${a})`}(Er(t))}; limitType=${t.limitType})`}function lh(t,e){return e.isFoundDocument()&&function(a,s){const o=s.key.path;return a.collectionGroup!==null?s.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(o):Ee.isDocumentKey(a.path)?a.path.isEqual(o):a.path.isImmediateParentOf(o)}(t,e)&&function(a,s){for(const o of eu(a))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(a,s){for(const o of a.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(a,s){return!(a.startAt&&!function(c,d,m){const p=Yb(c,d,m);return c.inclusive?p<=0:p<0}(a.startAt,eu(a),s)||a.endAt&&!function(c,d,m){const p=Yb(c,d,m);return c.inclusive?p>=0:p>0}(a.endAt,eu(a),s))}(t,e)}function FR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fE(t){return(e,n)=>{let a=!1;for(const s of eu(t)){const o=qR(s,e,n);if(o!==0)return o;a=a||s.field.isKeyField()}return 0}}function qR(t,e,n){const a=t.field.isKeyField()?Ee.comparator(e.key,n.key):function(o,c,d){const m=c.data.field(o),p=d.data.field(o);return m!==null&&p!==null?pl(m,p):we(42886)}(t.field,e,n);switch(t.dir){case"asc":return a;case"desc":return-1*a;default:return we(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[s,o]of a)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),s=this.inner[a];if(s===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return a.length===1?delete this.inner[n]:a.splice(s,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,(n,a)=>{for(const[s,o]of a)e(s,o)})}isEmpty(){return Y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new dt(Ee.comparator);function li(){return GR}const hE=new dt(Ee.comparator);function Yo(...t){let e=hE;for(const n of t)e=e.insert(n.key,n);return e}function dE(t){let e=hE;return t.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Xa(){return tu()}function mE(){return tu()}function tu(){return new ls(t=>t.toString(),(t,e)=>t.isEqual(e))}const QR=new dt(Ee.comparator),YR=new Vt(Ee.comparator);function Pe(...t){let e=YR;for(const n of t)e=e.add(n);return e}const KR=new Vt(Me);function XR(){return KR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(e)?"-0":e}}function pE(t){return{integerValue:""+t}}function ZR(t,e){return TR(e)?pE(e):sg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function WR(t,e,n){return t instanceof Pf?function(s,o){const c={fields:{[Z1]:{stringValue:X1},[J1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&ng(o)&&(o=ih(o)),o&&(c.fields[W1]=o),{mapValue:c}}(n,e):t instanceof du?yE(t,e):t instanceof mu?vE(t,e):function(s,o){const c=gE(s,o),d=Wb(c)+Wb(s.Re);return pp(c)&&pp(s.Re)?pE(d):sg(s.serializer,d)}(t,e)}function JR(t,e,n){return t instanceof du?yE(t,e):t instanceof mu?vE(t,e):n}function gE(t,e){return t instanceof Uf?function(a){return pp(a)||function(o){return!!o&&"doubleValue"in o}(a)}(e)?e:{integerValue:0}:null}class Pf extends oh{}class du extends oh{constructor(e){super(),this.elements=e}}function yE(t,e){const n=bE(e);for(const a of t.elements)n.some(s=>wr(s,a))||n.push(a);return{arrayValue:{values:n}}}class mu extends oh{constructor(e){super(),this.elements=e}}function vE(t,e){let n=bE(e);for(const a of t.elements)n=n.filter(s=>!wr(s,a));return{arrayValue:{values:n}}}class Uf extends oh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Wb(t){return Et(t.integerValue||t.doubleValue)}function bE(t){return rg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function eC(t,e){return t.field.isEqual(e.field)&&function(a,s){return a instanceof du&&s instanceof du||a instanceof mu&&s instanceof mu?ml(a.elements,s.elements,wr):a instanceof Uf&&s instanceof Uf?wr(a.Re,s.Re):a instanceof Pf&&s instanceof Pf}(t.transform,e.transform)}class tC{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class uh{}function _E(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lg(t.key,Wn.none()):new xu(t.key,t.data,Wn.none());{const n=t.data,a=yn.empty();let s=new Vt(Yt.comparator);for(let o of e.fields)if(!s.has(o)){let c=n.field(o);c===null&&o.length>1&&(o=o.popLast(),c=n.field(o)),c===null?a.delete(o):a.set(o,c),s=s.add(o)}return new la(t.key,a,new Dn(s.toArray()),Wn.none())}}function nC(t,e,n){t instanceof xu?function(s,o,c){const d=s.value.clone(),m=e_(s.fieldTransforms,o,c.transformResults);d.setAll(m),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(t,e,n):t instanceof la?function(s,o,c){if(!Tf(s.precondition,o))return void o.convertToUnknownDocument(c.version);const d=e_(s.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(EE(s)),m.setAll(d),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(t,e,n):function(s,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function nu(t,e,n,a){return t instanceof xu?function(o,c,d,m){if(!Tf(o.precondition,c))return d;const p=o.value.clone(),y=t_(o.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(t,e,n,a):t instanceof la?function(o,c,d,m){if(!Tf(o.precondition,c))return d;const p=t_(o.fieldTransforms,m,c),y=c.data;return y.setAll(EE(o)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(t,e,n,a):function(o,c,d){return Tf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(t,e,n)}function rC(t,e){let n=null;for(const a of t.fieldTransforms){const s=e.data.field(a.field),o=gE(a.transform,s||null);o!=null&&(n===null&&(n=yn.empty()),n.set(a.field,o))}return n||null}function Jb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(a,s){return a===void 0&&s===void 0||!(!a||!s)&&ml(a,s,(o,c)=>eC(o,c))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xu extends uh{constructor(e,n,a,s=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class la extends uh{constructor(e,n,a,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function EE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=t.data.field(n);e.set(n,a)}}),e}function e_(t,e,n){const a=new Map;Xe(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const o=t[s],c=o.transform,d=e.data.field(o.field);a.set(o.field,JR(c,d,n[s]))}return a}function t_(t,e,n){const a=new Map;for(const s of t){const o=s.transform,c=n.data.field(s.field);a.set(s.field,WR(o,c,e))}return a}class lg extends uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iC extends uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,a,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=s}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&nC(o,e,a[s])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=nu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=nu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=mE();return this.mutations.forEach(s=>{const o=e.get(s.key),c=o.overlayedDocument;let d=this.applyToLocalView(c,o.mutatedFields);d=n.has(s.key)?null:d;const m=_E(c,d);m!==null&&a.set(s.key,m),c.isValidDocument()||c.convertToNoDocument(Re.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,(n,a)=>Jb(n,a))&&ml(this.baseMutations,e.baseMutations,(n,a)=>Jb(n,a))}}class og{constructor(e,n,a,s){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=s}static from(e,n,a){Xe(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let s=function(){return QR}();const o=e.mutations;for(let c=0;c<o.length;c++)s=s.insert(o[c].key,a[c].version);return new og(e,n,a,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Fe;function oC(t){switch(t){case oe.OK:return we(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return we(15467,{code:t})}}function xE(t){if(t===void 0)return si("GRPC error has no .code"),oe.UNKNOWN;switch(t){case At.OK:return oe.OK;case At.CANCELLED:return oe.CANCELLED;case At.UNKNOWN:return oe.UNKNOWN;case At.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case At.INTERNAL:return oe.INTERNAL;case At.UNAVAILABLE:return oe.UNAVAILABLE;case At.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case At.NOT_FOUND:return oe.NOT_FOUND;case At.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case At.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case At.ABORTED:return oe.ABORTED;case At.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case At.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case At.DATA_LOSS:return oe.DATA_LOSS;default:return we(39323,{code:t})}}(Fe=At||(At={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new qi([4294967295,4294967295],0);function n_(t){const e=q1().encode(t),n=new k1;return n.update(e),new Uint8Array(n.digest())}function r_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qi([n,a],0),new qi([s,o],0)]}class ug{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Ko(`Invalid padding: ${n}`);if(a<0)throw new Ko(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ko(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Ko(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=qi.fromNumber(this.pe)}we(e,n,a){let s=e.add(n.multiply(qi.fromNumber(a)));return s.compare(uC)===1&&(s=new qi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=n_(e),[a,s]=r_(n);for(let o=0;o<this.hashCount;o++){const c=this.we(a,s,o);if(!this.Se(c))return!1}return!0}static create(e,n,a){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new ug(o,s,n);return a.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const n=n_(e),[a,s]=r_(n);for(let o=0;o<this.hashCount;o++){const c=this.we(a,s,o);this.be(c)}}be(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Ko extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,a,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const s=new Map;return s.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new ch(Re.min(),s,new dt(Me),li(),Pe())}}class Tu{constructor(e,n,a,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Tu(a,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,a,s){this.De=e,this.removedTargetIds=n,this.key=a,this.ve=s}}class TE{constructor(e,n){this.targetId=e,this.Ce=n}}class wE{constructor(e,n,a=Xt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=s}}class i_{constructor(){this.Fe=0,this.Me=a_(),this.xe=Xt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Pe(),n=Pe(),a=Pe();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:a=a.add(s);break;default:we(38017,{changeType:o})}}),new Tu(this.xe,this.Oe,e,n,a)}Qe(){this.Ne=!1,this.Me=a_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class cC{constructor(e){this.ze=e,this.je=new Map,this.He=li(),this.Je=cf(),this.Ye=cf(),this.Ze=new dt(Me)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const a=this.rt(n);switch(e.state){case 0:this.it(n)&&a.ke(e.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(e.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(n);break;case 3:this.it(n)&&(a.Ge(),a.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),a.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((a,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,a=e.Ce.count,s=this._t(n);if(s){const o=s.target;if(yp(o))if(a===0){const c=new Ee(o.path);this.tt(n,c,nn.newNoDocument(c,Re.min()))}else Xe(a===1,20013,{expectedCount:a});else{const c=this.ut(n);if(c!==a){const d=this.ct(e),m=d?this.lt(d,e,c):1;if(m!==0){this.st(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:s=0},hashCount:o=0}=n;let c,d;try{c=Ji(a).toUint8Array()}catch(m){if(m instanceof K1)return dl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new ug(c,s,o)}catch(m){return dl(m instanceof Ko?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.pe===0?null:d}lt(e,n,a){return n.Ce.count===a-this.Tt(e,n.targetId)?0:2}Tt(e,n){const a=this.ze.getRemoteKeysForTarget(n);let s=0;return a.forEach(o=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(n,o,null),s++)}),s}It(e){const n=new Map;this.je.forEach((o,c)=>{const d=this._t(c);if(d){if(o.current&&yp(d.target)){const m=new Ee(d.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,nn.newNoDocument(m,e))}o.Le&&(n.set(c,o.qe()),o.Qe())}});let a=Pe();this.Ye.forEach((o,c)=>{let d=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const s=new ch(e,n,this.Ze,this.He,a);return this.He=li(),this.Je=cf(),this.Ye=cf(),this.Ze=new dt(Me),s}et(e,n){if(!this.it(e))return;const a=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,a),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,a){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),a&&(this.He=this.He.insert(n,a))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new i_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Vt(Me),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Vt(Me),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new i_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function cf(){return new dt(Ee.comparator)}function a_(){return new dt(Ee.comparator)}const fC={asc:"ASCENDING",desc:"DESCENDING"},hC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dC={and:"AND",or:"OR"};class mC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bp(t,e){return t.useProto3Json||rh(e)?e:{value:e}}function zf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pC(t,e){return zf(t,e.toTimestamp())}function xr(t){return Xe(!!t,49232),Re.fromTimestamp(function(n){const a=Wi(n);return new Mt(a.seconds,a.nanos)}(t))}function cg(t,e){return _p(t,e).canonicalString()}function _p(t,e){const n=function(s){return new ot(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AE(t){const e=ot.fromString(t);return Xe(OE(e),10190,{key:e.toString()}),e}function Ep(t,e){return cg(t.databaseId,e.path)}function zm(t,e){const n=AE(e);if(n.get(1)!==t.databaseId.projectId)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(CE(n))}function RE(t,e){return cg(t.databaseId,e)}function gC(t){const e=AE(t);return e.length===4?ot.emptyPath():CE(e)}function xp(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CE(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function s_(t,e,n){return{name:Ep(t,e),fields:n.value.mapValue.fields}}function yC(t,e){let n;if("targetChange"in e){e.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:we(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(p,y){return p.useProto3Json?(Xe(y===void 0||typeof y=="string",58123),Xt.fromBase64String(y||"")):(Xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Xt.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const y=p.code===void 0?oe.UNKNOWN:xE(p.code);return new be(y,p.message||"")}(c);n=new wE(a,s,o,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const s=zm(t,a.document.name),o=xr(a.document.updateTime),c=a.document.createTime?xr(a.document.createTime):Re.min(),d=new yn({mapValue:{fields:a.document.fields}}),m=nn.newFoundDocument(s,o,c,d),p=a.targetIds||[],y=a.removedTargetIds||[];n=new wf(p,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const s=zm(t,a.document),o=a.readTime?xr(a.readTime):Re.min(),c=nn.newNoDocument(s,o),d=a.removedTargetIds||[];n=new wf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const s=zm(t,a.document),o=a.removedTargetIds||[];n=new wf([],o,s,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:s=0,unchangedNames:o}=a,c=new lC(s,o),d=a.targetId;n=new TE(d,c)}}return n}function vC(t,e){let n;if(e instanceof xu)n={update:s_(t,e.key,e.value)};else if(e instanceof lg)n={delete:Ep(t,e.key)};else if(e instanceof la)n={update:s_(t,e.key,e.data),updateMask:RC(e.fieldMask)};else{if(!(e instanceof iC))return we(16599,{ft:e.type});n={verify:Ep(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(o,c){const d=c.transform;if(d instanceof Pf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof du)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof mu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Uf)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw we(20930,{transform:c.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:pC(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we(27497)}(t,e.precondition)),n}function bC(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map(n=>function(s,o){let c=s.updateTime?xr(s.updateTime):xr(o);return c.isEqual(Re.min())&&(c=xr(o)),new tC(c,s.transformResults||[])}(n,e))):[]}function _C(t,e){return{documents:[RE(t,e.path)]}}function EC(t,e){const n={structuredQuery:{}},a=e.path;let s;e.collectionGroup!==null?(s=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=RE(t,s);const o=function(p){if(p.length!==0)return NE(Sr.create(p,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const c=function(p){if(p.length!==0)return p.map(y=>function(T){return{field:ll(T.field),direction:wC(T.dir)}}(y))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=bp(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:s}}function xC(t){let e=gC(t.parent);const n=t.structuredQuery,a=n.from?n.from.length:0;let s=null;if(a>0){Xe(a===1,65062);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=function(_){const T=DE(_);return T instanceof Sr&&aE(T)?T.getFilters():[T]}(n.where));let c=[];n.orderBy&&(c=function(_){return _.map(T=>function(S){return new kf(ol(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(T))}(n.orderBy));let d=null;n.limit&&(d=function(_){let T;return T=typeof _=="object"?_.value:_,rh(T)?null:T}(n.limit));let m=null;n.startAt&&(m=function(_){const T=!!_.before,E=_.values||[];return new Lf(E,T)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const T=!_.before,E=_.values||[];return new Lf(E,T)}(n.endAt)),BR(e,s,c,o,d,"F",m,p)}function TC(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=ol(n.unaryFilter.field);return It.create(a,"==",{doubleValue:NaN});case"IS_NULL":const s=ol(n.unaryFilter.field);return It.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ol(n.unaryFilter.field);return It.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ol(n.unaryFilter.field);return It.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(t):t.fieldFilter!==void 0?function(n){return It.create(ol(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sr.create(n.compositeFilter.filters.map(a=>DE(a)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(n.compositeFilter.op))}(t):we(30097,{filter:t})}function wC(t){return fC[t]}function SC(t){return hC[t]}function AC(t){return dC[t]}function ll(t){return{fieldPath:t.canonicalString()}}function ol(t){return Yt.fromServerFormat(t.fieldPath)}function NE(t){return t instanceof It?function(n){if(n.op==="=="){if(Qb(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(Gb(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qb(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(Gb(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:SC(n.op),value:n.value}}}(t):t instanceof Sr?function(n){const a=n.getFilters().map(s=>NE(s));return a.length===1?a[0]:{compositeFilter:{op:AC(n.op),filters:a}}}(t):we(54877,{filter:t})}function RC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function OE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,a,s,o=Re.min(),c=Re.min(),d=Xt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.wt=e}}function DC(t){const e=xC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.Cn=new OC}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Zi.min())}updateCollectionGroup(e,n,a){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class OC{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),s=this.index[n]||new Vt(ot.comparator),o=!s.has(a);return this.index[n]=s.add(a),o}has(e){const n=e.lastSegment(),a=e.popLast(),s=this.index[n];return s&&s.has(a)}getEntries(e){return(this.index[e]||new Vt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IE=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(IE,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new yl(0)}static lr(){return new yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="LruGarbageCollector",IC=1048576;function u_([t,e],[n,a]){const s=Me(t,n);return s===0?Me(e,a):s}class MC{constructor(e){this.Er=e,this.buffer=new Vt(u_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();u_(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class VC{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){me(o_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rl(n)?me(o_,"Ignoring IndexedDB error during garbage collection: ",n):await Al(n)}await this.mr(3e5)})}}class jC{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(nh.le);const a=new MC(n);return this.gr.forEachTarget(e,s=>a.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>a.Rr(s))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.gr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(l_)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let a,s,o,c,d,m,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,c=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(a=_,d=Date.now(),this.removeTargets(e,a,n))).next(_=>(o=_,m=Date.now(),this.removeOrphanedDocuments(e,a))).next(_=>(p=Date.now(),al()<=qe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${o} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_})))}}function LC(t,e){return new jC(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.changes=new ls(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ae.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,a,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=s}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(a=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(a!==null&&nu(a.mutation,s,Dn.empty(),Mt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Pe()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Pe()){const s=Xa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,a).next(o=>{let c=Yo();return o.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const a=Xa();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Pe()))}populateOverlays(e,n,a){const s=[];return a.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((c,d)=>{n.set(c,d)})})}computeViews(e,n,a,s){let o=li();const c=tu(),d=function(){return tu()}();return n.forEach((m,p)=>{const y=a.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof la)?o=o.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),nu(y.mutation,p,y.mutation.getFieldMask(),Mt.now())):c.set(p.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var _;return d.set(p,new PC(y,(_=c.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,n){const a=tu();let s=new dt((c,d)=>c-d),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const d of c)d.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=a.get(m)||Dn.empty();y=d.applyToLocalView(p,y),a.set(m,y);const _=(s.get(d.batchId)||Pe()).add(m);s=s.insert(d.batchId,_)})}).next(()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,y=m.value,_=mE();y.forEach(T=>{if(!o.has(T)){const E=_E(n.get(T),a.get(T));E!==null&&_.set(T,E),o=o.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ae.waitFor(c)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,s){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$R(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,s):this.getDocumentsMatchingCollectionQuery(e,n,a,s)}getNextDocuments(e,n,a,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,s).next(o=>{const c=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,s-o.size):ae.resolve(Xa());let d=uu,m=o;return c.next(p=>ae.forEach(p,(y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),o.get(y)?ae.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{m=m.insert(y,T)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,m,p,Pe())).next(y=>({batchId:d,changes:dE(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(a=>{let s=Yo();return a.isFoundDocument()&&(s=s.insert(a.key,a)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,a,s){const o=n.collectionGroup;let c=Yo();return this.indexManager.getCollectionParents(e,o).next(d=>ae.forEach(d,m=>{const p=function(_,T){return new ah(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,a,s).next(y=>{y.forEach((_,T)=>{c=c.insert(_,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,a,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,o,s))).next(c=>{o.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,nn.newInvalidDocument(y)))});let d=Yo();return c.forEach((m,p)=>{const y=o.get(m);y!==void 0&&nu(y.mutation,p,Dn.empty(),Mt.now()),lh(n,p)&&(d=d.insert(m,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ae.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:xr(s.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:DC(s.bundledQuery),readTime:xr(s.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.overlays=new dt(Ee.comparator),this.Qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Xa();return ae.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&a.set(s,o)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((s,o)=>{this.bt(e,n,o)}),ae.resolve()}removeOverlaysForBatchId(e,n,a){const s=this.Qr.get(a);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(a)),ae.resolve()}getOverlaysForCollection(e,n,a){const s=Xa(),o=n.length+1,c=new Ee(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&m.largestBatchId>a&&s.set(m.getKey(),m)}return ae.resolve(s)}getOverlaysForCollectionGroup(e,n,a,s){let o=new dt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let y=o.get(p.largestBatchId);y===null&&(y=Xa(),o=o.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const d=Xa(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>d.set(p,y)),!(d.size()>=s)););return ae.resolve(d)}bt(e,n,a){const s=this.overlays.get(a.key);if(s!==null){const c=this.Qr.get(s.largestBatchId).delete(a.key);this.Qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new sC(n,a));let o=this.Qr.get(n);o===void 0&&(o=Pe(),this.Qr.set(n,o)),this.Qr.set(n,o.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.$r=new Vt(zt.Ur),this.Kr=new Vt(zt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const a=new zt(e,n);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.zr(new zt(e,n))}jr(e,n){e.forEach(a=>this.removeReference(a,n))}Hr(e){const n=new Ee(new ot([])),a=new zt(n,e),s=new zt(n,e+1),o=[];return this.Kr.forEachInRange([a,s],c=>{this.zr(c),o.push(c.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ee(new ot([])),a=new zt(n,e),s=new zt(n,e+1);let o=Pe();return this.Kr.forEachInRange([a,s],c=>{o=o.add(c.key)}),o}containsKey(e){const n=new zt(e,0),a=this.$r.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class zt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ee.comparator(e.key,n.key)||Me(e.Zr,n.Zr)}static Wr(e,n){return Me(e.Zr,n.Zr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Vt(zt.Ur)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new aC(o,n,a,s);this.mutationQueue.push(c);for(const d of s)this.Xr=this.Xr.add(new zt(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,n){return ae.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,s=this.ti(a),o=s<0?0:s;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?tg:this.nr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new zt(n,0),s=new zt(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([a,s],c=>{const d=this.ei(c.Zr);o.push(d)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Vt(Me);return n.forEach(s=>{const o=new zt(s,0),c=new zt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,c],d=>{a=a.add(d.Zr)})}),ae.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,s=a.length+1;let o=a;Ee.isDocumentKey(o)||(o=o.child(""));const c=new zt(new Ee(o),0);let d=new Vt(Me);return this.Xr.forEachWhile(m=>{const p=m.key.path;return!!a.isPrefixOf(p)&&(p.length===s&&(d=d.add(m.Zr)),!0)},c),ae.resolve(this.ni(d))}ni(e){const n=[];return e.forEach(a=>{const s=this.ei(a);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Xe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return ae.forEach(n.mutations,s=>{const o=new zt(s.key,n.batchId);return a=a.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,n){const a=new zt(n,0),s=this.Xr.firstAfterOrEqual(a);return ae.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.ii=e,this.docs=function(){return new dt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,s=this.docs.get(a),o=s?s.size:0,c=this.ii(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ae.resolve(a?a.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let a=li();return n.forEach(s=>{const o=this.docs.get(s);a=a.insert(s,o?o.document.mutableCopy():nn.newInvalidDocument(s))}),ae.resolve(a)}getDocumentsMatchingQuery(e,n,a,s){let o=li();const c=n.path,d=new Ee(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||bR(vR(y),a)<=0||(s.has(y.key)||lh(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,n,a,s){we(9500)}si(e,n){return ae.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new qC(this)}getSize(e){return ae.resolve(this.size)}}class qC extends kC{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((a,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(a)}),ae.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.persistence=e,this.oi=new ls(n=>ig(n),ag),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this._i=0,this.ai=new fg,this.targetCount=0,this.ui=yl.cr()}forEachTarget(e,n){return this.oi.forEach((a,s)=>n(s)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this._i&&(this._i=n),ae.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new yl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Tr(n),ae.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,a){let s=0;const o=[];return this.oi.forEach((c,d)=>{d.sequenceNumber<=n&&a.get(d.targetId)===null&&(this.oi.delete(c),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),ae.waitFor(o).next(()=>s)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const a=this.oi.get(n)||null;return ae.resolve(a)}addMatchingKeys(e,n,a){return this.ai.Gr(n,a),ae.resolve()}removeMatchingKeys(e,n,a){this.ai.jr(n,a);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(c=>{o.push(s.markPotentiallyOrphaned(e,c))}),ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const a=this.ai.Yr(n);return ae.resolve(a)}containsKey(e,n){return ae.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n){this.ci={},this.overlays={},this.li=new nh(0),this.hi=!1,this.hi=!0,this.Pi=new $C,this.referenceDelegate=e(this),this.Ti=new GC(this),this.indexManager=new NC,this.remoteDocumentCache=function(s){return new FC(s)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new CC(n),this.Ei=new zC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ci[e.toKey()];return a||(a=new HC(n,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,a){me("MemoryPersistence","Starting transaction:",e);const s=new QC(this.li.next());return this.referenceDelegate.di(),a(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,n){return ae.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,n)))}}class QC extends ER{constructor(e){super(),this.currentSequenceNumber=e}}class hg{constructor(e){this.persistence=e,this.Vi=new fg,this.mi=null}static fi(e){return new hg(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,n,a){return this.Vi.addReference(a,n),this.gi.delete(a.toString()),ae.resolve()}removeReference(e,n,a){return this.Vi.removeReference(a,n),this.gi.add(a.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>a.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.gi,a=>{const s=Ee.fromPath(a);return this.pi(e,s).next(o=>{o||n.removeEntry(s,Re.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(a=>{a?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ae.or([()=>ae.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Bf{constructor(e,n){this.persistence=e,this.yi=new ls(a=>wR(a.path),(a,s)=>a.isEqual(s)),this.garbageCollector=LC(this,n)}static fi(e,n){return new Bf(e,n)}di(){}Ai(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(s=>a+s))}Sr(e){let n=0;return this.yr(e,a=>{n++}).next(()=>n)}yr(e,n){return ae.forEach(this.yi,(a,s)=>this.Dr(e,a,s).next(o=>o?ae.resolve():n(s)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,c=>this.Dr(e,c,n).next(d=>{d||(a++,o.removeEntry(c,Re.min()))})).next(()=>o.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,a){return this.yi.set(a,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ae.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ef(e.data.value)),n}Dr(e,n,a){return ae.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return ae.resolve(s!==void 0&&s>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n,a,s){this.targetId=e,this.fromCache=n,this.ds=a,this.As=s}static Rs(e,n){let a=Pe(),s=Pe();for(const o of n.docChanges)switch(o.type){case 0:a=a.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new dg(e,n.fromCache,a,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return FA()?8:xR($A())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,a,s){const o={result:null};return this.ws(e,n).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Ss(e,n,s,a).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new YC;return this.bs(e,n,c).next(d=>{if(o.result=d,this.fs)return this.Ds(e,n,c,d.size)})}).next(()=>o.result)}Ds(e,n,a,s){return a.documentReadCount<this.gs?(al()<=qe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ae.resolve()):(al()<=qe.DEBUG&&me("QueryEngine","Query:",sl(n),"scans",a.documentReadCount,"local documents and returns",s,"documents as results."),a.documentReadCount>this.ps*s?(al()<=qe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):ae.resolve())}ws(e,n){if(Zb(n))return ae.resolve(null);let a=Er(n);return this.indexManager.getIndexType(e,a).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=vp(n,null,"F"),a=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(o=>{const c=Pe(...o);return this.ys.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,a).next(m=>{const p=this.vs(n,d);return this.Cs(n,p,c,m.readTime)?this.ws(e,vp(n,null,"F")):this.Fs(e,p,n,m)}))})))}Ss(e,n,a,s){return Zb(n)||s.isEqual(Re.min())?ae.resolve(null):this.ys.getDocuments(e,a).next(o=>{const c=this.vs(n,o);return this.Cs(n,c,a,s)?ae.resolve(null):(al()<=qe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),sl(n)),this.Fs(e,c,n,yR(s,uu)).next(d=>d))})}vs(e,n){let a=new Vt(fE(e));return n.forEach((s,o)=>{lh(e,o)&&(a=a.add(o))}),a}Cs(e,n,a,s){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}bs(e,n,a){return al()<=qe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",sl(n)),this.ys.getDocumentsMatchingQuery(e,n,Zi.min(),a)}Fs(e,n,a,s){return this.ys.getDocumentsMatchingQuery(e,a,s).next(o=>(n.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="LocalStore",XC=3e8;class ZC{constructor(e,n,a,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new dt(Me),this.Os=new ls(o=>ig(o),ag),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UC(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function WC(t,e,n,a){return new ZC(t,e,n,a)}async function VE(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let s;return n.mutationQueue.getAllMutationBatches(a).next(o=>(s=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(a))).next(o=>{const c=[],d=[];let m=Pe();for(const p of s){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of o){d.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(a,m).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:d}))})})}function JC(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const s=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(d,m,p,y){const _=p.batch,T=_.keys();let E=ae.resolve();return T.forEach(S=>{E=E.next(()=>y.getEntry(m,S)).next(R=>{const N=p.docVersions.get(S);Xe(N!==null,48541),R.version.compareTo(N)<0&&(_.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),y.addEntry(R)))})}),E.next(()=>d.mutationQueue.removeMutationBatch(m,_))}(n,a,e,o).next(()=>o.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let m=Pe();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m}(e))).next(()=>n.localDocuments.getDocuments(a,s))})}function jE(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function e4(t,e){const n=Ce(t),a=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const d=[];e.targetChanges.forEach((y,_)=>{const T=s.get(_);if(!T)return;d.push(n.Ti.removeMatchingKeys(o,y.removedDocuments,_).next(()=>n.Ti.addMatchingKeys(o,y.addedDocuments,_)));let E=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?E=E.withResumeToken(Xt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(y.resumeToken,a)),s=s.insert(_,E),function(R,N,V){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=XC?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(T,E,y)&&d.push(n.Ti.updateTargetData(o,E))});let m=li(),p=Pe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))}),d.push(t4(o,c,e.documentUpdates).next(y=>{m=y.qs,p=y.Qs})),!a.isEqual(Re.min())){const y=n.Ti.getLastRemoteSnapshotVersion(o).next(_=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,a));d.push(y)}return ae.waitFor(d).next(()=>c.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,m,p)).next(()=>m)}).then(o=>(n.xs=s,o))}function t4(t,e,n){let a=Pe(),s=Pe();return n.forEach(o=>a=a.add(o)),e.getEntries(t,a).next(o=>{let c=li();return n.forEach((d,m)=>{const p=o.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),m.isNoDocument()&&m.version.isEqual(Re.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):me(mg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)}),{qs:c,Qs:s}})}function n4(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=tg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function r4(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let s;return n.Ti.getTargetData(a,e).next(o=>o?(s=o,ae.resolve(s)):n.Ti.allocateTargetId(a).next(c=>(s=new $i(e,c,"TargetPurposeListen",a.currentSequenceNumber),n.Ti.addTargetData(a,s).next(()=>s))))}).then(a=>{const s=n.xs.get(a.targetId);return(s===null||a.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(a.targetId,a),n.Os.set(e,a.targetId)),a})}async function Tp(t,e,n){const a=Ce(t),s=a.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",o,c=>a.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!Rl(c))throw c;me(mg,`Failed to update sequence numbers for target ${e}: ${c}`)}a.xs=a.xs.remove(e),a.Os.delete(s.target)}function c_(t,e,n){const a=Ce(t);let s=Re.min(),o=Pe();return a.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const _=Ce(m),T=_.Os.get(y);return T!==void 0?ae.resolve(_.xs.get(T)):_.Ti.getTargetData(p,y)}(a,c,Er(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(c,d.targetId).next(m=>{o=m})}).next(()=>a.Ms.getDocumentsMatchingQuery(c,e,n?s:Re.min(),n?o:Pe())).next(d=>(i4(a,FR(e),d),{documents:d,$s:o})))}function i4(t,e,n){let a=t.Ns.get(e)||Re.min();n.forEach((s,o)=>{o.readTime.compareTo(a)>0&&(a=o.readTime)}),t.Ns.set(e,a)}class f_{constructor(){this.activeTargetIds=XR()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a4{constructor(){this.xo=new f_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,a){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new f_,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="ConnectivityMonitor";class d_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){me(h_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){me(h_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff=null;function wp(){return ff===null?ff=function(){return 268435456+Math.round(2147483648*Math.random())}():ff++,"0x"+ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="RestConnection",l4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o4{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${a}/databases/${s}`,this.Go=this.databaseId.database===Vf?`project_id=${a}`:`project_id=${a}&database_id=${s}`}zo(e,n,a,s,o){const c=wp(),d=this.jo(e,n.toUriEncodedString());me(Bm,`Sending RPC '${e}' ${c}:`,d,a);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,s,o);const{host:p}=new URL(d),y=Wp(p);return this.Jo(e,d,m,a,y).then(_=>(me(Bm,`Received RPC '${e}' ${c}: `,_),_),_=>{throw dl(Bm,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",a),_})}Yo(e,n,a,s,o,c){return this.zo(e,n,a,s,o)}Ho(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),a&&a.headers.forEach((s,o)=>e[o]=s)}jo(e,n){const a=l4[e];return`${this.Ko}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class c4 extends o4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,s,o){const c=wp();return new Promise((d,m)=>{const p=new P1;p.setWithCredentials(!0),p.listenOnce(U1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _f.NO_ERROR:const _=p.getResponseJson();me(en,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case _f.TIMEOUT:me(en,`RPC '${e}' ${c} timed out`),m(new be(oe.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const T=p.getStatus();if(me(en,`RPC '${e}' ${c} failed with status:`,T,"response text:",p.getResponseText()),T>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const R=function(V){const I=V.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(I)>=0?I:oe.UNKNOWN}(S.status);m(new be(R,S.message))}else m(new be(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new be(oe.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(en,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(s);me(en,`RPC '${e}' ${c} sending request:`,s),p.send(n,"POST",y,a,15)})}T_(e,n,a){const s=wp(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=$1(),d=B1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const y=o.join("");me(en,`Creating RPC '${e}' stream ${s}: ${y}`,m);const _=c.createWebChannel(y,m);let T=!1,E=!1;const S=new u4({Zo:N=>{E?me(en,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(T||(me(en,`Opening RPC '${e}' stream ${s} transport.`),_.open(),T=!0),me(en,`RPC '${e}' stream ${s} sending:`,N),_.send(N))},Xo:()=>_.close()}),R=(N,V,I)=>{N.listen(V,B=>{try{I(B)}catch(W){setTimeout(()=>{throw W},0)}})};return R(_,Qo.EventType.OPEN,()=>{E||(me(en,`RPC '${e}' stream ${s} transport opened.`),S.__())}),R(_,Qo.EventType.CLOSE,()=>{E||(E=!0,me(en,`RPC '${e}' stream ${s} transport closed`),S.u_())}),R(_,Qo.EventType.ERROR,N=>{E||(E=!0,dl(en,`RPC '${e}' stream ${s} transport errored. Name:`,N.name,"Message:",N.message),S.u_(new be(oe.UNAVAILABLE,"The operation could not be completed")))}),R(_,Qo.EventType.MESSAGE,N=>{var V;if(!E){const I=N.data[0];Xe(!!I,16349);const B=I,W=(B==null?void 0:B.error)||((V=B[0])===null||V===void 0?void 0:V.error);if(W){me(en,`RPC '${e}' stream ${s} received error:`,W);const q=W.status;let ne=function(M){const z=At[M];if(z!==void 0)return xE(z)}(q),L=W.message;ne===void 0&&(ne=oe.INTERNAL,L="Unknown error status: "+q+" with message "+W.message),E=!0,S.u_(new be(ne,L)),_.close()}else me(en,`RPC '${e}' stream ${s} received:`,I),S.c_(I)}}),R(d,z1.STAT_EVENT,N=>{N.stat===hp.PROXY?me(en,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===hp.NOPROXY&&me(en,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}}function $m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return new mC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n,a=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=n,this.I_=a,this.E_=s,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),a=Math.max(0,Date.now()-this.V_),s=Math.max(0,n-a);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="PersistentStream";class kE{constructor(e,n,a,s,o,c,d,m){this.xi=e,this.y_=a,this.w_=s,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new LE(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(si(n.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,s])=>{this.S_===n&&this.K_(a,s)},a=>{e(()=>{const s=new be(oe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.W_(s)})})}K_(e,n){const a=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{a(()=>this.W_(s))}),this.stream.onMessage(s=>{a(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return me(m_,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(me(m_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f4 extends kE{constructor(e,n,a,s,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,s,c),this.serializer=o}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=yC(this.serializer,e),a=function(o){if(!("targetChange"in o))return Re.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?xr(c.readTime):Re.min()}(e);return this.listener.j_(n,a)}H_(e){const n={};n.database=xp(this.serializer),n.addTarget=function(o,c){let d;const m=c.target;if(d=yp(m)?{documents:_C(o,m)}:{query:EC(o,m).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=SE(o,c.resumeToken);const p=bp(o,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Re.min())>0){d.readTime=zf(o,c.snapshotVersion.toTimestamp());const p=bp(o,c.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const a=TC(this.serializer,e);a&&(n.labels=a),this.L_(n)}J_(e){const n={};n.database=xp(this.serializer),n.removeTarget=e,this.L_(n)}}class h4 extends kE{constructor(e,n,a,s,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,s,c),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=bC(e.writeResults,e.commitTime),a=xr(e.commitTime);return this.listener.ea(a,n)}ta(){const e={};e.database=xp(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>vC(this.serializer,a))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{}class m4 extends d4{constructor(e,n,a,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=s,this.na=!1}ra(){if(this.na)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,a,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.zo(e,_p(n,a),s,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(oe.UNKNOWN,o.toString())})}Yo(e,n,a,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Yo(e,_p(n,a),s,c,d,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new be(oe.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class p4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(si(n),this.oa=!1):me("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="RemoteStore";class g4{constructor(e,n,a,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(c=>{a.enqueueAndForget(async()=>{os(this)&&(me(ns,"Restarting streams for network reachability change."),await async function(m){const p=Ce(m);p.Ta.add(4),await wu(p),p.da.set("Unknown"),p.Ta.delete(4),await hh(p)}(this))})}),this.da=new p4(a,s)}}async function hh(t){if(os(t))for(const e of t.Ia)await e(!0)}async function wu(t){for(const e of t.Ia)await e(!1)}function PE(t,e){const n=Ce(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),vg(n)?yg(n):Cl(n).M_()&&gg(n,e))}function pg(t,e){const n=Ce(t),a=Cl(n);n.Pa.delete(e),a.M_()&&UE(n,e),n.Pa.size===0&&(a.M_()?a.N_():os(n)&&n.da.set("Unknown"))}function gg(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(t).H_(e)}function UE(t,e){t.Aa.Ke(e),Cl(t).J_(e)}function yg(t){t.Aa=new cC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Cl(t).start(),t.da._a()}function vg(t){return os(t)&&!Cl(t).F_()&&t.Pa.size>0}function os(t){return Ce(t).Ta.size===0}function zE(t){t.Aa=void 0}async function y4(t){t.da.set("Online")}async function v4(t){t.Pa.forEach((e,n)=>{gg(t,e)})}async function b4(t,e){zE(t),vg(t)?(t.da.ca(e),yg(t)):t.da.set("Unknown")}async function _4(t,e,n){if(t.da.set("Online"),e instanceof wE&&e.state===2&&e.cause)try{await async function(s,o){const c=o.cause;for(const d of o.targetIds)s.Pa.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Pa.delete(d),s.Aa.removeTarget(d))}(t,e)}catch(a){me(ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await $f(t,a)}else if(e instanceof wf?t.Aa.Xe(e):e instanceof TE?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(Re.min()))try{const a=await jE(t.localStore);n.compareTo(a)>=0&&await function(o,c){const d=o.Aa.It(c);return d.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=o.Pa.get(p);y&&o.Pa.set(p,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,p)=>{const y=o.Pa.get(m);if(!y)return;o.Pa.set(m,y.withResumeToken(Xt.EMPTY_BYTE_STRING,y.snapshotVersion)),UE(o,m);const _=new $i(y.target,m,p,y.sequenceNumber);gg(o,_)}),o.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(a){me(ns,"Failed to raise snapshot:",a),await $f(t,a)}}async function $f(t,e,n){if(!Rl(e))throw e;t.Ta.add(1),await wu(t),t.da.set("Offline"),n||(n=()=>jE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(ns,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await hh(t)})}function BE(t,e){return e().catch(n=>$f(t,n,e))}async function dh(t){const e=Ce(t),n=ta(e);let a=e.ha.length>0?e.ha[e.ha.length-1].batchId:tg;for(;E4(e);)try{const s=await n4(e.localStore,a);if(s===null){e.ha.length===0&&n.N_();break}a=s.batchId,x4(e,s)}catch(s){await $f(e,s)}$E(e)&&HE(e)}function E4(t){return os(t)&&t.ha.length<10}function x4(t,e){t.ha.push(e);const n=ta(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function $E(t){return os(t)&&!ta(t).F_()&&t.ha.length>0}function HE(t){ta(t).start()}async function T4(t){ta(t).ta()}async function w4(t){const e=ta(t);for(const n of t.ha)e.Z_(n.mutations)}async function S4(t,e,n){const a=t.ha.shift(),s=og.from(a,e,n);await BE(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await dh(t)}async function A4(t,e){e&&ta(t).Y_&&await async function(a,s){if(function(c){return oC(c)&&c!==oe.ABORTED}(s.code)){const o=a.ha.shift();ta(a).O_(),await BE(a,()=>a.remoteSyncer.rejectFailedWrite(o.batchId,s)),await dh(a)}}(t,e),$E(t)&&HE(t)}async function p_(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),me(ns,"RemoteStore received new credentials");const a=os(n);n.Ta.add(3),await wu(n),a&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await hh(n)}async function R4(t,e){const n=Ce(t);e?(n.Ta.delete(2),await hh(n)):e||(n.Ta.add(2),await wu(n),n.da.set("Unknown"))}function Cl(t){return t.Ra||(t.Ra=function(n,a,s){const o=Ce(n);return o.ra(),new f4(a,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:y4.bind(null,t),n_:v4.bind(null,t),i_:b4.bind(null,t),j_:_4.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),vg(t)?yg(t):t.da.set("Unknown")):(await t.Ra.stop(),zE(t))})),t.Ra}function ta(t){return t.Va||(t.Va=function(n,a,s){const o=Ce(n);return o.ra(),new h4(a,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:T4.bind(null,t),i_:A4.bind(null,t),X_:w4.bind(null,t),ea:S4.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await dh(t)):(await t.Va.stop(),t.ha.length>0&&(me(ns,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,a,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=s,this.removalCallback=o,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,s,o){const c=Date.now()+a,d=new bg(e,n,c,s,o);return d.start(a),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _g(t,e){if(si("AsyncQueue",`${e}: ${t}`),Rl(t))return new be(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ee.comparator(n.key,a.key):(n,a)=>Ee.comparator(n.key,a.key),this.keyedMap=Yo(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=a.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new cl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.ma=new dt(Ee.comparator)}track(e){const n=e.doc.key,a=this.ma.get(n);a?e.type!==0&&a.type===3?this.ma=this.ma.insert(n,e):e.type===3&&a.type!==1?this.ma=this.ma.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ma=this.ma.remove(n):e.type===1&&a.type===2?this.ma=this.ma.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,fa:a}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,a)=>{e.push(a)}),e}}class vl{constructor(e,n,a,s,o,c,d,m,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=s,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,s,o){const c=[];return n.forEach(d=>{c.push({type:0,doc:d})}),new vl(e,n,cl.emptySet(n),c,a,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==a[s].type||!n[s].doc.isEqual(a[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class D4{constructor(){this.queries=y_(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,a){const s=Ce(n),o=s.queries;s.queries=y_(),o.forEach((c,d)=>{for(const m of d.ya)m.onError(a)})})(this,new be(oe.ABORTED,"Firestore shutting down"))}}function y_(){return new ls(t=>cE(t),sh)}async function N4(t,e){const n=Ce(t);let a=3;const s=e.query;let o=n.queries.get(s);o?!o.wa()&&e.Sa()&&(a=2):(o=new C4,a=e.Sa()?0:1);try{switch(a){case 0:o.pa=await n.onListen(s,!0);break;case 1:o.pa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(c){const d=_g(c,`Initialization of query '${sl(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,o),o.ya.push(e),e.Da(n.onlineState),o.pa&&e.va(o.pa)&&Eg(n)}async function O4(t,e){const n=Ce(t),a=e.query;let s=3;const o=n.queries.get(a);if(o){const c=o.ya.indexOf(e);c>=0&&(o.ya.splice(c,1),o.ya.length===0?s=e.Sa()?0:1:!o.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function I4(t,e){const n=Ce(t);let a=!1;for(const s of e){const o=s.query,c=n.queries.get(o);if(c){for(const d of c.ya)d.va(s)&&(a=!0);c.pa=s}}a&&Eg(n)}function M4(t,e,n){const a=Ce(t),s=a.queries.get(e);if(s)for(const o of s.ya)o.onError(n);a.queries.delete(e)}function Eg(t){t.ba.forEach(e=>{e.next()})}var Sp,v_;(v_=Sp||(Sp={})).Ca="default",v_.Cache="cache";class V4{constructor(e,n,a){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=a||{}}va(e){if(!this.options.includeMetadataChanges){const a=[];for(const s of e.docChanges)s.type!==3&&a.push(s);e=new vl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const a=n!=="Offline";return(!this.options.La||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=vl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.key=e}}class qE{constructor(e){this.key=e}}class j4{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Pe(),this.mutatedKeys=Pe(),this.Ha=fE(e),this.Ja=new cl(this.Ha)}get Ya(){return this.Ga}Za(e,n){const a=n?n.Xa:new g_,s=n?n.Ja:this.Ja;let o=n?n.mutatedKeys:this.mutatedKeys,c=s,d=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,_)=>{const T=s.get(y),E=lh(this.query,_)?_:null,S=!!T&&this.mutatedKeys.has(T.key),R=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;T&&E?T.data.isEqual(E.data)?S!==R&&(a.track({type:3,doc:E}),N=!0):this.eu(T,E)||(a.track({type:2,doc:E}),N=!0,(m&&this.Ha(E,m)>0||p&&this.Ha(E,p)<0)&&(d=!0)):!T&&E?(a.track({type:0,doc:E}),N=!0):T&&!E&&(a.track({type:1,doc:T}),N=!0,(m||p)&&(d=!0)),N&&(E?(c=c.add(E),o=R?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),a.track({type:1,doc:y})}return{Ja:c,Xa:a,Cs:d,mutatedKeys:o}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,s){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const c=e.Xa.ga();c.sort((y,_)=>function(E,S){const R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:N})}};return R(E)-R(S)}(y.type,_.type)||this.Ha(y.doc,_.doc)),this.tu(a),s=s!=null&&s;const d=n&&!s?this.nu():[],m=this.ja.size===0&&this.current&&!s?1:0,p=m!==this.za;return this.za=m,c.length!==0||p?{snapshot:new vl(this.query,e.Ja,o,c,e.mutatedKeys,m===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new g_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Pe(),this.Ja.forEach(a=>{this.iu(a.key)&&(this.ja=this.ja.add(a.key))});const n=[];return e.forEach(a=>{this.ja.has(a)||n.push(new qE(a))}),this.ja.forEach(a=>{e.has(a)||n.push(new FE(a))}),n}su(e){this.Ga=e.$s,this.ja=Pe();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return vl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const xg="SyncEngine";class L4{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class k4{constructor(e){this.key=e,this._u=!1}}class P4{constructor(e,n,a,s,o,c){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new ls(d=>cE(d),sh),this.cu=new Map,this.lu=new Set,this.hu=new dt(Ee.comparator),this.Pu=new Map,this.Tu=new fg,this.Iu={},this.Eu=new Map,this.du=yl.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function U4(t,e,n=!0){const a=ZE(t);let s;const o=a.uu.get(e);return o?(a.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.ou()):s=await GE(a,e,n,!0),s}async function z4(t,e){const n=ZE(t);await GE(n,e,!0,!1)}async function GE(t,e,n,a){const s=await r4(t.localStore,Er(e)),o=s.targetId,c=t.sharedClientState.addLocalQueryTarget(o,n);let d;return a&&(d=await B4(t,e,o,c==="current",s.resumeToken)),t.isPrimaryClient&&n&&PE(t.remoteStore,s),d}async function B4(t,e,n,a,s){t.Ru=(_,T,E)=>async function(R,N,V,I){let B=N.view.Za(V);B.Cs&&(B=await c_(R.localStore,N.query,!1).then(({documents:L})=>N.view.Za(L,B)));const W=I&&I.targetChanges.get(N.targetId),q=I&&I.targetMismatches.get(N.targetId)!=null,ne=N.view.applyChanges(B,R.isPrimaryClient,W,q);return __(R,N.targetId,ne.ru),ne.snapshot}(t,_,T,E);const o=await c_(t.localStore,e,!0),c=new j4(e,o.$s),d=c.Za(o.documents),m=Tu.createSynthesizedTargetChangeForCurrentChange(n,a&&t.onlineState!=="Offline",s),p=c.applyChanges(d,t.isPrimaryClient,m);__(t,n,p.ru);const y=new L4(e,n,c);return t.uu.set(e,y),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),p.snapshot}async function $4(t,e,n){const a=Ce(t),s=a.uu.get(e),o=a.cu.get(s.targetId);if(o.length>1)return a.cu.set(s.targetId,o.filter(c=>!sh(c,e))),void a.uu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(s.targetId),a.sharedClientState.isActiveQueryTarget(s.targetId)||await Tp(a.localStore,s.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(s.targetId),n&&pg(a.remoteStore,s.targetId),Ap(a,s.targetId)}).catch(Al)):(Ap(a,s.targetId),await Tp(a.localStore,s.targetId,!0))}async function H4(t,e){const n=Ce(t),a=n.uu.get(e),s=n.cu.get(a.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),pg(n.remoteStore,a.targetId))}async function F4(t,e,n){const a=Z4(t);try{const s=await function(c,d){const m=Ce(c),p=Mt.now(),y=d.reduce((E,S)=>E.add(S.key),Pe());let _,T;return m.persistence.runTransaction("Locally write mutations","readwrite",E=>{let S=li(),R=Pe();return m.Bs.getEntries(E,y).next(N=>{S=N,S.forEach((V,I)=>{I.isValidDocument()||(R=R.add(V))})}).next(()=>m.localDocuments.getOverlayedDocuments(E,S)).next(N=>{_=N;const V=[];for(const I of d){const B=rC(I,_.get(I.key).overlayedDocument);B!=null&&V.push(new la(I.key,B,nE(B.value.mapValue),Wn.exists(!0)))}return m.mutationQueue.addMutationBatch(E,p,V,d)}).next(N=>{T=N;const V=N.applyToLocalDocumentSet(_,R);return m.documentOverlayCache.saveOverlays(E,N.batchId,V)})}).then(()=>({batchId:T.batchId,changes:dE(_)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(s.batchId),function(c,d,m){let p=c.Iu[c.currentUser.toKey()];p||(p=new dt(Me)),p=p.insert(d,m),c.Iu[c.currentUser.toKey()]=p}(a,s.batchId,n),await Su(a,s.changes),await dh(a.remoteStore)}catch(s){const o=_g(s,"Failed to persist write");n.reject(o)}}async function QE(t,e){const n=Ce(t);try{const a=await e4(n.localStore,e);e.targetChanges.forEach((s,o)=>{const c=n.Pu.get(o);c&&(Xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c._u=!0:s.modifiedDocuments.size>0?Xe(c._u,14607):s.removedDocuments.size>0&&(Xe(c._u,42227),c._u=!1))}),await Su(n,a,e)}catch(a){await Al(a)}}function b_(t,e,n){const a=Ce(t);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const s=[];a.uu.forEach((o,c)=>{const d=c.view.Da(e);d.snapshot&&s.push(d.snapshot)}),function(c,d){const m=Ce(c);m.onlineState=d;let p=!1;m.queries.forEach((y,_)=>{for(const T of _.ya)T.Da(d)&&(p=!0)}),p&&Eg(m)}(a.eventManager,e),s.length&&a.au.j_(s),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function q4(t,e,n){const a=Ce(t);a.sharedClientState.updateQueryState(e,"rejected",n);const s=a.Pu.get(e),o=s&&s.key;if(o){let c=new dt(Ee.comparator);c=c.insert(o,nn.newNoDocument(o,Re.min()));const d=Pe().add(o),m=new ch(Re.min(),new Map,new dt(Me),c,d);await QE(a,m),a.hu=a.hu.remove(o),a.Pu.delete(e),Tg(a)}else await Tp(a.localStore,e,!1).then(()=>Ap(a,e,n)).catch(Al)}async function G4(t,e){const n=Ce(t),a=e.batch.batchId;try{const s=await JC(n.localStore,e);KE(n,a,null),YE(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Su(n,s)}catch(s){await Al(s)}}async function Q4(t,e,n){const a=Ce(t);try{const s=await function(c,d){const m=Ce(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,d).next(_=>(Xe(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(a.localStore,e);KE(a,e,n),YE(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Su(a,s)}catch(s){await Al(s)}}function YE(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function KE(t,e,n){const a=Ce(t);let s=a.Iu[a.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),a.Iu[a.currentUser.toKey()]=s}}function Ap(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const a of t.cu.get(e))t.uu.delete(a),n&&t.au.Vu(a,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(a=>{t.Tu.containsKey(a)||XE(t,a)})}function XE(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(pg(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),Tg(t))}function __(t,e,n){for(const a of n)a instanceof FE?(t.Tu.addReference(a.key,e),Y4(t,a)):a instanceof qE?(me(xg,"Document no longer in limbo: "+a.key),t.Tu.removeReference(a.key,e),t.Tu.containsKey(a.key)||XE(t,a.key)):we(19791,{mu:a})}function Y4(t,e){const n=e.key,a=n.path.canonicalString();t.hu.get(n)||t.lu.has(a)||(me(xg,"New document in limbo: "+n),t.lu.add(a),Tg(t))}function Tg(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new Ee(ot.fromString(e)),a=t.du.next();t.Pu.set(a,new k4(n)),t.hu=t.hu.insert(n,a),PE(t.remoteStore,new $i(Er(uE(n.path)),a,"TargetPurposeLimboResolution",nh.le))}}async function Su(t,e,n){const a=Ce(t),s=[],o=[],c=[];a.uu.isEmpty()||(a.uu.forEach((d,m)=>{c.push(a.Ru(m,e,n).then(p=>{var y;if((p||n)&&a.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;a.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){s.push(p);const _=dg.Rs(m.targetId,p);o.push(_)}}))}),await Promise.all(c),a.au.j_(s),await async function(m,p){const y=Ce(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ae.forEach(p,T=>ae.forEach(T.ds,E=>y.persistence.referenceDelegate.addReference(_,T.targetId,E)).next(()=>ae.forEach(T.As,E=>y.persistence.referenceDelegate.removeReference(_,T.targetId,E)))))}catch(_){if(!Rl(_))throw _;me(mg,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const E=y.xs.get(T),S=E.snapshotVersion,R=E.withLastLimboFreeSnapshotVersion(S);y.xs=y.xs.insert(T,R)}}}(a.localStore,o))}async function K4(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){me(xg,"User change. New user:",e.toKey());const a=await VE(n.localStore,e);n.currentUser=e,function(o,c){o.Eu.forEach(d=>{d.forEach(m=>{m.reject(new be(oe.CANCELLED,c))})}),o.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Su(n,a.ks)}}function X4(t,e){const n=Ce(t),a=n.Pu.get(e);if(a&&a._u)return Pe().add(a.key);{let s=Pe();const o=n.cu.get(e);if(!o)return s;for(const c of o){const d=n.uu.get(c);s=s.unionWith(d.view.Ya)}return s}}function ZE(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=q4.bind(null,e),e.au.j_=I4.bind(null,e.eventManager),e.au.Vu=M4.bind(null,e.eventManager),e}function Z4(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q4.bind(null,e),e}class Hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return WC(this.persistence,new KC,e.initialUser,this.serializer)}yu(e){return new ME(hg.fi,this.serializer)}pu(e){return new a4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hf.provider={build:()=>new Hf};class W4 extends Hf{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Xe(this.persistence.referenceDelegate instanceof Bf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new VC(a,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new ME(a=>Bf.fi(a,n),this.serializer)}}class Rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>b_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=K4.bind(null,this.syncEngine),await R4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new D4}()}createDatastore(e){const n=fh(e.databaseInfo.databaseId),a=function(o){return new c4(o)}(e.databaseInfo);return function(o,c,d,m){return new m4(o,c,d,m)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,s,o,c,d){return new g4(a,s,o,c,d)}(this.localStore,this.datastore,e.asyncQueue,n=>b_(this.syncEngine,n,0),function(){return d_.C()?new d_:new s4}())}createSyncEngine(e,n){return function(s,o,c,d,m,p,y){const _=new P4(s,o,c,d,m,p);return y&&(_.Au=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=Ce(s);me(ns,"RemoteStore shutting down."),o.Ta.add(5),await wu(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rp.provider={build:()=>new Rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="FirestoreClient";class eD{constructor(e,n,a,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=s,this.user=tn.UNAUTHENTICATED,this.clientId=G1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(a,async c=>{me(na,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(a,c=>(me(na,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=_g(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Hm(t,e){t.asyncQueue.verifyOperationInProgress(),me(na,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let a=n.initialUser;t.setCredentialChangeListener(async s=>{a.isEqual(s)||(await VE(e.localStore,s),a=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function E_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tD(t);me(na,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(a=>p_(e.remoteStore,a)),t.setAppCheckTokenChangeListener((a,s)=>p_(e.remoteStore,s)),t._onlineComponents=e}async function tD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(na,"Using user provided OfflineComponentProvider");try{await Hm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;dl("Error using user provided cache. Falling back to memory cache: "+n),await Hm(t,new Hf)}}else me(na,"Using default OfflineComponentProvider"),await Hm(t,new W4(void 0));return t._offlineComponents}async function WE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(na,"Using user provided OnlineComponentProvider"),await E_(t,t._uninitializedComponentsProvider._online)):(me(na,"Using default OnlineComponentProvider"),await E_(t,new Rp))),t._onlineComponents}function nD(t){return WE(t).then(e=>e.syncEngine)}async function rD(t){const e=await WE(t),n=e.eventManager;return n.onListen=U4.bind(null,e.syncEngine),n.onUnlisten=$4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=H4.bind(null,e.syncEngine),n}function iD(t,e,n={}){const a=new Gi;return t.asyncQueue.enqueueAndForget(async()=>function(o,c,d,m,p){const y=new J4({next:T=>{y.Cu(),c.enqueueAndForget(()=>O4(o,_)),T.fromCache&&m.source==="server"?p.reject(new be(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new V4(d,y,{includeMetadataChanges:!0,La:!0});return N4(o,_)}(await rD(t),t.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t,e,n){if(!n)throw new be(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aD(t,e,n,a){if(e===!0&&a===!0)throw new be(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function T_(t){if(!Ee.isDocumentKey(t))throw new be(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function w_(t){if(Ee.isDocumentKey(t))throw new be(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we(12329,{type:typeof t})}function rs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wg(t);throw new be(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="firestore.googleapis.com",S_=!0;class A_{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new be(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tx,this.ssl=S_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:S_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IC)throw new be(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new be(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,s){return a.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mh{constructor(e,n,a,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new oR;switch(a.type){case"firstParty":return new hR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new be(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=x_.get(n);a&&(me("ComponentProvider","Removing Datastore"),x_.delete(n),a.terminate())}(this),Promise.resolve()}}function sD(t,e,n,a={}){var s;t=rs(t,mh);const o=Wp(e),c=t._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:t._getEmulatorOptions()}),m=`${e}:${n}`;o&&(kA(`https://${m}`),BA("Firestore",!0)),c.host!==tx&&c.host!==m&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:o,emulatorOptions:a});if(!Nf(p,d)&&(t._setSettings(p),a.mockUserToken)){let y,_;if(typeof a.mockUserToken=="string")y=a.mockUserToken,_=tn.MOCK_USER;else{y=PA(a.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new be(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new tn(T)}t._authCredentials=new uR(new F1(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ph(this.firestore,e,this._query)}}class Fn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fn(this.firestore,e,this._key)}}class Qi extends ph{constructor(e,n,a){super(e,n,uE(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fn(this.firestore,null,new Ee(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function ci(t,e,...n){if(t=Xi(t),ex("collection","path",e),t instanceof mh){const a=ot.fromString(e,...n);return w_(a),new Qi(t,null,a)}{if(!(t instanceof Fn||t instanceof Qi))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=t._path.child(ot.fromString(e,...n));return w_(a),new Qi(t.firestore,null,a)}}function us(t,e,...n){if(t=Xi(t),arguments.length===1&&(e=G1.newId()),ex("doc","path",e),t instanceof mh){const a=ot.fromString(e,...n);return T_(a),new Fn(t,null,new Ee(a))}{if(!(t instanceof Fn||t instanceof Qi))throw new be(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=t._path.child(ot.fromString(e,...n));return T_(a),new Fn(t.firestore,t instanceof Qi?t.converter:null,new Ee(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="AsyncQueue";class C_{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new LE(this,"async_queue_retry"),this.ec=()=>{const a=$m();a&&me(R_,"Visibility state changed to "+a.visibilityState),this.C_.p_()},this.tc=e;const n=$m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=$m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Gi;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Rl(e))throw e;me(R_,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(a=>{throw this.Ju=a,this.Yu=!1,si("INTERNAL UNHANDLED ERROR: ",D_(a)),a}).then(a=>(this.Yu=!1,a))));return this.tc=n,n}enqueueAfterDelay(e,n,a){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const s=bg.createAndSchedule(this,e,n,a,o=>this.oc(o));return this.Hu.push(s),s}nc(){this.Ju&&we(47125,{_c:D_(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function D_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Au extends mh{constructor(e,n,a,s){super(e,n,a,s),this.type="firestore",this._queue=new C_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C_(e),this._firestoreClient=void 0,await e}}}function lD(t,e){const n=typeof t=="object"?t:Z2(),a=typeof t=="string"?t:Vf,s=G2(n,"firestore").getImmediate({identifier:a});if(!s._initialized){const o=jA("firestore");o&&sD(s,...o)}return s}function nx(t){if(t._terminated)throw new be(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oD(t),t._firestoreClient}function oD(t){var e,n,a;const s=t._freezeSettings(),o=function(d,m,p,y){return new RR(d,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,JE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=s.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new eD(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bl(Xt.fromBase64String(e))}catch(n){throw new be(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bl(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,s){if(a.length!==s.length)return!1;for(let o=0;o<a.length;++o)if(a[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=/^__.*__$/;class cD{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class rx{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new la(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ix(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{hc:t})}}class Cg{constructor(e,n,a,s,o,c){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=s,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Cg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:a,Ec:!1});return s.dc(e),s}Ac(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tc({path:a,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Ff(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(ix(this.hc)&&uD.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class fD{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||fh(e)}gc(e,n,a,s=!1){return new Cg({hc:e,methodName:n,fc:a,path:Yt.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ax(t){const e=t._freezeSettings(),n=fh(t._databaseId);return new fD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hD(t,e,n,a,s,o={}){const c=t.gc(o.merge||o.mergeFields?2:0,e,n,s);Dg("Data must be an object, but it was:",c,a);const d=sx(a,c);let m,p;if(o.merge)m=new Dn(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const T=Cp(e,_,n);if(!c.contains(T))throw new be(oe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);ox(y,T)||y.push(T)}m=new Dn(y),p=c.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,p=c.fieldTransforms;return new cD(new yn(d),m,p)}class yh extends Sg{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yh}}function dD(t,e,n,a){const s=t.gc(1,e,n);Dg("Data must be an object, but it was:",s,a);const o=[],c=yn.empty();sa(a,(m,p)=>{const y=Ng(e,m,n);p=Xi(p);const _=s.Ac(y);if(p instanceof yh)o.push(y);else{const T=vh(p,_);T!=null&&(o.push(y),c.set(y,T))}});const d=new Dn(o);return new rx(c,d,s.fieldTransforms)}function mD(t,e,n,a,s,o){const c=t.gc(1,e,n),d=[Cp(e,a,n)],m=[s];if(o.length%2!=0)throw new be(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)d.push(Cp(e,o[T])),m.push(o[T+1]);const p=[],y=yn.empty();for(let T=d.length-1;T>=0;--T)if(!ox(p,d[T])){const E=d[T];let S=m[T];S=Xi(S);const R=c.Ac(E);if(S instanceof yh)p.push(E);else{const N=vh(S,R);N!=null&&(p.push(E),y.set(E,N))}}const _=new Dn(p);return new rx(y,_,c.fieldTransforms)}function vh(t,e){if(lx(t=Xi(t)))return Dg("Unsupported field value:",e,t),sx(t,e);if(t instanceof Sg)return function(a,s){if(!ix(s.hc))throw s.Vc(`${a._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${a._methodName}() is not currently supported inside arrays`);const o=a._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(a,s){const o=[];let c=0;for(const d of a){let m=vh(d,s.Rc(c));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}}(t,e)}return function(a,s){if((a=Xi(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ZR(s.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const o=Mt.fromDate(a);return{timestampValue:zf(s.serializer,o)}}if(a instanceof Mt){const o=new Mt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:zf(s.serializer,o)}}if(a instanceof Ag)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof bl)return{bytesValue:SE(s.serializer,a._byteString)};if(a instanceof Fn){const o=s.databaseId,c=a.firestore._databaseId;if(!c.isEqual(o))throw s.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cg(a.firestore._databaseId||s.databaseId,a._key.path)}}if(a instanceof Rg)return function(c,d){return{mapValue:{fields:{[eE]:{stringValue:tE},[jf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.Vc("VectorValues must only contain numeric values.");return sg(d.serializer,p)})}}}}}}(a,s);throw s.Vc(`Unsupported field value: ${wg(a)}`)}(t,e)}function sx(t,e){const n={};return Y1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(t,(a,s)=>{const o=vh(s,e.Ic(a));o!=null&&(n[a]=o)}),{mapValue:{fields:n}}}function lx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof Ag||t instanceof bl||t instanceof Fn||t instanceof Sg||t instanceof Rg)}function Dg(t,e,n){if(!lx(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const a=wg(n);throw a==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+a)}}function Cp(t,e,n){if((e=Xi(e))instanceof gh)return e._internalPath;if(typeof e=="string")return Ng(t,e);throw Ff("Field path arguments must be of type string or ",t,!1,void 0,n)}const pD=new RegExp("[~\\*/\\[\\]]");function Ng(t,e,n){if(e.search(pD)>=0)throw Ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gh(...e.split("."))._internalPath}catch{throw Ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ff(t,e,n,a,s){const o=a&&!a.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${a}`),c&&(m+=` in document ${s}`),m+=")"),new be(oe.INVALID_ARGUMENT,d+t+m)}function ox(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n,a,s,o){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gD extends ux{data(){return super.data()}}function cx(t,e){return typeof e=="string"?Ng(t,e):e instanceof gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vD{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return sa(e,(s,o)=>{a[s]=this.convertValue(o,n)}),a}convertVectorValue(e){var n,a,s;const o=(s=(a=(n=e.fields)===null||n===void 0?void 0:n[jf].arrayValue)===null||a===void 0?void 0:a.values)===null||s===void 0?void 0:s.map(c=>Et(c.doubleValue));return new Rg(o)}convertGeoPoint(e){return new Ag(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=ih(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=ot.fromString(e);Xe(OE(a),9688,{name:e});const s=new fu(a.get(1),a.get(3)),o=new Ee(a.popFirst(5));return s.isEqual(n)||si(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t,e,n){let a;return a=t?t.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _D extends ux{constructor(e,n,a,s,o,c){super(e,n,a,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(cx("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class Sf extends _D{data(e={}){return super.data(e)}}class ED{constructor(e,n,a,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new hf(s.hasPendingWrites,s.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new Sf(this._firestore,this._userDataWriter,a.key,a,new hf(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(d=>{const m=new Sf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new hf(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const m=new Sf(s._firestore,s._userDataWriter,d.doc.key,d.doc,new hf(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:xD(d.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:t})}}class TD extends vD{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Fn(this.firestore,null,n)}}function Dl(t){t=rs(t,ph);const e=rs(t.firestore,Au),n=nx(e),a=new TD(e);return yD(t._query),iD(n,t._query).then(s=>new ED(e,a,t,s))}function Og(t,e,n,...a){t=rs(t,Fn);const s=rs(t.firestore,Au),o=ax(s);let c;return c=typeof(e=Xi(e))=="string"||e instanceof gh?mD(o,"updateDoc",t._key,e,n,a):dD(o,"updateDoc",t._key,e),Vg(s,[c.toMutation(t._key,Wn.exists(!0))])}function Ig(t){return Vg(rs(t.firestore,Au),[new lg(t._key,Wn.none())])}function Mg(t,e){const n=rs(t.firestore,Au),a=us(t),s=bD(t.converter,e);return Vg(n,[hD(ax(t.firestore),"addDoc",a._key,s,t.converter!==null,{}).toMutation(a._key,Wn.exists(!1))]).then(()=>a)}function Vg(t,e){return function(a,s){const o=new Gi;return a.asyncQueue.enqueueAndForget(async()=>F4(await nD(a),s,o)),o.promise}(nx(t),e)}(function(e,n=!0){(function(s){Sl=s})(X2),If(new lu("firestore",(a,{instanceIdentifier:s,options:o})=>{const c=a.getProvider("app").getImmediate(),d=new Au(new cR(a.getProvider("auth-internal")),new dR(c,a.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new be(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(p.options.projectId,y)}(c,s),c);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),ul(Vb,jb,e),ul(Vb,jb,"esm2017")})();var wD="firebase",SD="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ul(wD,SD,"app");const AD={apiKey:"AIzaSyAyFjBcpxwgHEs8i8QGMEgu172ALd6MddY",authDomain:"databese-menu-restoran.firebaseapp.com",projectId:"databese-menu-restoran",storageBucket:"databese-menu-restoran.firebasestorage.app",messagingSenderId:"124852832963",appId:"1:124852832963:web:e2ef488da3272d4512b076",measurementId:"G-XLNTRKSZP4"},RD=V1(AD),hn=lD(RD);let CD={data:""},DD=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||CD,ND=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,OD=/\/\*[^]*?\*\/|  +/g,N_=/\n+/g,Bi=(t,e)=>{let n="",a="",s="";for(let o in t){let c=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+c+";":a+=o[1]=="f"?Bi(c,o):o+"{"+Bi(c,o[1]=="k"?"":e)+"}":typeof c=="object"?a+=Bi(c,e?e.replace(/([^,])+/g,d=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,d):d?d+" "+m:m)):o):c!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Bi.p?Bi.p(o,c):o+":"+c+";")}return n+(e&&s?e+"{"+s+"}":s)+a},ti={},fx=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+fx(t[n]);return e}return t},ID=(t,e,n,a,s)=>{let o=fx(t),c=ti[o]||(ti[o]=(m=>{let p=0,y=11;for(;p<m.length;)y=101*y+m.charCodeAt(p++)>>>0;return"go"+y})(o));if(!ti[c]){let m=o!==t?t:(p=>{let y,_,T=[{}];for(;y=ND.exec(p.replace(OD,""));)y[4]?T.shift():y[3]?(_=y[3].replace(N_," ").trim(),T.unshift(T[0][_]=T[0][_]||{})):T[0][y[1]]=y[2].replace(N_," ").trim();return T[0]})(t);ti[c]=Bi(s?{["@keyframes "+c]:m}:m,n?"":"."+c)}let d=n&&ti.g?ti.g:null;return n&&(ti.g=ti[c]),((m,p,y,_)=>{_?p.data=p.data.replace(_,m):p.data.indexOf(m)===-1&&(p.data=y?m+p.data:p.data+m)})(ti[c],e,a,d),c},MD=(t,e,n)=>t.reduce((a,s,o)=>{let c=e[o];if(c&&c.call){let d=c(n),m=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=m?"."+m:d&&typeof d=="object"?d.props?"":Bi(d,""):d===!1?"":d}return a+s+(c??"")},"");function bh(t){let e=this||{},n=t.call?t(e.p):t;return ID(n.unshift?n.raw?MD(n,[].slice.call(arguments,1),e.p):n.reduce((a,s)=>Object.assign(a,s&&s.call?s(e.p):s),{}):n,DD(e.target),e.g,e.o,e.k)}let hx,Dp,Np;bh.bind({g:1});let oi=bh.bind({k:1});function VD(t,e,n,a){Bi.p=e,hx=t,Dp=n,Np=a}function oa(t,e){let n=this||{};return function(){let a=arguments;function s(o,c){let d=Object.assign({},o),m=d.className||s.className;n.p=Object.assign({theme:Dp&&Dp()},d),n.o=/ *go\d+/.test(m),d.className=bh.apply(n,a)+(m?" "+m:"");let p=t;return t[0]&&(p=d.as||t,delete d.as),Np&&p[0]&&Np(d),hx(p,d)}return s}}var jD=t=>typeof t=="function",qf=(t,e)=>jD(t)?t(e):t,LD=(()=>{let t=0;return()=>(++t).toString()})(),dx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),kD=20,mx=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,kD)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return mx(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=e;return{...t,toasts:t.toasts.map(o=>o.id===a||a===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},Af=[],Za={toasts:[],pausedAt:void 0},cs=t=>{Za=mx(Za,t),Af.forEach(e=>{e(Za)})},PD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},UD=(t={})=>{let[e,n]=x.useState(Za),a=x.useRef(Za);x.useEffect(()=>(a.current!==Za&&n(Za),Af.push(n),()=>{let o=Af.indexOf(n);o>-1&&Af.splice(o,1)}),[]);let s=e.toasts.map(o=>{var c,d,m;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((c=t[o.type])==null?void 0:c.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((d=t[o.type])==null?void 0:d.duration)||(t==null?void 0:t.duration)||PD[o.type],style:{...t.style,...(m=t[o.type])==null?void 0:m.style,...o.style}}});return{...e,toasts:s}},zD=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||LD()}),Ru=t=>(e,n)=>{let a=zD(e,t,n);return cs({type:2,toast:a}),a.id},ut=(t,e)=>Ru("blank")(t,e);ut.error=Ru("error");ut.success=Ru("success");ut.loading=Ru("loading");ut.custom=Ru("custom");ut.dismiss=t=>{cs({type:3,toastId:t})};ut.remove=t=>cs({type:4,toastId:t});ut.promise=(t,e,n)=>{let a=ut.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let o=e.success?qf(e.success,s):void 0;return o?ut.success(o,{id:a,...n,...n==null?void 0:n.success}):ut.dismiss(a),s}).catch(s=>{let o=e.error?qf(e.error,s):void 0;o?ut.error(o,{id:a,...n,...n==null?void 0:n.error}):ut.dismiss(a)}),t};var BD=(t,e)=>{cs({type:1,toast:{id:t,height:e}})},$D=()=>{cs({type:5,time:Date.now()})},ru=new Map,HD=1e3,FD=(t,e=HD)=>{if(ru.has(t))return;let n=setTimeout(()=>{ru.delete(t),cs({type:4,toastId:t})},e);ru.set(t,n)},qD=t=>{let{toasts:e,pausedAt:n}=UD(t);x.useEffect(()=>{if(n)return;let o=Date.now(),c=e.map(d=>{if(d.duration===1/0)return;let m=(d.duration||0)+d.pauseDuration-(o-d.createdAt);if(m<0){d.visible&&ut.dismiss(d.id);return}return setTimeout(()=>ut.dismiss(d.id),m)});return()=>{c.forEach(d=>d&&clearTimeout(d))}},[e,n]);let a=x.useCallback(()=>{n&&cs({type:6,time:Date.now()})},[n]),s=x.useCallback((o,c)=>{let{reverseOrder:d=!1,gutter:m=8,defaultPosition:p}=c||{},y=e.filter(E=>(E.position||p)===(o.position||p)&&E.height),_=y.findIndex(E=>E.id===o.id),T=y.filter((E,S)=>S<_&&E.visible).length;return y.filter(E=>E.visible).slice(...d?[T+1]:[0,T]).reduce((E,S)=>E+(S.height||0)+m,0)},[e]);return x.useEffect(()=>{e.forEach(o=>{if(o.dismissed)FD(o.id,o.removeDelay);else{let c=ru.get(o.id);c&&(clearTimeout(c),ru.delete(o.id))}})},[e]),{toasts:e,handlers:{updateHeight:BD,startPause:$D,endPause:a,calculateOffset:s}}},GD=oi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,QD=oi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YD=oi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,KD=oa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${GD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${QD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${YD} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,XD=oi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ZD=oa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${XD} 1s linear infinite;
`,WD=oi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,JD=oi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,eN=oa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${WD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${JD} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tN=oa("div")`
  position: absolute;
`,nN=oa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,rN=oi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,iN=oa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${rN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,aN=({toast:t})=>{let{icon:e,type:n,iconTheme:a}=t;return e!==void 0?typeof e=="string"?x.createElement(iN,null,e):e:n==="blank"?null:x.createElement(nN,null,x.createElement(ZD,{...a}),n!=="loading"&&x.createElement(tN,null,n==="error"?x.createElement(KD,{...a}):x.createElement(eN,{...a})))},sN=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,lN=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,oN="0%{opacity:0;} 100%{opacity:1;}",uN="0%{opacity:1;} 100%{opacity:0;}",cN=oa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,fN=oa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hN=(t,e)=>{let n=t.includes("top")?1:-1,[a,s]=dx()?[oN,uN]:[sN(n),lN(n)];return{animation:e?`${oi(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${oi(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},dN=x.memo(({toast:t,position:e,style:n,children:a})=>{let s=t.height?hN(t.position||e||"top-center",t.visible):{opacity:0},o=x.createElement(aN,{toast:t}),c=x.createElement(fN,{...t.ariaProps},qf(t.message,t));return x.createElement(cN,{className:t.className,style:{...s,...n,...t.style}},typeof a=="function"?a({icon:o,message:c}):x.createElement(x.Fragment,null,o,c))});VD(x.createElement);var mN=({id:t,className:e,style:n,onHeightUpdate:a,children:s})=>{let o=x.useCallback(c=>{if(c){let d=()=>{let m=c.getBoundingClientRect().height;a(t,m)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return x.createElement("div",{ref:o,className:e,style:n},s)},pN=(t,e)=>{let n=t.includes("top"),a=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:dx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...a,...s}},gN=bh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,df=16,_h=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:a,children:s,containerStyle:o,containerClassName:c})=>{let{toasts:d,handlers:m}=qD(n);return x.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:df,left:df,right:df,bottom:df,pointerEvents:"none",...o},className:c,onMouseEnter:m.startPause,onMouseLeave:m.endPause},d.map(p=>{let y=p.position||e,_=m.calculateOffset(p,{reverseOrder:t,gutter:a,defaultPosition:e}),T=pN(y,_);return x.createElement(mN,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?gN:"",style:T},p.type==="custom"?qf(p.message,p):s?s(p):x.createElement(dN,{toast:p,position:y}))}))},cn=ut;function yN({addToOrder:t}){var V;const[e,n]=x.useState([]),[a,s]=x.useState(null),[o,c]=x.useState(1),[d,m]=x.useState(null),[p,y]=x.useState(!0),[_,T]=x.useState(null);x.useEffect(()=>{async function I(){try{y(!0);const B=ci(hn,"makanan"),q=(await Dl(B)).docs.map(ne=>({id:ne.id,...ne.data()}));n(q),q.length>0&&(s(q[0]),q[0].level&&q[0].level.length>0&&m(q[0].level[0])),y(!1)}catch(B){T("Gagal memuat data makanan"),y(!1),console.error(B)}}I()},[]);const E=()=>{if(!a)return;const I=a.level?d:"-";t(a,I,o),ut.success(`${o} ${a.nama}  ${d} berhasil ditambahkan ke My Order!`)},S=()=>{c(I=>I+1)},R=()=>{o>1&&c(I=>I-1)},N=I=>{s(I),c(1),I.level&&I.level.length>0?m(I.level[0]):m(null)};return p?A.jsx("div",{className:"p-4 text-center shadow container rounded-xl h-auto md:h-[26rem] lg:h-[32rem] md:w-[70%] card",children:"Loading menu..."}):_?A.jsx("div",{className:"p-4 text-center text-red-500",children:_}):a?A.jsxs(A.Fragment,{children:[A.jsx(_h,{position:"top-center",reverseOrder:!1}),A.jsxs("div",{className:"container rounded-xl shadow h-auto md:h-[26rem] lg:h-[32rem] md:w-[70%] card",children:[A.jsx("h1",{className:"w-full h-10 md:h-12 pl-8 font-black sm:flex hidden items-center text-sm sm:text-md md:text-xl",children:"Menu"}),A.jsx("div",{className:"w-[95%] mx-auto h-6 sm:h-8 flex mt-2 gap-3 px-3 overflow-x-scroll hide-bar",children:e.map(I=>A.jsx("div",{className:`h-[98%] w-auto min-w-36 md:min-w-40 rounded-full shadow flex justify-center items-center font-medium text-xs sm:text-md px-3 cursor-pointer ${a.nama===I.nama?"bg-[#FDFDFE] text-[#0e0d0d]":"bg-[#0E0D0D] text-[#FDFDFE] hover:bg-[#0e0d0d] hover:text-yellow-500 hover:scale-95"} duration-100`,onClick:()=>N(I),children:I.nama},I.id))}),A.jsxs("div",{className:"w-full mt-3 flex flex-col md:flex-row justify-center items-center gap-3 p-2 md:p-5 h-auto min-h-80 lg:h-96",children:[A.jsx("div",{className:"w-[98%] h-56 rounded-md md:w-[48%] md:h-72 flex justify-center lg:h-80 overflow-hidden relative",children:A.jsx("img",{src:a.gambar,className:"w-full h-full rounded-md",alt:a.nama})}),A.jsxs("div",{className:"w-[98%] h-80 md:w-[48%] md:h-[98%] flex flex-col",children:[A.jsx("h2",{className:"w-full font-black text-4xl",children:a.nama}),A.jsx("p",{className:"w-full text-xs font-medium mt-2",children:a.deskripsi}),A.jsxs("div",{className:"w-full h-1/2 flex flex-col justify-center items-center gap-2",children:[A.jsx("h3",{className:"w-full text-sm hidden sm:block font-bold mt-10",children:"LEVEL"}),A.jsx("div",{className:"flex w-full h-1/2 gap-3 overflow-x-scrollhide-bar",children:(V=a.level)==null?void 0:V.map((I,B)=>A.jsx("div",{onClick:()=>m(I),className:`w-1/4 h-10 rounded-3xl shadow flex justify-center items-center font-bold text-sm cursor-pointer ${I===d?"bg-[#0E0D0D] text-yellow-500":"hover:bg-[#0E0D0D] hover:text-white hover:scale-95"} duration-100`,children:I},B))}),A.jsxs("div",{className:"w-full flex justify-center items-center gap-x-2 lg:gap-x-4 h-auto",children:[A.jsxs("div",{className:"w-1/3 lg:w-1/4 items-center aspect-[2/1] flex justify-between",children:[A.jsx("button",{className:`h-8 w-8 rounded-full flex justify-center items-center shadow ${o===0?"bg-gray-300 cursor-not-allowed":"bg-[#dedee0] hover:scale-105"} text-[#0e0d0d] text-lg`,onClick:R,disabled:o===0,children:"-"}),A.jsx("div",{className:"h-1/2 aspect-square flex justify-center items-center text-[#0e0d0d]",children:o}),A.jsx("button",{className:"h-8 w-8 rounded-full flex justify-center items-center shadow bg-[#dedee0] text-[#0e0d0d] text-lg hover:scale-105",onClick:S,children:"+"})]}),A.jsxs("div",{className:"md:w-full lg:w-1/2 w-1/2 sm:w-1/3 flex justify-between group hover:scale-95 items-center p-2 rounded-3xl bg-[#0e0d0d]",onClick:E,children:[A.jsxs("h3",{className:"text-[#fdfdfd] text-xs lg:text-sm",children:["Rp",(o*a.harga).toLocaleString()]}),A.jsx("a",{href:"#bottom",className:"sm:hidden",children:A.jsx("h3",{id:"bottom",className:"text-[#fdfdfd]  text-xs lg:text-sm group-hover:text-yellow-500 duration-500 font-medium",children:"Add to order"})}),A.jsx("h3",{id:"bottom",className:"text-[#fdfdfd] hidden sm:block text-xs lg:text-sm group-hover:text-yellow-500 duration-500 font-medium",children:"Add to order"})]})]})]})]})]})]})]}):A.jsx("div",{className:"p-4 text-center",children:"Tidak ada menu tersedia"})}function vN({addToOrder:t}){var V;const[e,n]=x.useState([]),[a,s]=x.useState(null),[o,c]=x.useState(1),[d,m]=x.useState(null),[p,y]=x.useState(!0),[_,T]=x.useState(null);x.useEffect(()=>{async function I(){try{y(!0);const B=ci(hn,"minuman"),q=(await Dl(B)).docs.map(ne=>({id:ne.id,...ne.data()}));n(q),q.length>0&&(s(q[0]),q[0].level&&q[0].level.length>0&&m(q[0].level[0])),y(!1)}catch(B){T("Gagal memuat data makanan"),y(!1),console.error(B)}}I()},[]);const E=()=>{if(!a)return;const I=a.level?d:"-";t(a,I,o),ut.success(`${o} ${a.nama}  ${d} berhasil ditambahkan ke My Order!`)},S=()=>{c(I=>I+1)},R=()=>{o>1&&c(I=>I-1)},N=I=>{s(I),c(1),I.level&&I.level.length>0?m(I.level[0]):m(null)};return p?A.jsx("div",{className:"p-4 text-center shadow container rounded-xl h-auto md:h-[26rem] lg:h-[32rem] md:w-[70%] card",children:"Loading menu..."}):_?A.jsx("div",{className:"p-4 text-center text-red-500",children:_}):a?A.jsxs("div",{className:"container rounded-xl shadow h-auto md:h-[26rem] lg:h-[32rem] md:w-[70%] card",children:[A.jsx("h1",{className:"w-full h-10 md:h-12 pl-8 font-black hidden sm:flex items-center text-sm sm:text-md md:text-xl",children:"Menu"}),A.jsx("div",{className:"w-[95%] mx-auto h-6 sm:h-8 flex gap-3 mt-2 px-3 overflow-x-scroll hide-bar",children:e.map(I=>A.jsx("div",{className:`h-[98%] w-auto min-w-36 md:min-w-40 rounded-full shadow flex justify-center items-center font-medium text-xs sm:text-md px-3 cursor-pointer ${a.nama===I.nama?"bg-[#FDFDFE] text-[#0e0d0d]":"bg-[#0E0D0D] text-[#FDFDFE] hover:bg-[#0e0d0d] hover:text-yellow-500 hover:scale-95"} duration-100`,onClick:()=>N(I),children:I.nama},I.id))}),A.jsxs("div",{className:"w-full mt-3 flex flex-col md:flex-row justify-center items-center gap-3 p-2 md:p-5 h-auto min-h-80 lg:h-96",children:[A.jsx("div",{className:"w-[98%] h-56 rounded-md md:w-[48%] md:h-72 flex justify-center lg:h-80 overflow-hidden",children:A.jsx("img",{src:a.gambar,className:"w-full h-full rounded-md",alt:a.nama})}),A.jsxs("div",{className:"w-[98%] h-80 md:w-[48%] md:h-[98%] flex flex-col",children:[A.jsx("h2",{className:"w-full font-black text-4xl",children:a.nama}),A.jsx("p",{className:"w-full text-xs font-medium mt-2",children:a.deskripsi}),A.jsxs("div",{className:"w-full h-1/2 flex flex-col justify-center items-center gap-2",children:[A.jsx("h3",{className:"w-full text-sm font-bold hidden sm:block mt-10",children:"LEVEL"}),A.jsx("div",{className:"flex w-full h-1/2 gap-3 overflow-x-scrollhide-bar",children:(V=a.level)==null?void 0:V.map((I,B)=>A.jsx("div",{onClick:()=>m(I),className:`w-1/4 h-10 rounded-3xl shadow flex justify-center items-center font-bold text-sm cursor-pointer ${I===d?"bg-[#0E0D0D] text-yellow-500":"hover:bg-[#0E0D0D] hover:text-white hover:scale-95"} duration-100`,children:I},B))}),A.jsxs("div",{className:"w-full flex justify-center items-center gap-x-2 lg:gap-x-4 h-auto",children:[A.jsxs("div",{className:"w-1/3 lg:w-1/4 items-center aspect-[2/1] flex justify-between",children:[A.jsx("button",{className:`h-8 w-8 rounded-full flex justify-center items-center shadow ${o===0?"bg-gray-300 cursor-not-allowed":"bg-[#dedee0] hover:scale-105"} text-[#0e0d0d] text-lg`,onClick:R,disabled:o===0,children:"-"}),A.jsx("div",{className:"h-1/2 aspect-square flex justify-center items-center text-[#0e0d0d]",children:o}),A.jsx("button",{className:"h-8 w-8 rounded-full flex justify-center items-center shadow bg-[#dedee0] text-[#0e0d0d] text-lg hover:scale-105",onClick:S,children:"+"})]}),A.jsxs("div",{className:"md:w-full lg:w-1/2 w-1/2 sm:w-1/3 flex justify-between group hover:scale-95 items-center p-2 rounded-3xl bg-[#0e0d0d]",onClick:E,children:[A.jsxs("h3",{className:"text-[#fdfdfd] text-xs lg:text-sm",children:["Rp",(o*a.harga).toLocaleString()]}),A.jsx("a",{href:"#bottom",className:"sm:hidden",children:A.jsx("h3",{id:"bottom",className:"text-[#fdfdfd]  text-xs lg:text-sm group-hover:text-yellow-500 duration-500 font-medium",children:"Add to order"})}),A.jsx("h3",{id:"bottom",className:"text-[#fdfdfd] hidden sm:block text-xs lg:text-sm group-hover:text-yellow-500 duration-500 font-medium",children:"Add to order"})]})]})]})]})]})]}):A.jsx("div",{className:"p-4 text-center",children:"Tidak ada menu tersedia"})}function bN({addToOrder:t}){var V;const[e,n]=x.useState([]),[a,s]=x.useState(null),[o,c]=x.useState(1),[d,m]=x.useState(null),[p,y]=x.useState(!0),[_,T]=x.useState(null);x.useEffect(()=>{async function I(){try{y(!0);const B=ci(hn,"menuTambahan"),q=(await Dl(B)).docs.map(ne=>({id:ne.id,...ne.data()}));n(q),q.length>0&&(s(q[0]),q[0].level&&q[0].level.length>0&&m(q[0].level[0])),y(!1)}catch(B){T("Gagal memuat data makanan"),y(!1),console.error(B)}}I()},[]);const E=()=>{if(!a)return;const I=a.level?d:"-";t(a,I,o),ut.success(`${o} ${a.nama}  ${d} berhasil ditambahkan ke My Order!`)},S=()=>{c(I=>I+1)},R=()=>{o>1&&c(I=>I-1)},N=I=>{s(I),c(1),I.level&&I.level.length>0?m(I.level[0]):m(null)};return p?A.jsx("div",{className:"p-4 text-center shadow container rounded-xl h-auto md:h-[26rem] lg:h-[32rem] md:w-[70%] card",children:"Loading menu..."}):_?A.jsx("div",{className:"p-4 text-center text-red-500",children:_}):a?A.jsxs("div",{className:"container rounded-xl shadow h-auto md:h-[26rem] lg:h-[32rem] md:w-[70%] card",children:[A.jsx("h1",{className:"w-full h-10 md:h-12 pl-8 font-black hidden sm:flex items-center text-sm sm:text-md md:text-xl",children:"Menu"}),A.jsx("div",{className:"w-[95%] mx-auto h-6 sm:h-8 flex gap-3 mt-2 px-3 overflow-x-scroll hide-bar",children:e.map(I=>A.jsx("div",{className:`h-[98%] w-auto min-w-36 md:min-w-40 rounded-full shadow flex justify-center items-center font-medium text-xs sm:text-md px-3 cursor-pointer ${a.nama===I.nama?"bg-[#FDFDFE] text-[#0e0d0d]":"bg-[#0E0D0D] text-[#FDFDFE] hover:bg-[#0e0d0d] hover:text-yellow-500 hover:scale-95"} duration-100`,onClick:()=>N(I),children:I.nama},I.id))}),A.jsxs("div",{className:"w-full mt-3 flex flex-col md:flex-row justify-center items-center gap-3 p-2 md:p-5 h-auto min-h-80 lg:h-96",children:[A.jsx("div",{className:"w-[98%] h-56 rounded-md md:w-[48%] md:h-72 flex justify-center lg:h-80 overflow-hidden",children:A.jsx("img",{src:a.gambar,className:"w-full h-full rounded-md",alt:a.nama})}),A.jsxs("div",{className:"w-[98%] h-80 md:w-[48%] md:h-[98%] flex flex-col",children:[A.jsx("h2",{className:"w-full font-black text-4xl",children:a.nama}),A.jsx("p",{className:"w-full text-xs font-medium mt-2",children:a.deskripsi}),A.jsxs("div",{className:"w-full h-1/2 flex flex-col justify-center items-center gap-2",children:[A.jsx("h3",{className:"w-full text-sm hidden sm:block font-bold mt-10",children:"LEVEL"}),A.jsx("div",{className:"flex w-full h-1/2 gap-3 overflow-x-scrollhide-bar",children:(V=a.level)==null?void 0:V.map((I,B)=>A.jsx("div",{onClick:()=>m(I),className:`w-1/4 h-10 rounded-3xl shadow flex justify-center items-center font-bold text-sm cursor-pointer ${I===d?"bg-[#0E0D0D] text-yellow-500":"hover:bg-[#0E0D0D] hover:text-white hover:scale-95"} duration-100`,children:I},B))}),A.jsxs("div",{className:"w-full flex justify-center items-center gap-x-2 lg:gap-x-4 h-auto",children:[A.jsxs("div",{className:"w-1/3 lg:w-1/4 items-center aspect-[2/1] flex justify-between",children:[A.jsx("button",{className:`h-8 w-8 rounded-full flex justify-center items-center shadow ${o===0?"bg-gray-300 cursor-not-allowed":"bg-[#dedee0] hover:scale-105"} text-[#0e0d0d] text-lg`,onClick:R,disabled:o===0,children:"-"}),A.jsx("div",{className:"h-1/2 aspect-square flex justify-center items-center text-[#0e0d0d]",children:o}),A.jsx("button",{className:"h-8 w-8 rounded-full flex justify-center items-center shadow bg-[#dedee0] text-[#0e0d0d] text-lg hover:scale-105",onClick:S,children:"+"})]}),A.jsxs("div",{className:"md:w-full lg:w-1/2 w-1/2 sm:w-1/3 flex justify-between group hover:scale-95 items-center p-2 rounded-3xl bg-[#0e0d0d]",onClick:E,children:[A.jsxs("h3",{className:"text-[#fdfdfd] text-xs lg:text-sm",children:["Rp",(o*a.harga).toLocaleString()]}),A.jsx("a",{href:"#bottom",className:"sm:hidden",children:A.jsx("h3",{id:"bottom",className:"text-[#fdfdfd]  text-xs lg:text-sm group-hover:text-yellow-500 duration-500 font-medium",children:"Add to order"})}),A.jsx("h3",{id:"bottom",className:"text-[#fdfdfd] hidden sm:block text-xs lg:text-sm group-hover:text-yellow-500 duration-500 font-medium",children:"Add to order"})]})]})]})]})]})]}):A.jsx("div",{className:"p-4 text-center",children:"Tidak ada menu tersedia"})}function _N({selectedMenu:t,setSelectedMenu:e}){const n=_u(),a=o=>`
    h-[95%] w-1/3 shadow group rounded-full duration-300 font-black text-xs sm:text-md lg:text-lg gap-2 flex justify-center items-center
    ${t===o?"bg-[#dc2318] text-[#fdfdf2]":"text-stone-600 hover:text-[#fdfdf2] hover:bg-[#dc2318]"}
  `,s=o=>`
    rounded-full aspect-square h-full sm:h-[120%] shadow overflow-hidden flex justify-center items-center duration-100
    ${t===o?"bg-[#fdfdfe] scale-105":"bg-[#dc2318] group-hover:bg-[#fdfdfe] group-hover:scale-105"}
  `;return A.jsxs("header",{className:"container rounded-full shadow h-12 mx-auto sm:h-16 md:h-20 card justify-between gap-x-3 items-center flex px-4 ",children:[A.jsx("div",{className:"h-10 hidden sm:h-8 md:h-12 aspect-[4/1] bg-[#DC2318] text-[#FDFDFE] rounded-full text-sm sm:text-md md:text-lg lg:text-xl font-extrabold justify-center items-center sm:flex",children:"Mas Hely"}),A.jsxs("div",{className:"h-10 md:h-12 sm:gap-x-3 gap-x-6 aspect-[3/1] md:w-1/2 flex",children:[A.jsxs("button",{onClick:()=>e("makanan"),className:a("makanan"),children:[A.jsx("span",{className:"hidden sm:block",children:"Makanan"}),A.jsx("div",{className:s("makanan"),children:A.jsx("img",{src:"https://static.thenounproject.com/png/1633702-200.png",className:"w-[95%] aspect-square",alt:""})})]}),A.jsxs("button",{onClick:()=>e("minuman"),className:a("minuman"),children:[A.jsx("span",{className:"hidden sm:block",children:"Minuman"}),A.jsx("div",{className:s("minuman"),children:A.jsx("img",{src:"https://cdn-icons-png.freepik.com/512/161/161542.png",className:"w-[95%] aspect-square",alt:""})})]}),A.jsxs("button",{onClick:()=>e("menuTambahan"),className:a("menuTambahan"),children:[A.jsx("span",{className:"hidden sm:block",children:"Tambahan"}),A.jsx("div",{className:s("menuTambahan"),children:A.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/3341/3341571.png",className:"w-[95%] aspect-square",alt:""})})]})]}),A.jsx("div",{onClick:()=>n("/login"),className:"h-10 sm:h-8 md:h-12 aspect-square sm:aspect-[4/1] sm:bg-[#FDFDFE] shadow rounded-full flex justify-center items-center group font-bold transition-all duration-300",children:A.jsx("div",{className:"bg-[#FDFDFE] h-[150%] shadow rounded-full group-hover:scale-110 aspect-square flex justify-center items-center",children:A.jsx("img",{src:"https://png.pngtree.com/png-clipart/20220921/ourmid/pngtree-spicy-fried-chicken-logo-png-image_6208307.png",className:"w-[95%]  aspect-square",alt:""})})})]})}const px=typeof document<"u"?Oe.useLayoutEffect:()=>{};function EN(t){const e=x.useRef(null);return px(()=>{e.current=t},[t]),x.useCallback((...n)=>{const a=e.current;return a==null?void 0:a(...n)},[])}const ua=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},Wa=t=>t&&"window"in t&&t.window===t?t:ua(t).defaultView||window;function xN(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function TN(t){return xN(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let wN=!1;function jg(){return wN}function gx(t,e){if(!jg())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:TN(n)?n=n.host:n=n.parentNode}return!1}const Op=(t=document)=>{var e;if(!jg())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function yx(t){return jg()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function SN(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function AN(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function vx(t){let e=null;return()=>(e==null&&(e=t()),e)}const RN=vx(function(){return AN(/^Mac/i)}),CN=vx(function(){return SN(/Android/i)});function bx(){let t=x.useRef(new Map),e=x.useCallback((s,o,c,d)=>{let m=d!=null&&d.once?(...p)=>{t.current.delete(c),c(...p)}:c;t.current.set(c,{type:o,eventTarget:s,fn:m,options:d}),s.addEventListener(o,m,d)},[]),n=x.useCallback((s,o,c,d)=>{var m;let p=((m=t.current.get(c))===null||m===void 0?void 0:m.fn)||c;s.removeEventListener(o,p,d),t.current.delete(c)},[]),a=x.useCallback(()=>{t.current.forEach((s,o)=>{n(s.eventTarget,s.type,o,s.options)})},[n]);return x.useEffect(()=>a,[a]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:a}}function DN(t){return t.mozInputSource===0&&t.isTrusted?!0:CN()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function _x(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function NN(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function Ex(t){let e=x.useRef({isFocused:!1,observer:null});px(()=>{const a=e.current;return()=>{a.observer&&(a.observer.disconnect(),a.observer=null)}},[]);let n=EN(a=>{t==null||t(a)});return x.useCallback(a=>{if(a.target instanceof HTMLButtonElement||a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLSelectElement){e.current.isFocused=!0;let s=a.target,o=c=>{if(e.current.isFocused=!1,s.disabled){let d=_x(c);n(d)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};s.addEventListener("focusout",o,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&s.disabled){var c;(c=e.current.observer)===null||c===void 0||c.disconnect();let d=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:d})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:d}))}}),e.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let ON=!1,Cu=null,Ip=new Set,iu=new Map,is=!1,Mp=!1;const IN={Tab:!0,Escape:!0};function Lg(t,e){for(let n of Ip)n(t,e)}function MN(t){return!(t.metaKey||!RN()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Gf(t){is=!0,MN(t)&&(Cu="keyboard",Lg("keyboard",t))}function fl(t){Cu="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(is=!0,Lg("pointer",t))}function xx(t){DN(t)&&(is=!0,Cu="virtual")}function Tx(t){t.target===window||t.target===document||ON||!t.isTrusted||(!is&&!Mp&&(Cu="virtual",Lg("virtual",t)),is=!1,Mp=!1)}function wx(){is=!1,Mp=!0}function Vp(t){if(typeof window>"u"||iu.get(Wa(t)))return;const e=Wa(t),n=ua(t);let a=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){is=!0,a.apply(this,arguments)},n.addEventListener("keydown",Gf,!0),n.addEventListener("keyup",Gf,!0),n.addEventListener("click",xx,!0),e.addEventListener("focus",Tx,!0),e.addEventListener("blur",wx,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",fl,!0),n.addEventListener("pointermove",fl,!0),n.addEventListener("pointerup",fl,!0)),e.addEventListener("beforeunload",()=>{Sx(t)},{once:!0}),iu.set(e,{focus:a})}const Sx=(t,e)=>{const n=Wa(t),a=ua(t);e&&a.removeEventListener("DOMContentLoaded",e),iu.has(n)&&(n.HTMLElement.prototype.focus=iu.get(n).focus,a.removeEventListener("keydown",Gf,!0),a.removeEventListener("keyup",Gf,!0),a.removeEventListener("click",xx,!0),n.removeEventListener("focus",Tx,!0),n.removeEventListener("blur",wx,!1),typeof PointerEvent<"u"&&(a.removeEventListener("pointerdown",fl,!0),a.removeEventListener("pointermove",fl,!0),a.removeEventListener("pointerup",fl,!0)),iu.delete(n))};function VN(t){const e=ua(t);let n;return e.readyState!=="loading"?Vp(t):(n=()=>{Vp(t)},e.addEventListener("DOMContentLoaded",n)),()=>Sx(t,n)}typeof document<"u"&&VN();function Ax(){return Cu!=="pointer"}const jN=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function LN(t,e,n){let a=ua(n==null?void 0:n.target);const s=typeof window<"u"?Wa(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?Wa(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?Wa(n==null?void 0:n.target).HTMLElement:HTMLElement,d=typeof window<"u"?Wa(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||a.activeElement instanceof s&&!jN.has(a.activeElement.type)||a.activeElement instanceof o||a.activeElement instanceof c&&a.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof d&&!IN[n.key])}function kN(t,e,n){Vp(),x.useEffect(()=>{let a=(s,o)=>{LN(!!(n!=null&&n.isTextInput),s,o)&&t(Ax())};return Ip.add(a),()=>{Ip.delete(a)}},e)}function PN(t){let{isDisabled:e,onFocus:n,onBlur:a,onFocusChange:s}=t;const o=x.useCallback(m=>{if(m.target===m.currentTarget)return a&&a(m),s&&s(!1),!0},[a,s]),c=Ex(o),d=x.useCallback(m=>{const p=ua(m.target),y=p?Op(p):Op();m.target===m.currentTarget&&y===yx(m.nativeEvent)&&(n&&n(m),s&&s(!0),c(m))},[s,n,c]);return{focusProps:{onFocus:!e&&(n||s||a)?d:void 0,onBlur:!e&&(a||s)?o:void 0}}}function UN(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:a,onFocusWithinChange:s}=t,o=x.useRef({isFocusWithin:!1}),{addGlobalListener:c,removeAllGlobalListeners:d}=bx(),m=x.useCallback(_=>{_.currentTarget.contains(_.target)&&o.current.isFocusWithin&&!_.currentTarget.contains(_.relatedTarget)&&(o.current.isFocusWithin=!1,d(),n&&n(_),s&&s(!1))},[n,s,o,d]),p=Ex(m),y=x.useCallback(_=>{if(!_.currentTarget.contains(_.target))return;const T=ua(_.target),E=Op(T);if(!o.current.isFocusWithin&&E===yx(_.nativeEvent)){a&&a(_),s&&s(!0),o.current.isFocusWithin=!0,p(_);let S=_.currentTarget;c(T,"focus",R=>{if(o.current.isFocusWithin&&!gx(S,R.target)){let N=new T.defaultView.FocusEvent("blur",{relatedTarget:R.target});NN(N,S);let V=_x(N);m(V)}},{capture:!0})}},[a,s,p,c,m]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:y,onBlur:m}}}let jp=!1,Fm=0;function zN(){jp=!0,setTimeout(()=>{jp=!1},50)}function O_(t){t.pointerType==="touch"&&zN()}function BN(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",O_),Fm++,()=>{Fm--,!(Fm>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",O_)}}function Rx(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:a,isDisabled:s}=t,[o,c]=x.useState(!1),d=x.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;x.useEffect(BN,[]);let{addGlobalListener:m,removeAllGlobalListeners:p}=bx(),{hoverProps:y,triggerHoverEnd:_}=x.useMemo(()=>{let T=(R,N)=>{if(d.pointerType=N,s||N==="touch"||d.isHovered||!R.currentTarget.contains(R.target))return;d.isHovered=!0;let V=R.currentTarget;d.target=V,m(ua(R.target),"pointerover",I=>{d.isHovered&&d.target&&!gx(d.target,I.target)&&E(I,I.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:V,pointerType:N}),n&&n(!0),c(!0)},E=(R,N)=>{let V=d.target;d.pointerType="",d.target=null,!(N==="touch"||!d.isHovered||!V)&&(d.isHovered=!1,p(),a&&a({type:"hoverend",target:V,pointerType:N}),n&&n(!1),c(!1))},S={};return typeof PointerEvent<"u"&&(S.onPointerEnter=R=>{jp&&R.pointerType==="mouse"||T(R,R.pointerType)},S.onPointerLeave=R=>{!s&&R.currentTarget.contains(R.target)&&E(R,R.pointerType)}),{hoverProps:S,triggerHoverEnd:E}},[e,n,a,s,d,m,p]);return x.useEffect(()=>{s&&_({currentTarget:d.target},d.pointerType)},[s]),{hoverProps:y,isHovered:o}}function Cx(t={}){let{autoFocus:e=!1,isTextInput:n,within:a}=t,s=x.useRef({isFocused:!1,isFocusVisible:e||Ax()}),[o,c]=x.useState(!1),[d,m]=x.useState(()=>s.current.isFocused&&s.current.isFocusVisible),p=x.useCallback(()=>m(s.current.isFocused&&s.current.isFocusVisible),[]),y=x.useCallback(E=>{s.current.isFocused=E,c(E),p()},[p]);kN(E=>{s.current.isFocusVisible=E,p()},[],{isTextInput:n});let{focusProps:_}=PN({isDisabled:a,onFocusChange:y}),{focusWithinProps:T}=UN({isDisabled:!a,onFocusWithinChange:y});return{isFocused:o,isFocusVisible:d,focusProps:a?T:_}}var $N=Object.defineProperty,HN=(t,e,n)=>e in t?$N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qm=(t,e,n)=>(HN(t,typeof e!="symbol"?e+"":e,n),n);let FN=class{constructor(){qm(this,"current",this.detect()),qm(this,"handoffState","pending"),qm(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},es=new FN;function Du(t){var e,n;return es.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function Dx(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function fi(){let t=[],e={addEventListener(n,a,s,o){return n.addEventListener(a,s,o),e.add(()=>n.removeEventListener(a,s,o))},requestAnimationFrame(...n){let a=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(a))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let a=setTimeout(...n);return e.add(()=>clearTimeout(a))},microTask(...n){let a={current:!0};return Dx(()=>{a.current&&n[0]()}),e.add(()=>{a.current=!1})},style(n,a,s){let o=n.style.getPropertyValue(a);return Object.assign(n.style,{[a]:s}),this.add(()=>{Object.assign(n.style,{[a]:o})})},group(n){let a=fi();return n(a),this.add(()=>a.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let a=t.indexOf(n);if(a>=0)for(let s of t.splice(a,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}function Nu(){let[t]=x.useState(fi);return x.useEffect(()=>()=>t.dispose(),[t]),t}let yt=(t,e)=>{es.isServer?x.useEffect(t,e):x.useLayoutEffect(t,e)};function fs(t){let e=x.useRef(t);return yt(()=>{e.current=t},[t]),e}let ze=function(t){let e=fs(t);return Oe.useCallback((...n)=>e.current(...n),[e])};function qN(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function GN(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function QN({disabled:t=!1}={}){let e=x.useRef(null),[n,a]=x.useState(!1),s=Nu(),o=ze(()=>{e.current=null,a(!1),s.dispose()}),c=ze(d=>{if(s.dispose(),e.current===null){e.current=d.currentTarget,a(!0);{let m=Du(d.currentTarget);s.addEventListener(m,"pointerup",o,!1),s.addEventListener(m,"pointermove",p=>{if(e.current){let y=qN(p);a(GN(y,e.current.getBoundingClientRect()))}},!1),s.addEventListener(m,"pointercancel",o,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:c,onPointerUp:o,onClick:o}}}let YN=x.createContext(void 0);function kg(){return x.useContext(YN)}function I_(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function ui(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let a=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,ui),a}var Lp=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Lp||{}),KN=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(KN||{});function nr(){let t=ZN();return x.useCallback(e=>XN({mergeRefs:t,...e}),[t])}function XN({ourProps:t,theirProps:e,slot:n,defaultTag:a,features:s,visible:o=!0,name:c,mergeRefs:d}){d=d??WN;let m=Nx(e,t);if(o)return mf(m,n,a,c,d);let p=s??0;if(p&2){let{static:y=!1,..._}=m;if(y)return mf(_,n,a,c,d)}if(p&1){let{unmount:y=!0,..._}=m;return ui(y?0:1,{0(){return null},1(){return mf({..._,hidden:!0,style:{display:"none"}},n,a,c,d)}})}return mf(m,n,a,c,d)}function mf(t,e={},n,a,s){let{as:o=n,children:c,refName:d="ref",...m}=Gm(t,["unmount","static"]),p=t.ref!==void 0?{[d]:t.ref}:{},y=typeof c=="function"?c(e):c;"className"in m&&m.className&&typeof m.className=="function"&&(m.className=m.className(e)),m["aria-labelledby"]&&m["aria-labelledby"]===m.id&&(m["aria-labelledby"]=void 0);let _={};if(e){let T=!1,E=[];for(let[S,R]of Object.entries(e))typeof R=="boolean"&&(T=!0),R===!0&&E.push(S.replace(/([A-Z])/g,N=>`-${N.toLowerCase()}`));if(T){_["data-headlessui-state"]=E.join(" ");for(let S of E)_[`data-${S}`]=""}}if(o===x.Fragment&&(Object.keys(Ya(m)).length>0||Object.keys(Ya(_)).length>0))if(!x.isValidElement(y)||Array.isArray(y)&&y.length>1){if(Object.keys(Ya(m)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ya(m)).concat(Object.keys(Ya(_))).map(T=>`  - ${T}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(T=>`  - ${T}`).join(`
`)].join(`
`))}else{let T=y.props,E=T==null?void 0:T.className,S=typeof E=="function"?(...V)=>I_(E(...V),m.className):I_(E,m.className),R=S?{className:S}:{},N=Nx(y.props,Ya(Gm(m,["ref"])));for(let V in _)V in N&&delete _[V];return x.cloneElement(y,Object.assign({},N,_,p,{ref:s(JN(y),p.ref)},R))}return x.createElement(o,Object.assign({},Gm(m,["ref"]),o!==x.Fragment&&p,o!==x.Fragment&&_),y)}function ZN(){let t=x.useRef([]),e=x.useCallback(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)},[]);return(...n)=>{if(!n.every(a=>a==null))return t.current=n,e}}function WN(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function Nx(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let a of t)for(let s in a)s.startsWith("on")&&typeof a[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(a[s])):e[s]=a[s];if(e.disabled||e["aria-disabled"])for(let a in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(a)&&(n[a]=[s=>{var o;return(o=s==null?void 0:s.preventDefault)==null?void 0:o.call(s)}]);for(let a in n)Object.assign(e,{[a](s,...o){let c=n[a];for(let d of c){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;d(s,...o)}}});return e}function Pg(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let a of t)for(let s in a)s.startsWith("on")&&typeof a[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(a[s])):e[s]=a[s];for(let a in n)Object.assign(e,{[a](...s){let o=n[a];for(let c of o)c==null||c(...s)}});return e}function rr(t){var e;return Object.assign(x.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Ya(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Gm(t,e=[]){let n=Object.assign({},t);for(let a of e)a in n&&delete n[a];return n}function JN(t){return Oe.version.split(".")[0]>="19"?t.props.ref:t.ref}function e3(t,e,n){let[a,s]=x.useState(n),o=t!==void 0,c=x.useRef(o),d=x.useRef(!1),m=x.useRef(!1);return o&&!c.current&&!d.current?(d.current=!0,c.current=o,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!o&&c.current&&!m.current&&(m.current=!0,c.current=o,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[o?t:a,ze(p=>(o||s(p),e==null?void 0:e(p)))]}function t3(t){let[e]=x.useState(t);return e}function Ox(t={},e=null,n=[]){for(let[a,s]of Object.entries(t))Mx(n,Ix(e,a),s);return n}function Ix(t,e){return t?t+"["+e+"]":e}function Mx(t,e,n){if(Array.isArray(n))for(let[a,s]of n.entries())Mx(t,Ix(e,a.toString()),s);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):Ox(n,e,t)}let n3="span";var Ug=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Ug||{});function r3(t,e){var n;let{features:a=1,...s}=t,o={ref:e,"aria-hidden":(a&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(a&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(a&4)===4&&(a&2)!==2&&{display:"none"}}};return nr()({ourProps:o,theirProps:s,slot:{},defaultTag:n3,name:"Hidden"})}let Vx=rr(r3),i3=x.createContext(null);function a3({children:t}){let e=x.useContext(i3);if(!e)return Oe.createElement(Oe.Fragment,null,t);let{target:n}=e;return n?Cn.createPortal(Oe.createElement(Oe.Fragment,null,t),n):null}function s3({data:t,form:e,disabled:n,onReset:a,overrides:s}){let[o,c]=x.useState(null),d=Nu();return x.useEffect(()=>{if(a&&o)return d.addEventListener(o,"reset",a)},[o,e,a]),Oe.createElement(a3,null,Oe.createElement(l3,{setForm:c,formId:e}),Ox(t).map(([m,p])=>Oe.createElement(Vx,{features:Ug.Hidden,...Ya({key:m,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:e,disabled:n,name:m,value:p,...s})})))}function l3({setForm:t,formId:e}){return x.useEffect(()=>{if(e){let n=document.getElementById(e);n&&t(n)}},[t,e]),e?null:Oe.createElement(Vx,{features:Ug.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let a=n.closest("form");a&&t(a)}})}let o3=x.createContext(void 0);function jx(){return x.useContext(o3)}function u3(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let a=(e==null?void 0:e.getAttribute("disabled"))==="";return a&&c3(n)?!1:a}function c3(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let Lx=Symbol();function f3(t,e=!0){return Object.assign(t,{[Lx]:e})}function hi(...t){let e=x.useRef(t);x.useEffect(()=>{e.current=t},[t]);let n=ze(a=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(a):s.current=a)});return t.every(a=>a==null||(a==null?void 0:a[Lx]))?void 0:n}let zg=x.createContext(null);zg.displayName="DescriptionContext";function kx(){let t=x.useContext(zg);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,kx),e}return t}function h3(){var t,e;return(e=(t=x.useContext(zg))==null?void 0:t.value)!=null?e:void 0}let d3="p";function m3(t,e){let n=x.useId(),a=kg(),{id:s=`headlessui-description-${n}`,...o}=t,c=kx(),d=hi(e);yt(()=>c.register(s),[s,c.register]);let m=a||!1,p=x.useMemo(()=>({...c.slot,disabled:m}),[c.slot,m]),y={ref:d,...c.props,id:s};return nr()({ourProps:y,theirProps:o,slot:p,defaultTag:d3,name:c.name||"Description"})}let p3=rr(m3);Object.assign(p3,{});var un=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(un||{});let Eh=x.createContext(null);Eh.displayName="LabelContext";function Px(){let t=x.useContext(Eh);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Px),e}return t}function xh(t){var e,n,a;let s=(n=(e=x.useContext(Eh))==null?void 0:e.value)!=null?n:void 0;return((a=t==null?void 0:t.length)!=null?a:0)>0?[s,...t].filter(Boolean).join(" "):s}function g3({inherit:t=!1}={}){let e=xh(),[n,a]=x.useState([]),s=t?[e,...n].filter(Boolean):n;return[s.length>0?s.join(" "):void 0,x.useMemo(()=>function(o){let c=ze(m=>(a(p=>[...p,m]),()=>a(p=>{let y=p.slice(),_=y.indexOf(m);return _!==-1&&y.splice(_,1),y}))),d=x.useMemo(()=>({register:c,slot:o.slot,name:o.name,props:o.props,value:o.value}),[c,o.slot,o.name,o.props,o.value]);return Oe.createElement(Eh.Provider,{value:d},o.children)},[a])]}let y3="label";function v3(t,e){var n;let a=x.useId(),s=Px(),o=jx(),c=kg(),{id:d=`headlessui-label-${a}`,htmlFor:m=o??((n=s.props)==null?void 0:n.htmlFor),passive:p=!1,...y}=t,_=hi(e);yt(()=>s.register(d),[d,s.register]);let T=ze(N=>{let V=N.currentTarget;if(V instanceof HTMLLabelElement&&N.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(N),V instanceof HTMLLabelElement){let I=document.getElementById(V.htmlFor);if(I){let B=I.getAttribute("disabled");if(B==="true"||B==="")return;let W=I.getAttribute("aria-disabled");if(W==="true"||W==="")return;(I instanceof HTMLInputElement&&(I.type==="radio"||I.type==="checkbox")||I.role==="radio"||I.role==="checkbox"||I.role==="switch")&&I.click(),I.focus({preventScroll:!0})}}}),E=c||!1,S=x.useMemo(()=>({...s.slot,disabled:E}),[s.slot,E]),R={ref:_,...s.props,id:d,htmlFor:m,onClick:T};return p&&("onClick"in R&&(delete R.htmlFor,delete R.onClick),"onClick"in y&&delete y.onClick),nr()({ourProps:R,theirProps:y,slot:S,defaultTag:m?y3:"div",name:s.name||"Label"})}let b3=rr(v3),_3=Object.assign(b3,{});function il(t,e,n){let a=n.initialDeps??[],s;function o(){var c,d,m,p;let y;n.key&&((c=n.debug)!=null&&c.call(n))&&(y=Date.now());const _=t();if(!(_.length!==a.length||_.some((S,R)=>a[R]!==S)))return s;a=_;let E;if(n.key&&((d=n.debug)!=null&&d.call(n))&&(E=Date.now()),s=e(..._),n.key&&((m=n.debug)!=null&&m.call(n))){const S=Math.round((Date.now()-y)*100)/100,R=Math.round((Date.now()-E)*100)/100,N=R/16,V=(I,B)=>{for(I=String(I);I.length<B;)I=" "+I;return I};console.info(`%c⏱ ${V(R,5)} /${V(S,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*N,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(p=n==null?void 0:n.onChange)==null||p.call(n,s),s}return o.updateDeps=c=>{a=c},o}function Qm(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const E3=(t,e)=>Math.abs(t-e)<=1,x3=(t,e,n)=>{let a;return function(...s){t.clearTimeout(a),a=t.setTimeout(()=>e.apply(this,s),n)}},M_=t=>{const{offsetWidth:e,offsetHeight:n}=t;return{width:e,height:n}},T3=t=>t,w3=t=>{const e=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),a=[];for(let s=e;s<=n;s++)a.push(s);return a},S3=(t,e)=>{const n=t.scrollElement;if(!n)return;const a=t.targetWindow;if(!a)return;const s=c=>{const{width:d,height:m}=c;e({width:Math.round(d),height:Math.round(m)})};if(s(M_(n)),!a.ResizeObserver)return()=>{};const o=new a.ResizeObserver(c=>{const d=()=>{const m=c[0];if(m!=null&&m.borderBoxSize){const p=m.borderBoxSize[0];if(p){s({width:p.inlineSize,height:p.blockSize});return}}s(M_(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(d):d()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},V_={passive:!0},j_=typeof window>"u"?!0:"onscrollend"in window,A3=(t,e)=>{const n=t.scrollElement;if(!n)return;const a=t.targetWindow;if(!a)return;let s=0;const o=t.options.useScrollendEvent&&j_?()=>{}:x3(a,()=>{e(s,!1)},t.options.isScrollingResetDelay),c=y=>()=>{const{horizontal:_,isRtl:T}=t.options;s=_?n.scrollLeft*(T&&-1||1):n.scrollTop,o(),e(s,y)},d=c(!0),m=c(!1);m(),n.addEventListener("scroll",d,V_);const p=t.options.useScrollendEvent&&j_;return p&&n.addEventListener("scrollend",m,V_),()=>{n.removeEventListener("scroll",d),p&&n.removeEventListener("scrollend",m)}},R3=(t,e,n)=>{if(e!=null&&e.borderBoxSize){const a=e.borderBoxSize[0];if(a)return Math.round(a[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},C3=(t,{adjustments:e=0,behavior:n},a)=>{var s,o;const c=t+e;(o=(s=a.scrollElement)==null?void 0:s.scrollTo)==null||o.call(s,{[a.options.horizontal?"left":"top"]:c,behavior:n})};class D3{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const a=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(o=>{const c=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(c):c()})}));return{disconnect:()=>{var s;(s=a())==null||s.disconnect(),n=null},observe:s=>{var o;return(o=a())==null?void 0:o.observe(s,{box:"border-box"})},unobserve:s=>{var o;return(o=a())==null?void 0:o.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([a,s])=>{typeof s>"u"&&delete n[a]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:T3,rangeExtractor:w3,onChange:()=>{},measureElement:R3,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var a,s;(s=(a=this.options).onChange)==null||s.call(a,this,n)},this.maybeNotify=il(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const a=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==a){if(this.cleanup(),!a){this.maybeNotify();return}this.scrollElement=a,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,a)=>{const s=new Map,o=new Map;for(let c=a-1;c>=0;c--){const d=n[c];if(s.has(d.lane))continue;const m=o.get(d.lane);if(m==null||d.end>m.end?o.set(d.lane,d):d.end<m.end&&s.set(d.lane,!0),s.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((c,d)=>c.end===d.end?c.index-d.index:c.end-d.end)[0]:void 0},this.getMeasurementOptions=il(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,a,s,o,c)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:a,scrollMargin:s,getItemKey:o,enabled:c}),{key:!1}),this.getMeasurements=il(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:a,scrollMargin:s,getItemKey:o,enabled:c},d)=>{if(!c)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(y=>{this.itemSizeCache.set(y.key,y.size)}));const m=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const p=this.measurementsCache.slice(0,m);for(let y=m;y<n;y++){const _=o(y),T=this.options.lanes===1?p[y-1]:this.getFurthestMeasurement(p,y),E=T?T.end+this.options.gap:a+s,S=d.get(_),R=typeof S=="number"?S:this.options.estimateSize(y),N=E+R,V=T?T.lane:y%this.options.lanes;p[y]={index:y,start:E,size:R,end:N,key:_,lane:V}}return this.measurementsCache=p,p},{key:!1,debug:()=>this.options.debug}),this.calculateRange=il(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,a,s,o)=>this.range=n.length>0&&a>0?N3({measurements:n,outerSize:a,scrollOffset:s,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=il(()=>{let n=null,a=null;const s=this.calculateRange();return s&&(n=s.startIndex,a=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,a]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,a]},(n,a,s,o,c)=>o===null||c===null?[]:n({startIndex:o,endIndex:c,overscan:a,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const a=this.options.indexAttribute,s=n.getAttribute(a);return s?parseInt(s,10):(console.warn(`Missing attribute name '${a}={index}' on measured element.`),-1)},this._measureElement=(n,a)=>{const s=this.indexFromElement(n),o=this.measurementsCache[s];if(!o)return;const c=o.key,d=this.elementsCache.get(c);d!==n&&(d&&this.observer.unobserve(d),this.observer.observe(n),this.elementsCache.set(c,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,a,this))},this.resizeItem=(n,a)=>{const s=this.measurementsCache[n];if(!s)return;const o=this.itemSizeCache.get(s.key)??s.size,c=a-o;c!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,c,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=c,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,a)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((a,s)=>{a.isConnected||(this.observer.unobserve(a),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=il(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,a)=>{const s=[];for(let o=0,c=n.length;o<c;o++){const d=n[o],m=a[d];s.push(m)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const a=this.getMeasurements();if(a.length!==0)return Qm(a[Ux(0,a.length-1,s=>Qm(a[s]).start,n)])},this.getOffsetForAlignment=(n,a,s=0)=>{const o=this.getSize(),c=this.getScrollOffset();a==="auto"&&(a=n>=c+o?"end":"start"),a==="center"?n+=(s-o)/2:a==="end"&&(n-=o);const d=this.getTotalSize()-o;return Math.max(Math.min(d,n),0)},this.getOffsetForIndex=(n,a="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const o=this.getSize(),c=this.getScrollOffset();if(a==="auto")if(s.end>=c+o-this.options.scrollPaddingEnd)a="end";else if(s.start<=c+this.options.scrollPaddingStart)a="start";else return[c,a];const d=a==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(d,a,s.size),a]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:a="start",behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,a),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:a="auto",behavior:s}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,a);if(!o)return;const[c,d]=o;this._scrollToOffset(c,{adjustments:void 0,behavior:s}),s!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[p]=Qm(this.getOffsetForIndex(n,d)),y=this.getScrollOffset();E3(p,y)||this.scrollToIndex(n,{align:d,behavior:s})}else this.scrollToIndex(n,{align:d,behavior:s})}))},this.scrollBy=(n,{behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:a})},this.getTotalSize=()=>{var n;const a=this.getMeasurements();let s;if(a.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=a[a.length-1])==null?void 0:n.end)??0;else{const o=Array(this.options.lanes).fill(null);let c=a.length-1;for(;c>=0&&o.some(d=>d===null);){const d=a[c];o[d.lane]===null&&(o[d.lane]=d.end),c--}s=Math.max(...o.filter(d=>d!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:a,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:a},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const Ux=(t,e,n,a)=>{for(;t<=e;){const s=(t+e)/2|0,o=n(s);if(o<a)t=s+1;else if(o>a)e=s-1;else return s}return t>0?t-1:0};function N3({measurements:t,outerSize:e,scrollOffset:n,lanes:a}){const s=t.length-1,o=m=>t[m].start;if(t.length<=a)return{startIndex:0,endIndex:s};let c=Ux(0,s,o,n),d=c;if(a===1)for(;d<s&&t[d].end<n+e;)d++;else if(a>1){const m=Array(a).fill(0);for(;d<s&&m.some(y=>y<n+e);){const y=t[d];m[y.lane]=y.end,d++}const p=Array(a).fill(n+e);for(;c>=0&&p.some(y=>y>=n);){const y=t[c];p[y.lane]=y.start,c--}c=Math.max(0,c-c%a),d=Math.min(s,d+(a-1-d%a))}return{startIndex:c,endIndex:d}}const L_=typeof document<"u"?x.useLayoutEffect:x.useEffect;function O3(t){const e=x.useReducer(()=>({}),{})[1],n={...t,onChange:(s,o)=>{var c;o?Cn.flushSync(e):e(),(c=t.onChange)==null||c.call(t,s,o)}},[a]=x.useState(()=>new D3(n));return a.setOptions(n),L_(()=>a._didMount(),[]),L_(()=>a._willUpdate()),a}function I3(t){return O3({observeElementRect:S3,observeElementOffset:A3,scrollToFn:C3,...t})}function M3(t,e){return t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"&&"id"in t&&"id"in e?t.id===e.id:t===e}function V3(t=M3){return x.useCallback((e,n)=>{if(typeof t=="string"){let a=t;return(e==null?void 0:e[a])===(n==null?void 0:n[a])}return t(e,n)},[t])}function j3(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function k_(t,e=!1){let[n,a]=x.useReducer(()=>({}),{}),s=x.useMemo(()=>j3(t),[t,n]);return yt(()=>{if(!t)return;let o=new ResizeObserver(a);return o.observe(t),()=>{o.disconnect()}},[t]),e?{width:`${s.width}px`,height:`${s.height}px`}:s}let zx=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};function Bx(t,e){let n=t(),a=new Set;return{getSnapshot(){return n},subscribe(s){return a.add(s),()=>a.delete(s)},dispatch(s,...o){let c=e[s].call(n,...o);c&&(n=c,a.forEach(d=>d()))}}}function $x(t){return x.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}let L3=new zx(()=>Bx(()=>[],{ADD(t){return this.includes(t)?this:[...this,t]},REMOVE(t){let e=this.indexOf(t);if(e===-1)return this;let n=this.slice();return n.splice(e,1),n}}));function Bg(t,e){let n=L3.get(e),a=x.useId(),s=$x(n);if(yt(()=>{if(t)return n.dispatch("ADD",a),()=>n.dispatch("REMOVE",a)},[n,t]),!t)return!1;let o=s.indexOf(a),c=s.length;return o===-1&&(o=c,c+=1),o===c-1}let kp=new Map,au=new Map;function P_(t){var e;let n=(e=au.get(t))!=null?e:0;return au.set(t,n+1),n!==0?()=>U_(t):(kp.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>U_(t))}function U_(t){var e;let n=(e=au.get(t))!=null?e:1;if(n===1?au.delete(t):au.set(t,n-1),n!==1)return;let a=kp.get(t);a&&(a["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",a["aria-hidden"]),t.inert=a.inert,kp.delete(t))}function k3(t,{allowed:e,disallowed:n}={}){let a=Bg(t,"inert-others");yt(()=>{var s,o;if(!a)return;let c=fi();for(let m of(s=n==null?void 0:n())!=null?s:[])m&&c.add(P_(m));let d=(o=e==null?void 0:e())!=null?o:[];for(let m of d){if(!m)continue;let p=Du(m);if(!p)continue;let y=m.parentElement;for(;y&&y!==p.body;){for(let _ of y.children)d.some(T=>_.contains(T))||c.add(P_(_));y=y.parentElement}}return c.dispose},[a,e,n])}function P3(t,e,n){let a=fs(s=>{let o=s.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});x.useEffect(()=>{if(!t)return;let s=e===null?null:e instanceof HTMLElement?e:e.current;if(!s)return;let o=fi();if(typeof ResizeObserver<"u"){let c=new ResizeObserver(()=>a.current(s));c.observe(s),o.add(()=>c.disconnect())}if(typeof IntersectionObserver<"u"){let c=new IntersectionObserver(()=>a.current(s));c.observe(s),o.add(()=>c.disconnect())}return()=>o.dispose()},[e,a,t])}let Pp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var U3=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(U3||{}),z3=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(z3||{}),B3=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(B3||{}),Hx=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Hx||{});function $3(t,e=0){var n;return t===((n=Du(t))==null?void 0:n.body)?!1:ui(e,{0(){return t.matches(Pp)},1(){let a=t;for(;a!==null;){if(a.matches(Pp))return!0;a=a.parentElement}return!1}})}var H3=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(H3||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function F3(t,e=n=>n){return t.slice().sort((n,a)=>{let s=e(n),o=e(a);if(s===null||o===null)return 0;let c=s.compareDocumentPosition(o);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Fx(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function q3(){return/Android/gi.test(window.navigator.userAgent)}function qx(){return Fx()||q3()}function Go(t,e,n,a){let s=fs(n);x.useEffect(()=>{if(!t)return;function o(c){s.current(c)}return document.addEventListener(e,o,a),()=>document.removeEventListener(e,o,a)},[t,e,a])}function G3(t,e,n,a){let s=fs(n);x.useEffect(()=>{if(!t)return;function o(c){s.current(c)}return window.addEventListener(e,o,a),()=>window.removeEventListener(e,o,a)},[t,e,a])}const z_=30;function Q3(t,e,n){let a=Bg(t,"outside-click"),s=fs(n),o=x.useCallback(function(m,p){if(m.defaultPrevented)return;let y=p(m);if(y===null||!y.getRootNode().contains(y)||!y.isConnected)return;let _=function T(E){return typeof E=="function"?T(E()):Array.isArray(E)||E instanceof Set?E:[E]}(e);for(let T of _)if(T!==null&&(T.contains(y)||m.composed&&m.composedPath().includes(T)))return;return!$3(y,Hx.Loose)&&y.tabIndex!==-1&&m.preventDefault(),s.current(m,y)},[s,e]),c=x.useRef(null);Go(a,"pointerdown",m=>{var p,y;c.current=((y=(p=m.composedPath)==null?void 0:p.call(m))==null?void 0:y[0])||m.target},!0),Go(a,"mousedown",m=>{var p,y;c.current=((y=(p=m.composedPath)==null?void 0:p.call(m))==null?void 0:y[0])||m.target},!0),Go(a,"click",m=>{qx()||c.current&&(o(m,()=>c.current),c.current=null)},!0);let d=x.useRef({x:0,y:0});Go(a,"touchstart",m=>{d.current.x=m.touches[0].clientX,d.current.y=m.touches[0].clientY},!0),Go(a,"touchend",m=>{let p={x:m.changedTouches[0].clientX,y:m.changedTouches[0].clientY};if(!(Math.abs(p.x-d.current.x)>=z_||Math.abs(p.y-d.current.y)>=z_))return o(m,()=>m.target instanceof HTMLElement?m.target:null)},!0),G3(a,"blur",m=>o(m,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Qf(...t){return x.useMemo(()=>Du(...t),[...t])}function Y3(t,e,n,a){let s=fs(n);x.useEffect(()=>{t=t??window;function o(c){s.current(c)}return t.addEventListener(e,o,a),()=>t.removeEventListener(e,o,a)},[t,e,a])}function Gx(t){let e=x.useRef({value:"",selectionStart:null,selectionEnd:null});return Y3(t,"blur",n=>{let a=n.target;a instanceof HTMLInputElement&&(e.current={value:a.value,selectionStart:a.selectionStart,selectionEnd:a.selectionEnd})}),ze(()=>{if(document.activeElement!==t&&t instanceof HTMLInputElement&&t.isConnected){if(t.focus({preventScroll:!0}),t.value!==e.current.value)t.setSelectionRange(t.value.length,t.value.length);else{let{selectionStart:n,selectionEnd:a}=e.current;n!==null&&a!==null&&t.setSelectionRange(n,a)}e.current={value:"",selectionStart:null,selectionEnd:null}}})}function K3(t,e){return x.useMemo(()=>{var n;if(t.type)return t.type;let a=(n=t.as)!=null?n:"button";if(typeof a=="string"&&a.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function X3(){let t;return{before({doc:e}){var n;let a=e.documentElement,s=(n=e.defaultView)!=null?n:window;t=Math.max(0,s.innerWidth-a.clientWidth)},after({doc:e,d:n}){let a=e.documentElement,s=Math.max(0,a.clientWidth-a.offsetWidth),o=Math.max(0,t-s);n.style(a,"paddingRight",`${o}px`)}}}function Z3(){return Fx()?{before({doc:t,d:e,meta:n}){function a(s){return n.containers.flatMap(o=>o()).some(o=>o.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let d=fi();d.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>d.dispose()))}let o=(s=window.scrollY)!=null?s:window.pageYOffset,c=null;e.addEventListener(t,"click",d=>{if(d.target instanceof HTMLElement)try{let m=d.target.closest("a");if(!m)return;let{hash:p}=new URL(m.href),y=t.querySelector(p);y&&!a(y)&&(c=y)}catch{}},!0),e.addEventListener(t,"touchstart",d=>{if(d.target instanceof HTMLElement)if(a(d.target)){let m=d.target;for(;m.parentElement&&a(m.parentElement);)m=m.parentElement;e.style(m,"overscrollBehavior","contain")}else e.style(d.target,"touchAction","none")}),e.addEventListener(t,"touchmove",d=>{if(d.target instanceof HTMLElement){if(d.target.tagName==="INPUT")return;if(a(d.target)){let m=d.target;for(;m.parentElement&&m.dataset.headlessuiPortal!==""&&!(m.scrollHeight>m.clientHeight||m.scrollWidth>m.clientWidth);)m=m.parentElement;m.dataset.headlessuiPortal===""&&d.preventDefault()}else d.preventDefault()}},{passive:!1}),e.add(()=>{var d;let m=(d=window.scrollY)!=null?d:window.pageYOffset;o!==m&&window.scrollTo(0,o),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function W3(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function J3(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Ja=Bx(()=>new Map,{PUSH(t,e){var n;let a=(n=this.get(t))!=null?n:{doc:t,count:0,d:fi(),meta:new Set};return a.count++,a.meta.add(e),this.set(t,a),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let a={doc:t,d:e,meta:J3(n)},s=[Z3(),X3(),W3()];s.forEach(({before:o})=>o==null?void 0:o(a)),s.forEach(({after:o})=>o==null?void 0:o(a))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ja.subscribe(()=>{let t=Ja.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let a=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!a||!s&&a)&&Ja.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Ja.dispatch("TEARDOWN",n)}});function eO(t,e,n=()=>({containers:[]})){let a=$x(Ja),s=e?a.get(e):void 0,o=s?s.count>0:!1;return yt(()=>{if(!(!e||!t))return Ja.dispatch("PUSH",e,n),()=>Ja.dispatch("POP",e,n)},[t,e]),o}function tO(t,e,n=()=>[document.body]){let a=Bg(t,"scroll-lock");eO(a,e,s=>{var o;return{containers:[...(o=s.containers)!=null?o:[],n]}})}function B_(t){return[t.screenX,t.screenY]}function nO(){let t=x.useRef([-1,-1]);return{wasMoved(e){let n=B_(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=B_(e)}}}function rO(t=0){let[e,n]=x.useState(t),a=x.useCallback(m=>n(m),[e]),s=x.useCallback(m=>n(p=>p|m),[e]),o=x.useCallback(m=>(e&m)===m,[e]),c=x.useCallback(m=>n(p=>p&~m),[n]),d=x.useCallback(m=>n(p=>p^m),[n]);return{flags:e,setFlag:a,addFlag:s,hasFlag:o,removeFlag:c,toggleFlag:d}}var iO={},$_,H_;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&(($_=process==null?void 0:iO)==null?void 0:$_.NODE_ENV)==="test"&&typeof((H_=Element==null?void 0:Element.prototype)==null?void 0:H_.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var aO=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(aO||{});function sO(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function lO(t,e,n,a){let[s,o]=x.useState(n),{hasFlag:c,addFlag:d,removeFlag:m}=rO(t&&s?3:0),p=x.useRef(!1),y=x.useRef(!1),_=Nu();return yt(()=>{var T;if(t){if(n&&o(!0),!e){n&&d(3);return}return(T=void 0)==null||T.call(a,n),oO(e,{inFlight:p,prepare(){y.current?y.current=!1:y.current=p.current,p.current=!0,!y.current&&(n?(d(3),m(4)):(d(4),m(2)))},run(){y.current?n?(m(3),d(4)):(m(4),d(3)):n?m(1):d(1)},done(){var E;y.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(p.current=!1,m(7),n||o(!1),(E=void 0)==null||E.call(a,n))}})}},[t,n,e,_]),t?[s,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function oO(t,{prepare:e,run:n,done:a,inFlight:s}){let o=fi();return cO(t,{prepare:e,inFlight:s}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(uO(t,a))})}),o.dispose}function uO(t,e){var n,a;let s=fi();if(!t)return s.dispose;let o=!1;s.add(()=>{o=!0});let c=(a=(n=t.getAnimations)==null?void 0:n.call(t).filter(d=>d instanceof CSSTransition))!=null?a:[];return c.length===0?(e(),s.dispose):(Promise.allSettled(c.map(d=>d.finished)).then(()=>{o||e()}),s.dispose)}function cO(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let a=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=a}function fO(t,{container:e,accept:n,walk:a}){let s=x.useRef(n),o=x.useRef(a);x.useEffect(()=>{s.current=n,o.current=a},[n,a]),yt(()=>{if(!e||!t)return;let c=Du(e);if(!c)return;let d=s.current,m=o.current,p=Object.assign(_=>d(_),{acceptNode:d}),y=c.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,p,!1);for(;y.nextNode();)m(y.currentNode)},[e,t,s,o])}function F_(t,e){let n=x.useRef([]),a=ze(t);x.useEffect(()=>{let s=[...n.current];for(let[o,c]of e.entries())if(n.current[o]!==c){let d=a(e,s);return n.current=e,d}},[a,...e])}function Th(){return typeof window<"u"}function Nl(t){return Qx(t)?(t.nodeName||"").toLowerCase():"#document"}function Nn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Cr(t){var e;return(e=(Qx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Qx(t){return Th()?t instanceof Node||t instanceof Nn(t).Node:!1}function fn(t){return Th()?t instanceof Element||t instanceof Nn(t).Element:!1}function Ar(t){return Th()?t instanceof HTMLElement||t instanceof Nn(t).HTMLElement:!1}function q_(t){return!Th()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Nn(t).ShadowRoot}function Ou(t){const{overflow:e,overflowX:n,overflowY:a,display:s}=er(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!["inline","contents"].includes(s)}function hO(t){return["table","td","th"].includes(Nl(t))}function wh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function $g(t){const e=Hg(),n=fn(t)?er(t):t;return["transform","translate","scale","rotate","perspective"].some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(n.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(n.contain||"").includes(a))}function dO(t){let e=ra(t);for(;Ar(e)&&!_l(e);){if($g(e))return e;if(wh(e))return null;e=ra(e)}return null}function Hg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _l(t){return["html","body","#document"].includes(Nl(t))}function er(t){return Nn(t).getComputedStyle(t)}function Sh(t){return fn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ra(t){if(Nl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||q_(t)&&t.host||Cr(t);return q_(e)?e.host:e}function Yx(t){const e=ra(t);return _l(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ar(e)&&Ou(e)?e:Yx(e)}function pu(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=Yx(t),o=s===((a=t.ownerDocument)==null?void 0:a.body),c=Nn(s);if(o){const d=Up(c);return e.concat(c,c.visualViewport||[],Ou(s)?s:[],d&&n?pu(d):[])}return e.concat(s,pu(s,[],n))}function Up(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mO(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:a}=e;return n+"/"+a}).join(" "):navigator.userAgent}const as=Math.min,rn=Math.max,gu=Math.round,pf=Math.floor,Tr=t=>({x:t,y:t}),pO={left:"right",right:"left",bottom:"top",top:"bottom"},gO={start:"end",end:"start"};function G_(t,e,n){return rn(t,as(e,n))}function Ol(t,e){return typeof t=="function"?t(e):t}function ia(t){return t.split("-")[0]}function Iu(t){return t.split("-")[1]}function Kx(t){return t==="x"?"y":"x"}function Xx(t){return t==="y"?"height":"width"}function Yi(t){return["top","bottom"].includes(ia(t))?"y":"x"}function Zx(t){return Kx(Yi(t))}function yO(t,e,n){n===void 0&&(n=!1);const a=Iu(t),s=Zx(t),o=Xx(s);let c=s==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Yf(c)),[c,Yf(c)]}function vO(t){const e=Yf(t);return[zp(t),e,zp(e)]}function zp(t){return t.replace(/start|end/g,e=>gO[e])}function bO(t,e,n){const a=["left","right"],s=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:a:e?a:s;case"left":case"right":return e?o:c;default:return[]}}function _O(t,e,n,a){const s=Iu(t);let o=bO(ia(t),n==="start",a);return s&&(o=o.map(c=>c+"-"+s),e&&(o=o.concat(o.map(zp)))),o}function Yf(t){return t.replace(/left|right|bottom|top/g,e=>pO[e])}function EO(t){return{top:0,right:0,bottom:0,left:0,...t}}function xO(t){return typeof t!="number"?EO(t):{top:t,right:t,bottom:t,left:t}}function Kf(t){const{x:e,y:n,width:a,height:s}=t;return{width:a,height:s,top:n,left:e,right:e+a,bottom:n+s,x:e,y:n}}function Q_(t,e,n){let{reference:a,floating:s}=t;const o=Yi(e),c=Zx(e),d=Xx(c),m=ia(e),p=o==="y",y=a.x+a.width/2-s.width/2,_=a.y+a.height/2-s.height/2,T=a[d]/2-s[d]/2;let E;switch(m){case"top":E={x:y,y:a.y-s.height};break;case"bottom":E={x:y,y:a.y+a.height};break;case"right":E={x:a.x+a.width,y:_};break;case"left":E={x:a.x-s.width,y:_};break;default:E={x:a.x,y:a.y}}switch(Iu(e)){case"start":E[c]-=T*(n&&p?-1:1);break;case"end":E[c]+=T*(n&&p?-1:1);break}return E}const TO=async(t,e,n)=>{const{placement:a="bottom",strategy:s="absolute",middleware:o=[],platform:c}=n,d=o.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:t,floating:e,strategy:s}),{x:y,y:_}=Q_(p,a,m),T=a,E={},S=0;for(let R=0;R<d.length;R++){const{name:N,fn:V}=d[R],{x:I,y:B,data:W,reset:q}=await V({x:y,y:_,initialPlacement:a,placement:T,strategy:s,middlewareData:E,rects:p,platform:c,elements:{reference:t,floating:e}});y=I??y,_=B??_,E={...E,[N]:{...E[N],...W}},q&&S<=50&&(S++,typeof q=="object"&&(q.placement&&(T=q.placement),q.rects&&(p=q.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:s}):q.rects),{x:y,y:_}=Q_(p,T,m)),R=-1)}return{x:y,y:_,placement:T,strategy:s,middlewareData:E}};async function Ah(t,e){var n;e===void 0&&(e={});const{x:a,y:s,platform:o,rects:c,elements:d,strategy:m}=t,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:_="floating",altBoundary:T=!1,padding:E=0}=Ol(e,t),S=xO(E),N=d[T?_==="floating"?"reference":"floating":_],V=Kf(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(N)))==null||n?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:p,rootBoundary:y,strategy:m})),I=_==="floating"?{x:a,y:s,width:c.floating.width,height:c.floating.height}:c.reference,B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),W=await(o.isElement==null?void 0:o.isElement(B))?await(o.getScale==null?void 0:o.getScale(B))||{x:1,y:1}:{x:1,y:1},q=Kf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:I,offsetParent:B,strategy:m}):I);return{top:(V.top-q.top+S.top)/W.y,bottom:(q.bottom-V.bottom+S.bottom)/W.y,left:(V.left-q.left+S.left)/W.x,right:(q.right-V.right+S.right)/W.x}}const wO=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:s,middlewareData:o,rects:c,initialPlacement:d,platform:m,elements:p}=e,{mainAxis:y=!0,crossAxis:_=!0,fallbackPlacements:T,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:R=!0,...N}=Ol(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const V=ia(s),I=Yi(d),B=ia(d)===d,W=await(m.isRTL==null?void 0:m.isRTL(p.floating)),q=T||(B||!R?[Yf(d)]:vO(d)),ne=S!=="none";!T&&ne&&q.push(..._O(d,R,S,W));const L=[d,...q],O=await Ah(e,N),M=[];let z=((a=o.flip)==null?void 0:a.overflows)||[];if(y&&M.push(O[V]),_){const pe=yO(s,c,W);M.push(O[pe[0]],O[pe[1]])}if(z=[...z,{placement:s,overflows:M}],!M.every(pe=>pe<=0)){var k,$;const pe=(((k=o.flip)==null?void 0:k.index)||0)+1,X=L[pe];if(X){var j;const ce=_==="alignment"?I!==Yi(X):!1,ge=((j=z[0])==null?void 0:j.overflows[0])>0;if(!ce||ge)return{data:{index:pe,overflows:z},reset:{placement:X}}}let ue=($=z.filter(ce=>ce.overflows[0]<=0).sort((ce,ge)=>ce.overflows[1]-ge.overflows[1])[0])==null?void 0:$.placement;if(!ue)switch(E){case"bestFit":{var De;const ce=(De=z.filter(ge=>{if(ne){const P=Yi(ge.placement);return P===I||P==="y"}return!0}).map(ge=>[ge.placement,ge.overflows.filter(P=>P>0).reduce((P,re)=>P+re,0)]).sort((ge,P)=>ge[1]-P[1])[0])==null?void 0:De[0];ce&&(ue=ce);break}case"initialPlacement":ue=d;break}if(s!==ue)return{reset:{placement:ue}}}return{}}}};async function SO(t,e){const{placement:n,platform:a,elements:s}=t,o=await(a.isRTL==null?void 0:a.isRTL(s.floating)),c=ia(n),d=Iu(n),m=Yi(n)==="y",p=["left","top"].includes(c)?-1:1,y=o&&m?-1:1,_=Ol(e,t);let{mainAxis:T,crossAxis:E,alignmentAxis:S}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof S=="number"&&(E=d==="end"?S*-1:S),m?{x:E*y,y:T*p}:{x:T*p,y:E*y}}const AO=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:s,y:o,placement:c,middlewareData:d}=e,m=await SO(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:s+m.x,y:o+m.y,data:{...m,placement:c}}}}},RO=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:s}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:d={fn:N=>{let{x:V,y:I}=N;return{x:V,y:I}}},...m}=Ol(t,e),p={x:n,y:a},y=await Ah(e,m),_=Yi(ia(s)),T=Kx(_);let E=p[T],S=p[_];if(o){const N=T==="y"?"top":"left",V=T==="y"?"bottom":"right",I=E+y[N],B=E-y[V];E=G_(I,E,B)}if(c){const N=_==="y"?"top":"left",V=_==="y"?"bottom":"right",I=S+y[N],B=S-y[V];S=G_(I,S,B)}const R=d.fn({...e,[T]:E,[_]:S});return{...R,data:{x:R.x-n,y:R.y-a,enabled:{[T]:o,[_]:c}}}}}},CO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:s,rects:o,platform:c,elements:d}=e,{apply:m=()=>{},...p}=Ol(t,e),y=await Ah(e,p),_=ia(s),T=Iu(s),E=Yi(s)==="y",{width:S,height:R}=o.floating;let N,V;_==="top"||_==="bottom"?(N=_,V=T===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(V=_,N=T==="end"?"top":"bottom");const I=R-y.top-y.bottom,B=S-y.left-y.right,W=as(R-y[N],I),q=as(S-y[V],B),ne=!e.middlewareData.shift;let L=W,O=q;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=B),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(L=I),ne&&!T){const z=rn(y.left,0),k=rn(y.right,0),$=rn(y.top,0),j=rn(y.bottom,0);E?O=S-2*(z!==0||k!==0?z+k:rn(y.left,y.right)):L=R-2*($!==0||j!==0?$+j:rn(y.top,y.bottom))}await m({...e,availableWidth:O,availableHeight:L});const M=await c.getDimensions(d.floating);return S!==M.width||R!==M.height?{reset:{rects:!0}}:{}}}};function Wx(t){const e=er(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const s=Ar(t),o=s?t.offsetWidth:n,c=s?t.offsetHeight:a,d=gu(n)!==o||gu(a)!==c;return d&&(n=o,a=c),{width:n,height:a,$:d}}function Fg(t){return fn(t)?t:t.contextElement}function hl(t){const e=Fg(t);if(!Ar(e))return Tr(1);const n=e.getBoundingClientRect(),{width:a,height:s,$:o}=Wx(e);let c=(o?gu(n.width):n.width)/a,d=(o?gu(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const DO=Tr(0);function Jx(t){const e=Nn(t);return!Hg()||!e.visualViewport?DO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function NO(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Nn(t)?!1:e}function ss(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=Fg(t);let c=Tr(1);e&&(a?fn(a)&&(c=hl(a)):c=hl(t));const d=NO(o,n,a)?Jx(o):Tr(0);let m=(s.left+d.x)/c.x,p=(s.top+d.y)/c.y,y=s.width/c.x,_=s.height/c.y;if(o){const T=Nn(o),E=a&&fn(a)?Nn(a):a;let S=T,R=Up(S);for(;R&&a&&E!==S;){const N=hl(R),V=R.getBoundingClientRect(),I=er(R),B=V.left+(R.clientLeft+parseFloat(I.paddingLeft))*N.x,W=V.top+(R.clientTop+parseFloat(I.paddingTop))*N.y;m*=N.x,p*=N.y,y*=N.x,_*=N.y,m+=B,p+=W,S=Nn(R),R=Up(S)}}return Kf({width:y,height:_,x:m,y:p})}function qg(t,e){const n=Sh(t).scrollLeft;return e?e.left+n:ss(Cr(t)).left+n}function eT(t,e,n){n===void 0&&(n=!1);const a=t.getBoundingClientRect(),s=a.left+e.scrollLeft-(n?0:qg(t,a)),o=a.top+e.scrollTop;return{x:s,y:o}}function OO(t){let{elements:e,rect:n,offsetParent:a,strategy:s}=t;const o=s==="fixed",c=Cr(a),d=e?wh(e.floating):!1;if(a===c||d&&o)return n;let m={scrollLeft:0,scrollTop:0},p=Tr(1);const y=Tr(0),_=Ar(a);if((_||!_&&!o)&&((Nl(a)!=="body"||Ou(c))&&(m=Sh(a)),Ar(a))){const E=ss(a);p=hl(a),y.x=E.x+a.clientLeft,y.y=E.y+a.clientTop}const T=c&&!_&&!o?eT(c,m,!0):Tr(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-m.scrollLeft*p.x+y.x+T.x,y:n.y*p.y-m.scrollTop*p.y+y.y+T.y}}function IO(t){return Array.from(t.getClientRects())}function MO(t){const e=Cr(t),n=Sh(t),a=t.ownerDocument.body,s=rn(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),o=rn(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let c=-n.scrollLeft+qg(t);const d=-n.scrollTop;return er(a).direction==="rtl"&&(c+=rn(e.clientWidth,a.clientWidth)-s),{width:s,height:o,x:c,y:d}}function VO(t,e){const n=Nn(t),a=Cr(t),s=n.visualViewport;let o=a.clientWidth,c=a.clientHeight,d=0,m=0;if(s){o=s.width,c=s.height;const p=Hg();(!p||p&&e==="fixed")&&(d=s.offsetLeft,m=s.offsetTop)}return{width:o,height:c,x:d,y:m}}function jO(t,e){const n=ss(t,!0,e==="fixed"),a=n.top+t.clientTop,s=n.left+t.clientLeft,o=Ar(t)?hl(t):Tr(1),c=t.clientWidth*o.x,d=t.clientHeight*o.y,m=s*o.x,p=a*o.y;return{width:c,height:d,x:m,y:p}}function Y_(t,e,n){let a;if(e==="viewport")a=VO(t,n);else if(e==="document")a=MO(Cr(t));else if(fn(e))a=jO(e,n);else{const s=Jx(t);a={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Kf(a)}function tT(t,e){const n=ra(t);return n===e||!fn(n)||_l(n)?!1:er(n).position==="fixed"||tT(n,e)}function LO(t,e){const n=e.get(t);if(n)return n;let a=pu(t,[],!1).filter(d=>fn(d)&&Nl(d)!=="body"),s=null;const o=er(t).position==="fixed";let c=o?ra(t):t;for(;fn(c)&&!_l(c);){const d=er(c),m=$g(c);!m&&d.position==="fixed"&&(s=null),(o?!m&&!s:!m&&d.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Ou(c)&&!m&&tT(t,c))?a=a.filter(y=>y!==c):s=d,c=ra(c)}return e.set(t,a),a}function kO(t){let{element:e,boundary:n,rootBoundary:a,strategy:s}=t;const c=[...n==="clippingAncestors"?wh(e)?[]:LO(e,this._c):[].concat(n),a],d=c[0],m=c.reduce((p,y)=>{const _=Y_(e,y,s);return p.top=rn(_.top,p.top),p.right=as(_.right,p.right),p.bottom=as(_.bottom,p.bottom),p.left=rn(_.left,p.left),p},Y_(e,d,s));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function PO(t){const{width:e,height:n}=Wx(t);return{width:e,height:n}}function UO(t,e,n){const a=Ar(e),s=Cr(e),o=n==="fixed",c=ss(t,!0,o,e);let d={scrollLeft:0,scrollTop:0};const m=Tr(0);function p(){m.x=qg(s)}if(a||!a&&!o)if((Nl(e)!=="body"||Ou(s))&&(d=Sh(e)),a){const E=ss(e,!0,o,e);m.x=E.x+e.clientLeft,m.y=E.y+e.clientTop}else s&&p();o&&!a&&s&&p();const y=s&&!a&&!o?eT(s,d):Tr(0),_=c.left+d.scrollLeft-m.x-y.x,T=c.top+d.scrollTop-m.y-y.y;return{x:_,y:T,width:c.width,height:c.height}}function Ym(t){return er(t).position==="static"}function K_(t,e){if(!Ar(t)||er(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Cr(t)===n&&(n=n.ownerDocument.body),n}function nT(t,e){const n=Nn(t);if(wh(t))return n;if(!Ar(t)){let s=ra(t);for(;s&&!_l(s);){if(fn(s)&&!Ym(s))return s;s=ra(s)}return n}let a=K_(t,e);for(;a&&hO(a)&&Ym(a);)a=K_(a,e);return a&&_l(a)&&Ym(a)&&!$g(a)?n:a||dO(t)||n}const zO=async function(t){const e=this.getOffsetParent||nT,n=this.getDimensions,a=await n(t.floating);return{reference:UO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function BO(t){return er(t).direction==="rtl"}const $O={convertOffsetParentRelativeRectToViewportRelativeRect:OO,getDocumentElement:Cr,getClippingRect:kO,getOffsetParent:nT,getElementRects:zO,getClientRects:IO,getDimensions:PO,getScale:hl,isElement:fn,isRTL:BO};function rT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function HO(t,e){let n=null,a;const s=Cr(t);function o(){var d;clearTimeout(a),(d=n)==null||d.disconnect(),n=null}function c(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),o();const p=t.getBoundingClientRect(),{left:y,top:_,width:T,height:E}=p;if(d||e(),!T||!E)return;const S=pf(_),R=pf(s.clientWidth-(y+T)),N=pf(s.clientHeight-(_+E)),V=pf(y),B={rootMargin:-S+"px "+-R+"px "+-N+"px "+-V+"px",threshold:rn(0,as(1,m))||1};let W=!0;function q(ne){const L=ne[0].intersectionRatio;if(L!==m){if(!W)return c();L?c(!1,L):a=setTimeout(()=>{c(!1,1e-7)},1e3)}L===1&&!rT(p,t.getBoundingClientRect())&&c(),W=!1}try{n=new IntersectionObserver(q,{...B,root:s.ownerDocument})}catch{n=new IntersectionObserver(q,B)}n.observe(t)}return c(!0),o}function FO(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=a,p=Fg(t),y=s||o?[...p?pu(p):[],...pu(e)]:[];y.forEach(V=>{s&&V.addEventListener("scroll",n,{passive:!0}),o&&V.addEventListener("resize",n)});const _=p&&d?HO(p,n):null;let T=-1,E=null;c&&(E=new ResizeObserver(V=>{let[I]=V;I&&I.target===p&&E&&(E.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var B;(B=E)==null||B.observe(e)})),n()}),p&&!m&&E.observe(p),E.observe(e));let S,R=m?ss(t):null;m&&N();function N(){const V=ss(t);R&&!rT(R,V)&&n(),R=V,S=requestAnimationFrame(N)}return n(),()=>{var V;y.forEach(I=>{s&&I.removeEventListener("scroll",n),o&&I.removeEventListener("resize",n)}),_==null||_(),(V=E)==null||V.disconnect(),E=null,m&&cancelAnimationFrame(S)}}const Km=Ah,qO=AO,GO=RO,QO=wO,YO=CO,KO=(t,e,n)=>{const a=new Map,s={platform:$O,...n},o={...s.platform,_c:a};return TO(t,e,{...s,platform:o})};var Rf=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Xf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!Xf(t[a],e[a]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,s[a]))return!1;for(a=n;a--!==0;){const o=s[a];if(!(o==="_owner"&&t.$$typeof)&&!Xf(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function iT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function X_(t,e){const n=iT(t);return Math.round(e*n)/n}function Xm(t){const e=x.useRef(t);return Rf(()=>{e.current=t}),e}function XO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:s,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:m,open:p}=t,[y,_]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[T,E]=x.useState(a);Xf(T,a)||E(a);const[S,R]=x.useState(null),[N,V]=x.useState(null),I=x.useCallback(ce=>{ce!==ne.current&&(ne.current=ce,R(ce))},[]),B=x.useCallback(ce=>{ce!==L.current&&(L.current=ce,V(ce))},[]),W=o||S,q=c||N,ne=x.useRef(null),L=x.useRef(null),O=x.useRef(y),M=m!=null,z=Xm(m),k=Xm(s),$=Xm(p),j=x.useCallback(()=>{if(!ne.current||!L.current)return;const ce={placement:e,strategy:n,middleware:T};k.current&&(ce.platform=k.current),KO(ne.current,L.current,ce).then(ge=>{const P={...ge,isPositioned:$.current!==!1};De.current&&!Xf(O.current,P)&&(O.current=P,Cn.flushSync(()=>{_(P)}))})},[T,e,n,k,$]);Rf(()=>{p===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,_(ce=>({...ce,isPositioned:!1})))},[p]);const De=x.useRef(!1);Rf(()=>(De.current=!0,()=>{De.current=!1}),[]),Rf(()=>{if(W&&(ne.current=W),q&&(L.current=q),W&&q){if(z.current)return z.current(W,q,j);j()}},[W,q,j,z,M]);const pe=x.useMemo(()=>({reference:ne,floating:L,setReference:I,setFloating:B}),[I,B]),X=x.useMemo(()=>({reference:W,floating:q}),[W,q]),ue=x.useMemo(()=>{const ce={position:n,left:0,top:0};if(!X.floating)return ce;const ge=X_(X.floating,y.x),P=X_(X.floating,y.y);return d?{...ce,transform:"translate("+ge+"px, "+P+"px)",...iT(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ge,top:P}},[n,d,X.floating,y.x,y.y]);return x.useMemo(()=>({...y,update:j,refs:pe,elements:X,floatingStyles:ue}),[y,j,pe,X,ue])}const aT=(t,e)=>({...qO(t),options:[t,e]}),ZO=(t,e)=>({...GO(t),options:[t,e]}),WO=(t,e)=>({...QO(t),options:[t,e]}),JO=(t,e)=>({...YO(t),options:[t,e]}),sT={...ip},e6=sT.useInsertionEffect,t6=e6||(t=>t());function lT(t){const e=x.useRef(()=>{});return t6(()=>{e.current=t}),x.useCallback(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e.current==null?void 0:e.current(...a)},[])}var Bp=typeof document<"u"?x.useLayoutEffect:x.useEffect;let Z_=!1,n6=0;const W_=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+n6++;function r6(){const[t,e]=x.useState(()=>Z_?W_():void 0);return Bp(()=>{t==null&&e(W_())},[]),x.useEffect(()=>{Z_=!0},[]),t}const i6=sT.useId,a6=i6||r6;function s6(){const t=new Map;return{emit(e,n){var a;(a=t.get(e))==null||a.forEach(s=>s(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var a;t.set(e,((a=t.get(e))==null?void 0:a.filter(s=>s!==n))||[])}}}const l6=x.createContext(null),o6=x.createContext(null),u6=()=>{var t;return((t=x.useContext(l6))==null?void 0:t.id)||null},c6=()=>x.useContext(o6),f6="data-floating-ui-focusable";function h6(t){const{open:e=!1,onOpenChange:n,elements:a}=t,s=a6(),o=x.useRef({}),[c]=x.useState(()=>s6()),d=u6()!=null,[m,p]=x.useState(a.reference),y=lT((E,S,R)=>{o.current.openEvent=E?S:void 0,c.emit("openchange",{open:E,event:S,reason:R,nested:d}),n==null||n(E,S,R)}),_=x.useMemo(()=>({setPositionReference:p}),[]),T=x.useMemo(()=>({reference:m||a.reference||null,floating:a.floating||null,domReference:a.reference}),[m,a.reference,a.floating]);return x.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:T,events:c,floatingId:s,refs:_}),[e,y,T,c,s,_])}function d6(t){t===void 0&&(t={});const{nodeId:e}=t,n=h6({...t,elements:{reference:null,floating:null,...t.elements}}),a=t.rootContext||n,s=a.elements,[o,c]=x.useState(null),[d,m]=x.useState(null),y=(s==null?void 0:s.domReference)||o,_=x.useRef(null),T=c6();Bp(()=>{y&&(_.current=y)},[y]);const E=XO({...t,elements:{...s,...d&&{reference:d}}}),S=x.useCallback(B=>{const W=fn(B)?{getBoundingClientRect:()=>B.getBoundingClientRect(),contextElement:B}:B;m(W),E.refs.setReference(W)},[E.refs]),R=x.useCallback(B=>{(fn(B)||B===null)&&(_.current=B,c(B)),(fn(E.refs.reference.current)||E.refs.reference.current===null||B!==null&&!fn(B))&&E.refs.setReference(B)},[E.refs]),N=x.useMemo(()=>({...E.refs,setReference:R,setPositionReference:S,domReference:_}),[E.refs,R,S]),V=x.useMemo(()=>({...E.elements,domReference:y}),[E.elements,y]),I=x.useMemo(()=>({...E,...a,refs:N,elements:V,nodeId:e}),[E,N,V,e,a]);return Bp(()=>{a.dataRef.current.floatingContext=I;const B=T==null?void 0:T.nodesRef.current.find(W=>W.id===e);B&&(B.context=I)}),x.useMemo(()=>({...E,context:I,refs:N,elements:V}),[E,N,V,I])}const J_="active",e1="selected";function Zm(t,e,n){const a=new Map,s=n==="item";let o=t;if(s&&t){const{[J_]:c,[e1]:d,...m}=t;o=m}return{...n==="floating"&&{tabIndex:-1,[f6]:""},...o,...e.map(c=>{const d=c?c[n]:null;return typeof d=="function"?t?d(t):null:d}).concat(t).reduce((c,d)=>(d&&Object.entries(d).forEach(m=>{let[p,y]=m;if(!(s&&[J_,e1].includes(p)))if(p.indexOf("on")===0){if(a.has(p)||a.set(p,[]),typeof y=="function"){var _;(_=a.get(p))==null||_.push(y),c[p]=function(){for(var T,E=arguments.length,S=new Array(E),R=0;R<E;R++)S[R]=arguments[R];return(T=a.get(p))==null?void 0:T.map(N=>N(...S)).find(N=>N!==void 0)}}}else c[p]=y}),c),{})}}function m6(t){t===void 0&&(t=[]);const e=t.map(d=>d==null?void 0:d.reference),n=t.map(d=>d==null?void 0:d.floating),a=t.map(d=>d==null?void 0:d.item),s=x.useCallback(d=>Zm(d,t,"reference"),e),o=x.useCallback(d=>Zm(d,t,"floating"),n),c=x.useCallback(d=>Zm(d,t,"item"),a);return x.useMemo(()=>({getReferenceProps:s,getFloatingProps:o,getItemProps:c}),[s,o,c])}function t1(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const p6=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:a,onFallbackChange:s,offset:o=0,index:c=0,minItemsVisible:d=4,referenceOverflowThreshold:m=0,scrollRef:p,...y}=Ol(t,e),{rects:_,elements:{floating:T}}=e,E=n.current[c],S=(p==null?void 0:p.current)||T,R=T.clientTop||S.clientTop,N=T.clientTop!==0,V=S.clientTop!==0,I=T===S;if(!E)return{};const B={...e,...await aT(-E.offsetTop-T.clientTop-_.reference.height/2-E.offsetHeight/2-o).fn(e)},W=await Km(t1(B,S.scrollHeight+R+T.clientTop),y),q=await Km(B,{...y,elementContext:"reference"}),ne=rn(0,W.top),L=B.y+ne,z=(S.scrollHeight>S.clientHeight?k=>k:gu)(rn(0,S.scrollHeight+(N&&I||V?R*2:0)-ne-rn(0,W.bottom)));if(S.style.maxHeight=z+"px",S.scrollTop=ne,s){const k=S.offsetHeight<E.offsetHeight*as(d,n.current.length)-1||q.top>=-m||q.bottom>=-m;Cn.flushSync(()=>s(k))}return a&&(a.current=await Km(t1({...B,y:L},S.offsetHeight+R+T.clientTop),y)),{y:L}}});function g6(t,e){const{open:n,elements:a}=t,{enabled:s=!0,overflowRef:o,scrollRef:c,onChange:d}=e,m=lT(d),p=x.useRef(!1),y=x.useRef(null),_=x.useRef(null);x.useEffect(()=>{if(!s)return;function E(R){if(R.ctrlKey||!S||o.current==null)return;const N=R.deltaY,V=o.current.top>=-.5,I=o.current.bottom>=-.5,B=S.scrollHeight-S.clientHeight,W=N<0?-1:1,q=N<0?"max":"min";S.scrollHeight<=S.clientHeight||(!V&&N>0||!I&&N<0?(R.preventDefault(),Cn.flushSync(()=>{m(ne=>ne+Math[q](N,B*W))})):/firefox/i.test(mO())&&(S.scrollTop+=N))}const S=(c==null?void 0:c.current)||a.floating;if(n&&S)return S.addEventListener("wheel",E),requestAnimationFrame(()=>{y.current=S.scrollTop,o.current!=null&&(_.current={...o.current})}),()=>{y.current=null,_.current=null,S.removeEventListener("wheel",E)}},[s,n,a.floating,o,c,m]);const T=x.useMemo(()=>({onKeyDown(){p.current=!0},onWheel(){p.current=!1},onPointerMove(){p.current=!1},onScroll(){const E=(c==null?void 0:c.current)||a.floating;if(!(!o.current||!E||!p.current)){if(y.current!==null){const S=E.scrollTop-y.current;(o.current.bottom<-.5&&S<-1||o.current.top<-.5&&S>1)&&Cn.flushSync(()=>m(R=>R+S))}requestAnimationFrame(()=>{y.current=E.scrollTop})}}}),[a.floating,m,o,c]);return x.useMemo(()=>s?{floating:T}:{},[s,T])}let Mu=x.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Mu.displayName="FloatingContext";let Gg=x.createContext(null);Gg.displayName="PlacementContext";function y6(t){return x.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function v6(){return x.useContext(Mu).setReference}function b6(){let{getFloatingProps:t,slot:e}=x.useContext(Mu);return x.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function _6(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=x.useContext(Gg),n=x.useMemo(()=>t,[JSON.stringify(t,(s,o)=>{var c;return(c=o==null?void 0:o.outerHTML)!=null?c:o})]);yt(()=>{e==null||e(n??null)},[e,n]);let a=x.useContext(Mu);return x.useMemo(()=>[a.setFloating,t?a.styles:{}],[a.setFloating,t,a.styles])}let n1=4;function E6({children:t,enabled:e=!0}){let[n,a]=x.useState(null),[s,o]=x.useState(0),c=x.useRef(null),[d,m]=x.useState(null);x6(d);let p=e&&n!==null&&d!==null,{to:y="bottom",gap:_=0,offset:T=0,padding:E=0,inner:S}=T6(n,d),[R,N="center"]=y.split(" ");yt(()=>{p&&o(0)},[p]);let{refs:V,floatingStyles:I,context:B}=d6({open:p,placement:R==="selection"?N==="center"?"bottom":`bottom-${N}`:N==="center"?`${R}`:`${R}-${N}`,strategy:"absolute",transform:!1,middleware:[aT({mainAxis:R==="selection"?0:_,crossAxis:T}),ZO({padding:E}),R!=="selection"&&WO({padding:E}),R==="selection"&&S?p6({...S,padding:E,overflowRef:c,offset:s,minItemsVisible:n1,referenceOverflowThreshold:E,onFallbackChange(k){var $,j;if(!k)return;let De=B.elements.floating;if(!De)return;let pe=parseFloat(getComputedStyle(De).scrollPaddingBottom)||0,X=Math.min(n1,De.childElementCount),ue=0,ce=0;for(let ge of(j=($=B.elements.floating)==null?void 0:$.childNodes)!=null?j:[])if(ge instanceof HTMLElement){let P=ge.offsetTop,re=P+ge.clientHeight+pe,fe=De.scrollTop,le=fe+De.clientHeight;if(P>=fe&&re<=le)X--;else{ce=Math.max(0,Math.min(re,le)-Math.max(P,fe)),ue=ge.clientHeight;break}}X>=1&&o(ge=>{let P=ue*X-ce+pe;return ge>=P?ge:P})}}):null,JO({padding:E,apply({availableWidth:k,availableHeight:$,elements:j}){Object.assign(j.floating.style,{overflow:"auto",maxWidth:`${k}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${$}px)`})}})].filter(Boolean),whileElementsMounted:FO}),[W=R,q=N]=B.placement.split("-");R==="selection"&&(W="selection");let ne=x.useMemo(()=>({anchor:[W,q].filter(Boolean).join(" ")}),[W,q]),L=g6(B,{overflowRef:c,onChange:o}),{getReferenceProps:O,getFloatingProps:M}=m6([L]),z=ze(k=>{m(k),V.setFloating(k)});return x.createElement(Gg.Provider,{value:a},x.createElement(Mu.Provider,{value:{setFloating:z,setReference:V.setReference,styles:I,getReferenceProps:O,getFloatingProps:M,slot:ne}},t))}function x6(t){yt(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,a=parseFloat(n);if(isNaN(a))return;let s=parseInt(n);isNaN(s)||a!==s&&(t.style.maxHeight=`${Math.ceil(a)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function T6(t,e){var n,a,s;let o=Wm((n=t==null?void 0:t.gap)!=null?n:"var(--anchor-gap, 0)",e),c=Wm((a=t==null?void 0:t.offset)!=null?a:"var(--anchor-offset, 0)",e),d=Wm((s=t==null?void 0:t.padding)!=null?s:"var(--anchor-padding, 0)",e);return{...t,gap:o,offset:c,padding:d}}function Wm(t,e,n=void 0){let a=Nu(),s=ze((m,p)=>{if(m==null)return[n,null];if(typeof m=="number")return[m,null];if(typeof m=="string"){if(!p)return[n,null];let y=r1(m,p);return[y,_=>{let T=oT(m);{let E=T.map(S=>window.getComputedStyle(p).getPropertyValue(S));a.requestAnimationFrame(function S(){a.nextFrame(S);let R=!1;for(let[V,I]of T.entries()){let B=window.getComputedStyle(p).getPropertyValue(I);if(E[V]!==B){E[V]=B,R=!0;break}}if(!R)return;let N=r1(m,p);y!==N&&(_(N),y=N)})}return a.dispose}]}return[n,null]}),o=x.useMemo(()=>s(t,e)[0],[t,e]),[c=o,d]=x.useState();return yt(()=>{let[m,p]=s(t,e);if(d(m),!!p)return p(d)},[t,e]),c}function oT(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let a=e[1].slice(0,n).trim(),s=e[1].slice(n+1).trim();return s?[a,...oT(s)]:[a]}return[]}function r1(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let a=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),a}function w6({children:t,freeze:e}){let n=$p(e,t);return Oe.createElement(Oe.Fragment,null,n)}function $p(t,e){let[n,a]=x.useState(e);return!t&&n!==e&&a(e),t?n:e}let Qg=x.createContext(null);Qg.displayName="OpenClosedContext";var yu=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(yu||{});function S6(){return x.useContext(Qg)}function A6({value:t,children:e}){return Oe.createElement(Qg.Provider,{value:t},e)}var Jm={exports:{}},ep={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1;function R6(){if(i1)return ep;i1=1;var t=Jf();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:e,a=t.useSyncExternalStore,s=t.useRef,o=t.useEffect,c=t.useMemo,d=t.useDebugValue;return ep.useSyncExternalStoreWithSelector=function(m,p,y,_,T){var E=s(null);if(E.current===null){var S={hasValue:!1,value:null};E.current=S}else S=E.current;E=c(function(){function N(q){if(!V){if(V=!0,I=q,q=_(q),T!==void 0&&S.hasValue){var ne=S.value;if(T(ne,q))return B=ne}return B=q}if(ne=B,n(I,q))return ne;var L=_(q);return T!==void 0&&T(ne,L)?(I=q,ne):(I=q,B=L)}var V=!1,I,B,W=y===void 0?null:y;return[function(){return N(p())},W===null?void 0:function(){return N(W())}]},[p,y,_,T]);var R=a(m,E[0],E[1]);return o(function(){S.hasValue=!0,S.value=R},[R]),d(R),R},ep}var a1;function C6(){return a1||(a1=1,Jm.exports=R6()),Jm.exports}var D6=C6(),uT=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Zn=(t,e,n)=>(uT(t,e,"read from private field"),n?n.call(t):e.get(t)),tp=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},s1=(t,e,n,a)=>(uT(t,e,"write to private field"),e.set(t,n),n),ni,Xo,Zo;class N6{constructor(e){tp(this,ni,{}),tp(this,Xo,new zx(()=>new Set)),tp(this,Zo,new Set),s1(this,ni,e)}get state(){return Zn(this,ni)}subscribe(e,n){let a={selector:e,callback:n,current:e(Zn(this,ni))};return Zn(this,Zo).add(a),()=>{Zn(this,Zo).delete(a)}}on(e,n){return Zn(this,Xo).get(e).add(n),()=>{Zn(this,Xo).get(e).delete(n)}}send(e){s1(this,ni,this.reduce(Zn(this,ni),e));for(let n of Zn(this,Zo)){let a=n.selector(Zn(this,ni));cT(n.current,a)||(n.current=a,n.callback(a))}for(let n of Zn(this,Xo).get(e.type))n(Zn(this,ni),e)}}ni=new WeakMap,Xo=new WeakMap,Zo=new WeakMap;function cT(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:np(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:np(t.entries(),e.entries()):l1(t)&&l1(e)?np(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function np(t,e){do{let n=t.next(),a=e.next();if(n.done&&a.done)return!0;if(n.done||a.done||!Object.is(n.value,a.value))return!1}while(!0)}function l1(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function Kt(t,e,n=cT){return D6.useSyncExternalStoreWithSelector(ze(a=>t.subscribe(O6,a)),ze(()=>t.state),ze(()=>t.state),ze(e),n)}function O6(t){return t}function I6(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ka=[];I6(()=>{function t(e){if(!(e.target instanceof HTMLElement)||e.target===document.body||Ka[0]===e.target)return;let n=e.target;n=n.closest(Pp),Ka.unshift(n??e.target),Ka=Ka.filter(a=>a!=null&&a.isConnected),Ka.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function M6(t){throw new Error("Unexpected object: "+t)}var Bt=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Bt||{});function o1(t,e){let n=e.resolveItems();if(n.length<=0)return null;let a=e.resolveActiveIndex(),s=a??-1;switch(t.focus){case 0:{for(let o=0;o<n.length;++o)if(!e.resolveDisabled(n[o],o,n))return o;return a}case 1:{s===-1&&(s=n.length);for(let o=s-1;o>=0;--o)if(!e.resolveDisabled(n[o],o,n))return o;return a}case 2:{for(let o=s+1;o<n.length;++o)if(!e.resolveDisabled(n[o],o,n))return o;return a}case 3:{for(let o=n.length-1;o>=0;--o)if(!e.resolveDisabled(n[o],o,n))return o;return a}case 4:{for(let o=0;o<n.length;++o)if(e.resolveId(n[o],o,n)===t.id)return o;return a}case 5:return null;default:M6(t)}}var Yg=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(Yg||{});function V6(t){let e=ze(t),n=x.useRef(!1);x.useEffect(()=>(n.current=!1,()=>{n.current=!0,Dx(()=>{n.current&&e()})}),[e])}function j6(){let t=typeof document>"u";return"useSyncExternalStore"in ip?(e=>e.useSyncExternalStore)(ip)(()=>()=>{},()=>!1,()=>!t):!1}function L6(){let t=j6(),[e,n]=x.useState(es.isHandoffComplete);return e&&es.isHandoffComplete===!1&&n(!1),x.useEffect(()=>{e!==!0&&n(!0)},[e]),x.useEffect(()=>es.handoff(),[]),t?!1:e}let k6=x.createContext(!1);function P6(){return x.useContext(k6)}function U6(t){let e=P6(),n=x.useContext(hT),[a,s]=x.useState(()=>{var o;if(!e&&n!==null)return(o=n.current)!=null?o:null;if(es.isServer)return null;let c=t==null?void 0:t.getElementById("headlessui-portal-root");if(c)return c;if(t===null)return null;let d=t.createElement("div");return d.setAttribute("id","headlessui-portal-root"),t.body.appendChild(d)});return x.useEffect(()=>{a!==null&&(t!=null&&t.body.contains(a)||t==null||t.body.appendChild(a))},[a,t]),x.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),a}let fT=x.Fragment,z6=rr(function(t,e){let{ownerDocument:n=null,...a}=t,s=x.useRef(null),o=hi(f3(E=>{s.current=E}),e),c=Qf(s),d=n??c,m=U6(d),[p]=x.useState(()=>{var E;return es.isServer?null:(E=d==null?void 0:d.createElement("div"))!=null?E:null}),y=x.useContext(F6),_=L6();yt(()=>{!m||!p||m.contains(p)||(p.setAttribute("data-headlessui-portal",""),m.appendChild(p))},[m,p]),yt(()=>{if(p&&y)return y.register(p)},[y,p]),V6(()=>{var E;!m||!p||(p instanceof Node&&m.contains(p)&&m.removeChild(p),m.childNodes.length<=0&&((E=m.parentElement)==null||E.removeChild(m)))});let T=nr();return _?!m||!p?null:Cn.createPortal(T({ourProps:{ref:o},theirProps:a,slot:{},defaultTag:fT,name:"Portal"}),p):null});function B6(t,e){let n=hi(e),{enabled:a=!0,ownerDocument:s,...o}=t,c=nr();return a?Oe.createElement(z6,{...o,ownerDocument:s,ref:n}):c({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:fT,name:"Portal"})}let $6=x.Fragment,hT=x.createContext(null);function H6(t,e){let{target:n,...a}=t,s={ref:hi(e)},o=nr();return Oe.createElement(hT.Provider,{value:n},o({ourProps:s,theirProps:a,defaultTag:$6,name:"Popover.Group"}))}let F6=x.createContext(null),q6=rr(B6),G6=rr(H6),Q6=Object.assign(q6,{Group:G6});var Y6=Object.defineProperty,K6=(t,e,n)=>e in t?Y6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u1=(t,e,n)=>(K6(t,typeof e!="symbol"?e+"":e,n),n),Ue=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Ue||{}),Rn=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Rn||{}),Ki=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(Ki||{}),dT=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.SetTyping=3]="SetTyping",t[t.RegisterOption=4]="RegisterOption",t[t.UnregisterOption=5]="UnregisterOption",t[t.DefaultToFirstOption=6]="DefaultToFirstOption",t[t.SetActivationTrigger=7]="SetActivationTrigger",t[t.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",t[t.SetInputElement=9]="SetInputElement",t[t.SetButtonElement=10]="SetButtonElement",t[t.SetOptionsElement=11]="SetOptionsElement",t))(dT||{});function rp(t,e=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,a=e(t.options.slice()),s=a.length>0&&a[0].dataRef.current.order!==null?a.sort((c,d)=>c.dataRef.current.order-d.dataRef.current.order):F3(a,c=>c.dataRef.current.domRef.current),o=n?s.indexOf(n):null;return o===-1&&(o=null),{options:s,activeOptionIndex:o}}let X6={1(t){var e;return(e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(t){var e,n;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;if((n=t.dataRef.current)!=null&&n.value){let a=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(a!==-1)return{...t,activeOptionIndex:a,comboboxState:0,__demoMode:!1}}return{...t,comboboxState:0,__demoMode:!1}},3(t,e){return t.isTyping===e.isTyping?t:{...t,isTyping:e.isTyping}},2(t,e){var n,a,s,o;if((n=t.dataRef.current)!=null&&n.disabled||t.optionsElement&&!((a=t.dataRef.current)!=null&&a.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let{options:p,disabled:y}=t.virtual,_=e.focus===Bt.Specific?e.idx:o1(e,{resolveItems:()=>p,resolveActiveIndex:()=>{var E,S;return(S=(E=t.activeOptionIndex)!=null?E:p.findIndex(R=>!y(R)))!=null?S:null},resolveDisabled:y,resolveId(){throw new Error("Function not implemented.")}}),T=(s=e.trigger)!=null?s:2;return t.activeOptionIndex===_&&t.activationTrigger===T?t:{...t,activeOptionIndex:_,activationTrigger:T,isTyping:!1,__demoMode:!1}}let c=rp(t);if(c.activeOptionIndex===null){let p=c.options.findIndex(y=>!y.dataRef.current.disabled);p!==-1&&(c.activeOptionIndex=p)}let d=e.focus===Bt.Specific?e.idx:o1(e,{resolveItems:()=>c.options,resolveActiveIndex:()=>c.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled}),m=(o=e.trigger)!=null?o:2;return t.activeOptionIndex===d&&t.activationTrigger===m?t:{...t,...c,isTyping:!1,activeOptionIndex:d,activationTrigger:m,__demoMode:!1}},4:(t,e)=>{var n,a,s,o;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:[...t.options,e.payload]};let c=e.payload,d=rp(t,p=>(p.push(c),p));t.activeOptionIndex===null&&(s=(a=t.dataRef.current).isSelected)!=null&&s.call(a,e.payload.dataRef.current.value)&&(d.activeOptionIndex=d.options.indexOf(c));let m={...t,...d,activationTrigger:2};return(o=t.dataRef.current)!=null&&o.__demoMode&&t.dataRef.current.value===void 0&&(m.activeOptionIndex=0),m},5:(t,e)=>{var n;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:t.options.filter(s=>s.id!==e.id)};let a=rp(t,s=>{let o=s.findIndex(c=>c.id===e.id);return o!==-1&&s.splice(o,1),s});return{...t,...a,activationTrigger:2}},6:(t,e)=>t.defaultToFirstOption===e.value?t:{...t,defaultToFirstOption:e.value},7:(t,e)=>t.activationTrigger===e.trigger?t:{...t,activationTrigger:e.trigger},8:(t,e)=>{var n,a;if(t.virtual===null)return{...t,virtual:{options:e.options,disabled:(n=e.disabled)!=null?n:()=>!1}};if(t.virtual.options===e.options&&t.virtual.disabled===e.disabled)return t;let s=t.activeOptionIndex;if(t.activeOptionIndex!==null){let o=e.options.indexOf(t.virtual.options[t.activeOptionIndex]);o!==-1?s=o:s=null}return{...t,activeOptionIndex:s,virtual:{options:e.options,disabled:(a=e.disabled)!=null?a:()=>!1}}},9:(t,e)=>t.inputElement===e.element?t:{...t,inputElement:e.element},10:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},11:(t,e)=>t.optionsElement===e.element?t:{...t,optionsElement:e.element}};class Kg extends N6{constructor(){super(...arguments),u1(this,"actions",{onChange:e=>{let{onChange:n,compare:a,mode:s,value:o}=this.state.dataRef.current;return ui(s,{0:()=>n==null?void 0:n(e),1:()=>{let c=o.slice(),d=c.findIndex(m=>a(m,e));return d===-1?c.push(e):c.splice(d,1),n==null?void 0:n(c)}})},registerOption:(e,n)=>(this.send({type:4,payload:{id:e,dataRef:n}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(n.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:e})}),goToOption:(e,n)=>(this.send({type:6,value:!1}),this.send({type:2,...e,trigger:n})),setIsTyping:e=>{this.send({type:3,isTyping:e})},closeCombobox:()=>{var e,n;this.send({type:1}),this.send({type:6,value:!1}),(n=(e=this.state.dataRef.current).onClose)==null||n.call(e)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:e=>{this.send({type:7,trigger:e})},selectActiveOption:()=>{let e=this.selectors.activeOptionIndex(this.state);if(e!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[e]);else{let{dataRef:n}=this.state.options[e];this.actions.onChange(n.current.value)}this.actions.goToOption({focus:Bt.Specific,idx:e})}},setInputElement:e=>{this.send({type:9,element:e})},setButtonElement:e=>{this.send({type:10,element:e})},setOptionsElement:e=>{this.send({type:11,element:e})}}),u1(this,"selectors",{activeDescendantId:e=>{var n,a;let s=this.selectors.activeOptionIndex(e);if(s!==null)return e.virtual?(a=e.options.find(o=>!o.dataRef.current.disabled&&e.dataRef.current.compare(o.dataRef.current.value,e.virtual.options[s])))==null?void 0:a.id:(n=e.options[s])==null?void 0:n.id},activeOptionIndex:e=>{if(e.defaultToFirstOption&&e.activeOptionIndex===null&&(e.virtual?e.virtual.options.length>0:e.options.length>0)){if(e.virtual){let{options:a,disabled:s}=e.virtual,o=a.findIndex(c=>{var d;return!((d=s==null?void 0:s(c))!=null&&d)});if(o!==-1)return o}let n=e.options.findIndex(a=>!a.dataRef.current.disabled);if(n!==-1)return n}return e.activeOptionIndex},activeOption:e=>{var n,a;let s=this.selectors.activeOptionIndex(e);return s===null?null:e.virtual?e.virtual.options[s??0]:(a=(n=e.options[s])==null?void 0:n.dataRef.current.value)!=null?a:null},isActive:(e,n,a)=>{var s;let o=this.selectors.activeOptionIndex(e);return o===null?!1:e.virtual?o===e.dataRef.current.calculateIndex(n):((s=e.options[o])==null?void 0:s.id)===a},shouldScrollIntoView:(e,n,a)=>!(e.virtual||e.__demoMode||e.comboboxState!==0||e.activationTrigger===0||!this.selectors.isActive(e,n,a))})}static new({virtual:e=null,__demoMode:n=!1}={}){var a;return new Kg({dataRef:{current:{}},comboboxState:n?0:1,isTyping:!1,options:[],virtual:e?{options:e.options,disabled:(a=e.disabled)!=null?a:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:n})}reduce(e,n){return ui(n.type,X6,e,n)}}const mT=x.createContext(null);function Vu(t){let e=x.useContext(mT);if(e===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,pT),n}return e}function pT({virtual:t=null,__demoMode:e=!1}={}){return x.useMemo(()=>Kg.new({virtual:t,__demoMode:e}),[])}let vu=x.createContext(null);vu.displayName="ComboboxDataContext";function Il(t){let e=x.useContext(vu);if(e===null){let n=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Il),n}return e}let gT=x.createContext(null);function Z6(t){let e=Vu("VirtualProvider"),n=Il("VirtualProvider"),{options:a}=n.virtual,s=Kt(e,E=>E.optionsElement),[o,c]=x.useMemo(()=>{let E=s;if(!E)return[0,0];let S=window.getComputedStyle(E);return[parseFloat(S.paddingBlockStart||S.paddingTop),parseFloat(S.paddingBlockEnd||S.paddingBottom)]},[s]),d=I3({enabled:a.length!==0,scrollPaddingStart:o,scrollPaddingEnd:c,count:a.length,estimateSize(){return 40},getScrollElement(){return e.state.optionsElement},overscan:12}),[m,p]=x.useState(0);yt(()=>{p(E=>E+1)},[a]);let y=d.getVirtualItems(),_=Kt(e,E=>E.activationTrigger===Ki.Pointer),T=Kt(e,e.selectors.activeOptionIndex);return y.length===0?null:Oe.createElement(gT.Provider,{value:d},Oe.createElement("div",{style:{position:"relative",width:"100%",height:`${d.getTotalSize()}px`},ref:E=>{E&&(_||T!==null&&a.length>T&&d.scrollToIndex(T))}},y.map(E=>{var S;return Oe.createElement(x.Fragment,{key:E.key},Oe.cloneElement((S=t.children)==null?void 0:S.call(t,{...t.slot,option:a[E.index]}),{key:`${m}-${E.key}`,"data-index":E.index,"aria-setsize":a.length,"aria-posinset":E.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${E.start}px)`,overflowAnchor:"none"}}))})))}let W6=x.Fragment;function J6(t,e){let n=kg(),{value:a,defaultValue:s,onChange:o,form:c,name:d,by:m,invalid:p=!1,disabled:y=n||!1,onClose:_,__demoMode:T=!1,multiple:E=!1,immediate:S=!1,virtual:R=null,nullable:N,...V}=t,I=t3(s),[B=E?[]:void 0,W]=e3(a,o,I),q=pT({virtual:R,__demoMode:T}),ne=x.useRef({static:!1,hold:!1}),L=V3(m),O=ze(de=>R?m===null?R.options.indexOf(de):R.options.findIndex(ke=>L(ke,de)):q.state.options.findIndex(ke=>L(ke.dataRef.current.value,de))),M=x.useCallback(de=>ui($.mode,{[Rn.Multi]:()=>B.some(ke=>L(ke,de)),[Rn.Single]:()=>L(B,de)}),[B]),z=Kt(q,de=>de.virtual),k=ze(()=>_==null?void 0:_()),$=x.useMemo(()=>({__demoMode:T,immediate:S,optionsPropsRef:ne,value:B,defaultValue:I,disabled:y,invalid:p,mode:E?Rn.Multi:Rn.Single,virtual:R?z:null,onChange:W,isSelected:M,calculateIndex:O,compare:L,onClose:k}),[B,I,y,p,E,W,M,T,q,R,z,k]);yt(()=>{var de;R&&q.send({type:dT.UpdateVirtualConfiguration,options:R.options,disabled:(de=R.disabled)!=null?de:null})},[R,R==null?void 0:R.options,R==null?void 0:R.disabled]),yt(()=>{q.state.dataRef.current=$},[$]);let[j,De,pe,X]=Kt(q,de=>[de.comboboxState,de.buttonElement,de.inputElement,de.optionsElement]),ue=j===Ue.Open;Q3(ue,[De,pe,X],()=>q.actions.closeCombobox());let ce=Kt(q,q.selectors.activeOptionIndex),ge=Kt(q,q.selectors.activeOption),P=x.useMemo(()=>({open:j===Ue.Open,disabled:y,invalid:p,activeIndex:ce,activeOption:ge,value:B}),[$,y,B,p,ge,j]),[re,fe]=g3(),le=e===null?{}:{ref:e},se=x.useCallback(()=>{if(I!==void 0)return W==null?void 0:W(I)},[W,I]),_e=nr();return Oe.createElement(fe,{value:re,props:{htmlFor:pe==null?void 0:pe.id},slot:{open:j===Ue.Open,disabled:y}},Oe.createElement(E6,null,Oe.createElement(vu.Provider,{value:$},Oe.createElement(mT.Provider,{value:q},Oe.createElement(A6,{value:ui(j,{[Ue.Open]:yu.Open,[Ue.Closed]:yu.Closed})},d!=null&&Oe.createElement(s3,{disabled:y,data:B!=null?{[d]:B}:{},form:c,onReset:se}),_e({ourProps:le,theirProps:V,slot:P,defaultTag:W6,name:"Combobox"}))))))}let eI="input";function tI(t,e){var n,a;let s=Vu("Combobox.Input"),o=Il("Combobox.Input"),c=x.useId(),d=jx(),{id:m=d||`headlessui-combobox-input-${c}`,onChange:p,displayValue:y,disabled:_=o.disabled||!1,autoFocus:T=!1,type:E="text",...S}=t,[R]=Kt(s,se=>[se.inputElement]),N=x.useRef(null),V=hi(N,e,v6(),s.actions.setInputElement),I=Qf(R),[B,W]=Kt(s,se=>[se.comboboxState,se.isTyping]),q=Nu(),ne=ze(()=>{s.actions.onChange(null),s.state.optionsElement&&(s.state.optionsElement.scrollTop=0),s.actions.goToOption({focus:Bt.Nothing})}),L=x.useMemo(()=>{var se;return typeof y=="function"&&o.value!==void 0?(se=y(o.value))!=null?se:"":typeof o.value=="string"?o.value:""},[o.value,y]);F_(([se,_e],[de,ke])=>{if(s.state.isTyping)return;let Ae=N.current;Ae&&((ke===Ue.Open&&_e===Ue.Closed||se!==de)&&(Ae.value=se),requestAnimationFrame(()=>{if(s.state.isTyping||!Ae||(I==null?void 0:I.activeElement)!==Ae)return;let{selectionStart:ft,selectionEnd:Ge}=Ae;Math.abs((Ge??0)-(ft??0))===0&&ft===0&&Ae.setSelectionRange(Ae.value.length,Ae.value.length)}))},[L,B,I,W]),F_(([se],[_e])=>{if(se===Ue.Open&&_e===Ue.Closed){if(s.state.isTyping)return;let de=N.current;if(!de)return;let ke=de.value,{selectionStart:Ae,selectionEnd:ft,selectionDirection:Ge}=de;de.value="",de.value=ke,Ge!==null?de.setSelectionRange(Ae,ft,Ge):de.setSelectionRange(Ae,ft)}},[B]);let O=x.useRef(!1),M=ze(()=>{O.current=!0}),z=ze(()=>{q.nextFrame(()=>{O.current=!1})}),k=ze(se=>{switch(s.actions.setIsTyping(!0),se.key){case un.Enter:if(s.state.comboboxState!==Ue.Open||O.current)return;if(se.preventDefault(),se.stopPropagation(),s.selectors.activeOptionIndex(s.state)===null){s.actions.closeCombobox();return}s.actions.selectActiveOption(),o.mode===Rn.Single&&s.actions.closeCombobox();break;case un.ArrowDown:return se.preventDefault(),se.stopPropagation(),ui(s.state.comboboxState,{[Ue.Open]:()=>s.actions.goToOption({focus:Bt.Next}),[Ue.Closed]:()=>s.actions.openCombobox()});case un.ArrowUp:return se.preventDefault(),se.stopPropagation(),ui(s.state.comboboxState,{[Ue.Open]:()=>s.actions.goToOption({focus:Bt.Previous}),[Ue.Closed]:()=>{Cn.flushSync(()=>s.actions.openCombobox()),o.value||s.actions.goToOption({focus:Bt.Last})}});case un.Home:if(se.shiftKey)break;return se.preventDefault(),se.stopPropagation(),s.actions.goToOption({focus:Bt.First});case un.PageUp:return se.preventDefault(),se.stopPropagation(),s.actions.goToOption({focus:Bt.First});case un.End:if(se.shiftKey)break;return se.preventDefault(),se.stopPropagation(),s.actions.goToOption({focus:Bt.Last});case un.PageDown:return se.preventDefault(),se.stopPropagation(),s.actions.goToOption({focus:Bt.Last});case un.Escape:return s.state.comboboxState!==Ue.Open?void 0:(se.preventDefault(),s.state.optionsElement&&!o.optionsPropsRef.current.static&&se.stopPropagation(),o.mode===Rn.Single&&o.value===null&&ne(),s.actions.closeCombobox());case un.Tab:if(s.state.comboboxState!==Ue.Open)return;o.mode===Rn.Single&&s.state.activationTrigger!==Ki.Focus&&s.actions.selectActiveOption(),s.actions.closeCombobox();break}}),$=ze(se=>{p==null||p(se),o.mode===Rn.Single&&se.target.value===""&&ne(),s.actions.openCombobox()}),j=ze(se=>{var _e,de,ke;let Ae=(_e=se.relatedTarget)!=null?_e:Ka.find(ft=>ft!==se.currentTarget);if(!((de=s.state.optionsElement)!=null&&de.contains(Ae))&&!((ke=s.state.buttonElement)!=null&&ke.contains(Ae))&&s.state.comboboxState===Ue.Open)return se.preventDefault(),o.mode===Rn.Single&&o.value===null&&ne(),s.actions.closeCombobox()}),De=ze(se=>{var _e,de,ke;let Ae=(_e=se.relatedTarget)!=null?_e:Ka.find(ft=>ft!==se.currentTarget);(de=s.state.buttonElement)!=null&&de.contains(Ae)||(ke=s.state.optionsElement)!=null&&ke.contains(Ae)||o.disabled||o.immediate&&s.state.comboboxState!==Ue.Open&&q.microTask(()=>{Cn.flushSync(()=>s.actions.openCombobox()),s.actions.setActivationTrigger(Ki.Focus)})}),pe=xh(),X=h3(),{isFocused:ue,focusProps:ce}=Cx({autoFocus:T}),{isHovered:ge,hoverProps:P}=Rx({isDisabled:_}),re=Kt(s,se=>se.optionsElement),fe=x.useMemo(()=>({open:B===Ue.Open,disabled:_,invalid:o.invalid,hover:ge,focus:ue,autofocus:T}),[o,ge,ue,T,_,o.invalid]),le=Pg({ref:V,id:m,role:"combobox",type:E,"aria-controls":re==null?void 0:re.id,"aria-expanded":B===Ue.Open,"aria-activedescendant":Kt(s,s.selectors.activeDescendantId),"aria-labelledby":pe,"aria-describedby":X,"aria-autocomplete":"list",defaultValue:(a=(n=t.defaultValue)!=null?n:o.defaultValue!==void 0?y==null?void 0:y(o.defaultValue):null)!=null?a:o.defaultValue,disabled:_||void 0,autoFocus:T,onCompositionStart:M,onCompositionEnd:z,onKeyDown:k,onChange:$,onFocus:De,onBlur:j},ce,P);return nr()({ourProps:le,theirProps:S,slot:fe,defaultTag:eI,name:"Combobox.Input"})}let nI="button";function rI(t,e){let n=Vu("Combobox.Button"),a=Il("Combobox.Button"),[s,o]=x.useState(null),c=hi(e,o,n.actions.setButtonElement),d=x.useId(),{id:m=`headlessui-combobox-button-${d}`,disabled:p=a.disabled||!1,autoFocus:y=!1,..._}=t,T=Kt(n,k=>k.inputElement),E=Gx(T),S=ze(k=>{switch(k.key){case un.Space:case un.Enter:k.preventDefault(),k.stopPropagation(),n.state.comboboxState===Ue.Closed&&Cn.flushSync(()=>n.actions.openCombobox()),E();return;case un.ArrowDown:k.preventDefault(),k.stopPropagation(),n.state.comboboxState===Ue.Closed&&(Cn.flushSync(()=>n.actions.openCombobox()),n.state.dataRef.current.value||n.actions.goToOption({focus:Bt.First})),E();return;case un.ArrowUp:k.preventDefault(),k.stopPropagation(),n.state.comboboxState===Ue.Closed&&(Cn.flushSync(()=>n.actions.openCombobox()),n.state.dataRef.current.value||n.actions.goToOption({focus:Bt.Last})),E();return;case un.Escape:if(n.state.comboboxState!==Ue.Open)return;k.preventDefault(),n.state.optionsElement&&!a.optionsPropsRef.current.static&&k.stopPropagation(),Cn.flushSync(()=>n.actions.closeCombobox()),E();return;default:return}}),R=ze(k=>{k.preventDefault(),!u3(k.currentTarget)&&(k.button===Yg.Left&&(n.state.comboboxState===Ue.Open?n.actions.closeCombobox():n.actions.openCombobox()),E())}),N=xh([m]),{isFocusVisible:V,focusProps:I}=Cx({autoFocus:y}),{isHovered:B,hoverProps:W}=Rx({isDisabled:p}),{pressed:q,pressProps:ne}=QN({disabled:p}),[L,O]=Kt(n,k=>[k.comboboxState,k.optionsElement]),M=x.useMemo(()=>({open:L===Ue.Open,active:q||L===Ue.Open,disabled:p,invalid:a.invalid,value:a.value,hover:B,focus:V}),[a,B,V,q,p,L]),z=Pg({ref:c,id:m,type:K3(t,s),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":O==null?void 0:O.id,"aria-expanded":L===Ue.Open,"aria-labelledby":N,disabled:p||void 0,autoFocus:y,onMouseDown:R,onKeyDown:S},I,W,ne);return nr()({ourProps:z,theirProps:_,slot:M,defaultTag:nI,name:"Combobox.Button"})}let iI="div",aI=Lp.RenderStrategy|Lp.Static;function sI(t,e){var n,a,s;let o=x.useId(),{id:c=`headlessui-combobox-options-${o}`,hold:d=!1,anchor:m,portal:p=!1,modal:y=!0,transition:_=!1,...T}=t,E=Vu("Combobox.Options"),S=Il("Combobox.Options"),R=y6(m);R&&(p=!0);let[N,V]=_6(R),[I,B]=x.useState(null),W=b6(),q=hi(e,R?N:null,E.actions.setOptionsElement,B),[ne,L,O,M,z]=Kt(E,Ge=>[Ge.comboboxState,Ge.inputElement,Ge.buttonElement,Ge.optionsElement,Ge.activationTrigger]),k=Qf(L||O),$=Qf(M),j=S6(),[De,pe]=lO(_,I,j!==null?(j&yu.Open)===yu.Open:ne===Ue.Open);P3(De,L,E.actions.closeCombobox);let X=S.__demoMode?!1:y&&ne===Ue.Open;tO(X,$);let ue=S.__demoMode?!1:y&&ne===Ue.Open;k3(ue,{allowed:x.useCallback(()=>[L,O,M],[L,O,M])}),yt(()=>{var Ge;S.optionsPropsRef.current.static=(Ge=t.static)!=null?Ge:!1},[S.optionsPropsRef,t.static]),yt(()=>{S.optionsPropsRef.current.hold=d},[S.optionsPropsRef,d]),fO(ne===Ue.Open,{container:M,accept(Ge){return Ge.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:Ge.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(Ge){Ge.setAttribute("role","none")}});let ce=xh([O==null?void 0:O.id]),ge=x.useMemo(()=>({open:ne===Ue.Open,option:void 0}),[ne]),P=ze(()=>{E.actions.setActivationTrigger(Ki.Pointer)}),re=ze(Ge=>{Ge.preventDefault(),E.actions.setActivationTrigger(Ki.Pointer)}),fe=Pg(R?W():{},{"aria-labelledby":ce,role:"listbox","aria-multiselectable":S.mode===Rn.Multi?!0:void 0,id:c,ref:q,style:{...T.style,...V,"--input-width":k_(L,!0).width,"--button-width":k_(O,!0).width},onWheel:z===Ki.Pointer?void 0:P,onMouseDown:re,...sO(pe)}),le=De&&ne===Ue.Closed,se=$p(le,(n=S.virtual)==null?void 0:n.options),_e=$p(le,S.value),de=ze(Ge=>S.compare(_e,Ge)),ke=x.useMemo(()=>{if(!S.virtual)return S;if(se===void 0)throw new Error("Missing `options` in virtual mode");return se!==S.virtual.options?{...S,virtual:{...S.virtual,options:se}}:S},[S,se,(a=S.virtual)==null?void 0:a.options]);S.virtual&&Object.assign(T,{children:Oe.createElement(vu.Provider,{value:ke},Oe.createElement(Z6,{slot:ge},T.children))});let Ae=nr(),ft=x.useMemo(()=>S.mode===Rn.Multi?S:{...S,isSelected:de},[S,de]);return Oe.createElement(Q6,{enabled:p?t.static||De:!1,ownerDocument:k},Oe.createElement(vu.Provider,{value:ft},Ae({ourProps:fe,theirProps:{...T,children:Oe.createElement(w6,{freeze:le},typeof T.children=="function"?(s=T.children)==null?void 0:s.call(T,ge):T.children)},slot:ge,defaultTag:iI,features:aI,visible:De,name:"Combobox.Options"})))}let lI="div";function oI(t,e){var n,a,s;let o=Il("Combobox.Option"),c=Vu("Combobox.Option"),d=x.useId(),{id:m=`headlessui-combobox-option-${d}`,value:p,disabled:y=(s=(a=(n=o.virtual)==null?void 0:n.disabled)==null?void 0:a.call(n,p))!=null?s:!1,order:_=null,...T}=t,[E]=Kt(c,pe=>[pe.inputElement]),S=Gx(E),R=Kt(c,x.useCallback(pe=>c.selectors.isActive(pe,p,m),[p,m])),N=o.isSelected(p),V=x.useRef(null),I=fs({disabled:y,value:p,domRef:V,order:_}),B=x.useContext(gT),W=hi(e,V,B?B.measureElement:null),q=ze(()=>{c.actions.setIsTyping(!1),c.actions.onChange(p)});yt(()=>c.actions.registerOption(m,I),[I,m]);let ne=Kt(c,x.useCallback(pe=>c.selectors.shouldScrollIntoView(pe,p,m),[p,m]));yt(()=>{if(ne)return fi().requestAnimationFrame(()=>{var pe,X;(X=(pe=V.current)==null?void 0:pe.scrollIntoView)==null||X.call(pe,{block:"nearest"})})},[ne,V]);let L=ze(pe=>{pe.preventDefault(),pe.button===Yg.Left&&(y||(q(),qx()||requestAnimationFrame(()=>S()),o.mode===Rn.Single&&c.actions.closeCombobox()))}),O=ze(()=>{if(y)return c.actions.goToOption({focus:Bt.Nothing});let pe=o.calculateIndex(p);c.actions.goToOption({focus:Bt.Specific,idx:pe})}),M=nO(),z=ze(pe=>M.update(pe)),k=ze(pe=>{if(!M.wasMoved(pe)||y||R)return;let X=o.calculateIndex(p);c.actions.goToOption({focus:Bt.Specific,idx:X},Ki.Pointer)}),$=ze(pe=>{M.wasMoved(pe)&&(y||R&&(o.optionsPropsRef.current.hold||c.actions.goToOption({focus:Bt.Nothing})))}),j=x.useMemo(()=>({active:R,focus:R,selected:N,disabled:y}),[R,N,y]),De={id:m,ref:W,role:"option",tabIndex:y===!0?void 0:-1,"aria-disabled":y===!0?!0:void 0,"aria-selected":N,disabled:void 0,onMouseDown:L,onFocus:O,onPointerEnter:z,onMouseEnter:z,onPointerMove:k,onMouseMove:k,onPointerLeave:$,onMouseLeave:$};return nr()({ourProps:De,theirProps:T,slot:j,defaultTag:lI,name:"Combobox.Option"})}let uI=rr(J6),cI=rr(rI),fI=rr(tI),hI=_3,dI=rr(sI),mI=rr(oI),gf=Object.assign(uI,{Input:fI,Button:cI,Label:hI,Options:dI,Option:mI});function pI({orders:t,setOrders:e}){const[n,a]=x.useState(""),[s,o]=x.useState(null),[c,d]=x.useState(""),m=t.reduce((R,N)=>R+N.quantity*N.harga,0),p=Array.from({length:30},(R,N)=>`No. ${N+1}`),[y,_]=x.useState(!1),T=R=>{const N=[...t];N[R].quantity+=1,e(N)},E=R=>{const N=[...t];N[R].quantity>1&&(N[R].quantity-=1,e(N))},S=R=>{const N=[...t];N.splice(R,1),e(N)};return A.jsxs("div",{className:"Container rounded-xl h-auto py-6 md:min-h-[32rem] gap-3 md:w-[30%] card shadow",children:[A.jsxs("form",{name:"Pesanan",className:"hidden",children:[A.jsx("input",{type:"text",name:"Nama Pemesan"}),A.jsx("input",{type:"text",name:"Tanggal Pemesanan"}),A.jsx("input",{type:"text",name:"No. Tempat Duduk"}),A.jsx("input",{type:"text",name:"Pesanan"}),A.jsx("input",{type:"text",name:"Total Harga"}),A.jsx("input",{type:"text",name:"Catatan"})]}),A.jsx("h1",{className:"w-full h-10 md:h-12 pl-8 font-black flex items-center text-sm sm:text-md md:text-xl",children:"My Order"}),A.jsx("input",{type:"text",className:"w-[90%] ml-5  h-10 rounded-lg z-10 shadow bg-[#f5f5f5] px-3 text-sm text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#DC2318] mb-3",placeholder:"Masukkan Nama",value:c,onChange:R=>d(R.target.value)}),A.jsx(gf,{value:s,onChange:o,children:A.jsxs("div",{className:"relative w-[90%] ml-5 mb-2",children:[A.jsx(gf.Input,{className:"w-full h-10 rounded-lg z-10 bg-[#f5f5f5] shadow px-3 text-sm text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#DC2318]",displayValue:R=>R,onChange:()=>{},placeholder:"Pilih No. Tempat Duduk"}),A.jsx(gf.Options,{className:"absolute z-10 mt-1 w-full max-h-60 overflow-scrol hide-bar rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none text-sm",children:p.map((R,N)=>A.jsx(gf.Option,{value:R,className:({active:V})=>`cursor-pointer select-none px-4 py-2 ${V?"bg-[#DC2318] text-white":"text-gray-900"}`,children:R},N))})]})}),A.jsx("input",{type:"text",className:"w-[90%] ml-5  h-10 rounded-lg z-10 shadow bg-[#f5f5f5] px-3 text-sm text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#DC2318]",placeholder:"Catatan (opsional)",value:n,onChange:R=>a(R.target.value)}),A.jsxs("p",{className:"w-full text-sm font-medium pl-8 mt-1 text-stone-500",children:[t.length," Positions"]}),A.jsx("div",{className:"w-[80%] min-h-[40%] z-0 h-auto py-3 mx-auto mt-3 hide-bar overflow-y-scroll",children:t.map((R,N)=>A.jsxs("div",{className:"relative z-0 w-full h-20 rounded-xs shadow gap-3 mt-2 border border-dashed flex justify-between px-2 items-center",children:[A.jsx("button",{className:"absolute -top-2 right-2 w-6 h-6 bg-[#DC2318] text-white rounded-full text-xs flex items-center justify-center shadow-md hover:scale-110",onClick:()=>S(N),title:"Hapus pesanan",children:"×"}),A.jsx("div",{className:"h-[95%] aspect-square",children:A.jsx("img",{src:R.gambar,className:"w-full h-full",alt:R.nama})}),A.jsxs("div",{className:"h-[95%] w-2/3",children:[A.jsx("h3",{className:"text-sm font-medium md:text-xs lg:text-sm",children:R.nama}),R.level!==void 0&&A.jsx("p",{className:"text-xs font-medium",children:R.level}),A.jsxs("div",{className:"w-[90%] mx-auto h-10 flex justify-between items-center",children:[A.jsxs("p",{className:"text-xs text-[#DC2318]",children:["Rp",(R.harga*R.quantity).toLocaleString()]}),A.jsxs("div",{className:"w-1/2 items-center aspect-[2/1] flex justify-between",children:[A.jsx("button",{className:`h-8 w-8 rounded-full flex justify-center items-center ${R.quantity===0?"bg-gray-300 cursor-not-allowed":"bg-[#dedee0]"} text-[#0e0d0d] text-lg hover:scale-95`,onClick:()=>E(N),disabled:R.quantity===0,children:"-"}),A.jsx("div",{className:"h-1/2 aspect-square flex justify-center items-center text-[#0e0d0d]",children:R.quantity}),A.jsx("button",{className:"h-8 w-8 rounded-full flex justify-center items-center bg-[#dedee0] text-[#0e0d0d] text-lg hover:scale-95",onClick:()=>T(N),children:"+"})]})]})]})]},N))}),A.jsxs("div",{className:"w-full h-12 flex justify-between items-center px-10",children:[A.jsx("p",{className:"text-xs md:text-lg font-medium",children:"Total"}),A.jsxs("p",{className:"text-xs md:text-lg font-medium",children:["Rp",m.toLocaleString()]})]}),A.jsx(_h,{position:"top-center",reverseOrder:!1}),A.jsx("button",{type:"submit",disabled:y,className:`w-[90%] h-12 mx-auto rounded-full flex justify-center items-center text-white transition duration-200 ${y?"bg-gray-400 opacity-50 cursor-not-allowed":"bg-[#DC2318] hover:scale-95 cursor-pointer"}`,onClick:async()=>{if(!y){if(t.length===0){ut.error("Belum ada pesanan, silakan pesan dahulu!");return}if(!c.trim()||!s){ut.error("Isi Nama dan Nomor Tempat Duduk terlebih dahulu!");return}try{ut.success("Pesanan berhasil dikirim!"),_(!0);const R=document.forms.Pesanan;R.elements["Nama Pemesan"].value=c;const N=new Date,V=`${String(N.getDate()).padStart(2,"0")}/${String(N.getMonth()+1).padStart(2,"0")}/${N.getFullYear()}`;R.elements["Tanggal Pemesanan"].value=V,R.elements["No. Tempat Duduk"].value=s,R.elements.Pesanan.value=t.map(B=>{const W=B.level!==void 0?`${B.level}`:"level 0";return`(${B.nama}, ${W}, jumlah ${B.quantity})`}).join(`,
 `),R.elements["Total Harga"].value=m,R.elements.Catatan.value=n,await fetch("https://script.google.com/macros/s/AKfycbyUP0k0uTXcogk5AQZdGo8mOkcje2zBz_yPtfzCHKAZHrllvoEpCDQ4dih3X02OTGfTdA/exec",{method:"POST",body:new FormData(R)}),e([]),d(""),o(null),a(""),_(!1)}catch(R){ut.error("Terjadi kesalahan saat mengirim pesanan."),console.error(R)}finally{_(!1)}}},children:y?"Mengirim...":"Order"})]})}function gI(){const[t,e]=x.useState([]),[n,a]=x.useState("makanan"),s=()=>{switch(n){case"makanan":return A.jsx(yN,{addToOrder:o});case"minuman":return A.jsx(vN,{addToOrder:o});case"menuTambahan":return A.jsx(bN,{addToOrder:o});default:return null}},o=(c,d,m)=>{const p=t.find(y=>y.nama===c.nama&&y.level===d);e(p?y=>y.map(_=>_.nama===c.nama&&_.level===d?{..._,quantity:_.quantity+m}:_):y=>[...y,{...c,level:d,quantity:m}])};return A.jsx(A.Fragment,{children:A.jsxs("section",{className:"w-screen h-auto min-h-screen py-3 bg-[#f0f0f2]",children:[A.jsx(_N,{selectedMenu:n,setSelectedMenu:a}),A.jsxs("main",{className:"container h-auto min-h-[30rem] mt-3 gap-3 mx-auto flex flex-col md:flex-row",children:[s(),A.jsx(pI,{orders:t,setOrders:e})]})]})})}function yI(){const[t,e]=x.useState(""),[n,a]=x.useState(""),s=_u();x.useEffect(()=>{localStorage.getItem("isLoggedIn")==="true"&&s("/dashboard")},[s]);const o=c=>{c.preventDefault(),t==="HELYAS"&&n==="dagelan002"?(localStorage.setItem("isLoggedIn","true"),ut.success("Login berhasil!"),setTimeout(()=>{s("/dashboard")},1e3)):ut.error("Username atau password salah!")};return A.jsx("div",{className:"min-h-screen bg-[#fff7f7] flex justify-center items-center",children:A.jsxs("form",{onSubmit:o,className:"w-[90%] max-w-md bg-white p-8 rounded-xl shadow-xl space-y-6",children:[A.jsx("h1",{className:"text-2xl font-black text-[#DC2318] text-center",children:"Admin Login"}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Username"}),A.jsx("input",{type:"text",className:"w-full h-10 rounded-lg bg-[#f5f5f5] px-3 text-sm",value:t,onChange:c=>e(c.target.value),placeholder:"Masukkan Username"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block mb-1 text-sm font-medium text-gray-700",children:"Password"}),A.jsx("input",{type:"password",className:"w-full h-10 rounded-lg bg-[#f5f5f5] px-3 text-sm",value:n,onChange:c=>a(c.target.value),placeholder:"Masukkan Password"})]}),A.jsx(_h,{position:"top-center",reverseOrder:!1}),A.jsx("button",{type:"submit",className:"w-full h-12 bg-[#DC2318] text-white rounded-full font-semibold hover:scale-95 transition",children:"Login"}),A.jsx(Xp,{to:"/",className:"block text-center text-sm text-[#DC2318] mt-3 underline hover:text-[#a81814] transition",children:"← Kembali ke Halaman Pemesanan"})]})})}var yT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},c1=Oe.createContext&&Oe.createContext(yT),vI=["attr","size","title"];function bI(t,e){if(t==null)return{};var n=_I(t,e),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)a=o[s],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function _I(t,e){if(t==null)return{};var n={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(e.indexOf(a)>=0)continue;n[a]=t[a]}return n}function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Zf.apply(this,arguments)}function f1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f1(Object(n),!0).forEach(function(a){EI(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function EI(t,e,n){return e=xI(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xI(t){var e=TI(t,"string");return typeof e=="symbol"?e:e+""}function TI(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vT(t){return t&&t.map((e,n)=>Oe.createElement(e.tag,Wf({key:n},e.attr),vT(e.child)))}function Rh(t){return e=>Oe.createElement(wI,Zf({attr:Wf({},t.attr)},e),vT(t.child))}function wI(t){var e=n=>{var{attr:a,size:s,title:o}=t,c=bI(t,vI),d=s||n.size||"1em",m;return n.className&&(m=n.className),t.className&&(m=(m?m+" ":"")+t.className),Oe.createElement("svg",Zf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,c,{className:m,style:Wf(Wf({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Oe.createElement("title",null,o),t.children)};return c1!==void 0?Oe.createElement(c1.Consumer,null,n=>e(n)):e(yT)}function SI(t){return Rh({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function AI(t){return Rh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.8 49.57a169.44 169.44 0 0 0-239.5 0C187.82 85 160.13 128 160.13 192v85.83l-40.62 40.59c-9.7 9.69-24 11.07-36.78 6a60.33 60.33 0 0 0-65 98.72C33 438.39 54.24 442.7 73.85 438.21c-4.5 19.6-.18 40.83 15.1 56.1a60.35 60.35 0 0 0 98.8-65c-5.09-12.73-3.72-27 6-36.75L234.36 352h85.89a187.87 187.87 0 0 0 61.89-10c-39.64-43.89-39.83-110.23 1.05-151.07 34.38-34.36 86.76-39.46 128.74-16.8 1.3-44.96-14.81-90.28-49.13-124.56z"},child:[]}]})(t)}function RI(t){return Rh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 32H32C12.5 32-2.4 49.2.3 68.5l56 356.5c4.5 31.5 31.5 54.9 63.4 54.9h273c31.8 0 58.9-23.4 63.4-54.9l55.6-356.5C514.4 49.2 499.5 32 480 32zm-37.4 64l-30 192h-313L69.4 96h373.2z"},child:[]}]})(t)}function CI(t){return Rh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(t)}function DI({activeMenu:t,setActiveMenu:e}){const[n,a]=x.useState(!1),s=[{key:"makanan",label:"Makanan",icon:A.jsx(AI,{})},{key:"minuman",label:"Minuman",icon:A.jsx(RI,{})},{key:"menuTambahan",label:"Menu Tambahan",icon:A.jsx(CI,{})}];return A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>a(!n),className:"md:hidden fixed top-4 left-4 z-50 p-2 rounded-md bg-[#dc2318] text-white shadow-lg","aria-label":"Toggle Menu",children:A.jsx(SI,{})}),A.jsxs("aside",{className:`
    fixed top-0 left-0 h-screen w-64
    bg-[#dc2318] text-white z-40
    transform transition-transform duration-300
    ${n?"translate-x-0":"-translate-x-full"}
     md:translate-x-0 md:flex md:flex-col md:py-4 md:px-2
    md:sticky md:top-0
    shadow-lg pt-16
  `,children:[A.jsx("div",{className:"text-center text-2xl font-extrabold mb-8 hidden md:block",children:"Mas Hely"}),A.jsx("nav",{className:"flex flex-col gap-4",children:s.map(o=>A.jsxs("button",{onClick:()=>{e(o.key),a(!1)},className:`flex items-center gap-4 px-3 py-2 rounded-lg shadow transition-all w-full text-left
                ${t===o.key?"bg-white text-[#dc2318] font-bold":"hover:bg-[#fdfdfe] hover:text-[#dc2318]"}`,children:[A.jsx("div",{className:"text-lg shadow rounded-full p-1",children:o.icon}),A.jsx("span",{className:" duration-700",children:o.label})]},o.key))})]}),n&&A.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-30 md:hidden",onClick:()=>a(!1)})]})}function NI({item:t,onCancel:e,onSave:n}){const[a,s]=x.useState(t.nama),[o,c]=x.useState(t.deskripsi),[d,m]=x.useState(t.harga),[p,y]=x.useState(t.gambar),[_,T]=x.useState(t.level||[]),[E,S]=x.useState(!1),[R,N]=x.useState(null),V=(q,ne)=>{const L=[..._];L[q]=ne,T(L)},I=()=>{_.length<4&&T([..._,""])},B=q=>{const ne=_.filter((L,O)=>O!==q);T(ne)},W=async q=>{q.preventDefault(),S(!0),N(null);try{const ne=us(hn,"makanan",t.id);await Og(ne,{nama:a,deskripsi:o,harga:Number(d),gambar:p,level:_}),n({...t,nama:a,deskripsi:o,harga:Number(d),gambar:p,level:_}),S(!1)}catch(ne){N("Gagal menyimpan data"),S(!1),console.error(ne)}};return A.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50",children:A.jsxs("form",{onSubmit:W,className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md max-h-screen overflow-y-auto hide-bar",children:[A.jsx("h3",{className:"text-xl font-bold mb-4",children:"Edit Makanan"}),A.jsxs("label",{className:"block mb-2",children:["Nama:",A.jsx("input",{type:"text",value:a,onChange:q=>s(q.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",required:!0})]}),A.jsxs("label",{className:"block mb-2",children:["Deskripsi:",A.jsx("textarea",{value:o,onChange:q=>c(q.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",rows:3,required:!0})]}),A.jsxs("label",{className:"block mb-2",children:["Harga:",A.jsx("input",{type:"number",value:d,onChange:q=>m(q.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",min:0,required:!0})]}),A.jsxs("label",{className:"block mb-4",children:["URL Gambar:",A.jsx("input",{type:"text",value:p,onChange:q=>y(q.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",required:!0})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block font-semibold mb-1",children:"Level Pedas:"}),_.map((q,ne)=>A.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[A.jsx("input",{type:"text",value:q,onChange:L=>V(ne,L.target.value),className:"w-full border border-gray-300 rounded px-2 py-1",required:!0}),A.jsx("button",{type:"button",onClick:()=>B(ne),className:"text-sm text-red-500 hover:underline",children:"Hapus"})]},ne)),A.jsx("button",{type:"button",onClick:I,className:`text-sm mt-1 ${_.length>=4?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:underline"}`,disabled:_.length>=4,children:"+ Tambah Level"}),_.length>=4&&A.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Maksimal 4 level pedas."})]}),R&&A.jsx("p",{className:"text-red-500 mb-2",children:R}),A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx("button",{type:"button",onClick:e,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400",disabled:E,children:"Batal"}),A.jsx("button",{type:"submit",className:"bg-[#DC2318] text-white px-4 py-2 rounded hover:opacity-80",disabled:E,children:E?"Menyimpan...":"Simpan"})]})]})})}function OI({onCancel:t,onSave:e}){const[n,a]=x.useState(""),[s,o]=x.useState(""),[c,d]=x.useState(""),[m,p]=x.useState(""),[y,_]=x.useState([]),[T,E]=x.useState(!1),[S,R]=x.useState(null),N=(W,q)=>{const ne=[...y];ne[W]=q,_(ne)},V=()=>{y.length<4&&_([...y,""])},I=W=>{const q=y.filter((ne,L)=>L!==W);_(q)},B=async W=>{if(W.preventDefault(),E(!0),R(null),!n||!s||!c||!m||y.length===0){R("Semua field harus diisi"),E(!1);return}try{const q=ci(hn,"makanan"),ne=await Mg(q,{nama:n,deskripsi:s,harga:Number(c),gambar:m,level:y});e({id:ne.id,nama:n,deskripsi:s,harga:Number(c),gambar:m,level:y}),E(!1)}catch(q){R("Gagal menambah menu baru"),E(!1),console.error(q)}};return A.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50",children:A.jsxs("form",{onSubmit:B,className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md max-h-screen overflow-y-auto hide-bar",children:[A.jsx("h3",{className:"text-xl font-bold mb-4",children:"Tambah Menu Baru"}),A.jsxs("label",{className:"block mb-2",children:["Nama:",A.jsx("input",{type:"text",value:n,onChange:W=>a(W.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",required:!0})]}),A.jsxs("label",{className:"block mb-2",children:["Deskripsi:",A.jsx("textarea",{value:s,onChange:W=>o(W.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",rows:3,required:!0})]}),A.jsxs("label",{className:"block mb-2",children:["Harga:",A.jsx("input",{type:"number",value:c,onChange:W=>d(W.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",min:0,required:!0})]}),A.jsxs("label",{className:"block mb-4",children:["URL Gambar:",A.jsx("input",{type:"text",value:m,onChange:W=>p(W.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",required:!0})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block font-semibold mb-1",children:"Level Pedas:"}),y.map((W,q)=>A.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[A.jsx("input",{type:"text",value:W,onChange:ne=>N(q,ne.target.value),className:"w-full border border-gray-300 rounded px-2 py-1",required:!0}),A.jsx("button",{type:"button",onClick:()=>I(q),className:"text-sm text-red-500 hover:underline",children:"Hapus"})]},q)),A.jsx("button",{type:"button",onClick:V,className:`text-sm mt-1 ${y.length>=4?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:underline"}`,disabled:y.length>=4,children:"+ Tambah Level"}),y.length>=4&&A.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Maksimal 4 level pedas."})]}),S&&A.jsx("p",{className:"text-red-500 mb-2",children:S}),A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx("button",{type:"button",onClick:t,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400",disabled:T,children:"Batal"}),A.jsx("button",{type:"submit",className:"bg-[#DC2318] text-white px-4 py-2 rounded hover:opacity-80",disabled:T,children:T?"Menyimpan...":"Simpan"})]})]})})}function II(){const[t,e]=x.useState([]),[n,a]=x.useState(!0),[s,o]=x.useState(null),[c,d]=x.useState(null),[m,p]=x.useState(!1);x.useEffect(()=>{async function E(){try{a(!0);const S=ci(hn,"makanan"),N=(await Dl(S)).docs.map(V=>({id:V.id,...V.data()}));e(N),a(!1)}catch(S){o("Gagal memuat data makanan"),a(!1),console.error(S)}}E()},[]);const y=async E=>{cn(S=>A.jsxs("div",{className:"text-sm text-[#0e0d0d]",children:[A.jsxs("p",{children:["Yakin ingin menghapus ",A.jsx("strong",{children:E.nama}),"?"]}),A.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[A.jsx("button",{onClick:()=>cn.dismiss(S.id),className:"px-3 py-1 rounded-full text-xs bg-stone-300 text-stone-800 hover:bg-stone-400",children:"Batal"}),A.jsx("button",{onClick:async()=>{const R=cn.loading("Menghapus...",{id:S.id,style:{borderRadius:"999px",background:"#f4f4f5",color:"#0e0d0d"}});try{await Ig(us(hn,"makanan",E.id)),e(N=>N.filter(V=>V.id!==E.id)),cn.success(`"${E.nama}" berhasil dihapus`,{id:R,style:{borderRadius:"999px",background:"#DC2318",color:"#fff"}})}catch(N){cn.error("Gagal menghapus data",{id:R,style:{borderRadius:"999px",background:"#f4f4f5",color:"#DC2318"}}),console.error(N)}},className:"px-3 py-1 rounded-full text-xs bg-[#DC2318] text-white hover:opacity-90",children:"Hapus"})]})]}),{duration:5e3,style:{borderRadius:"12px",background:"#f4f4f5",color:"#0e0d0d"}})},_=E=>{e(t.map(S=>S.id===E.id?E:S)),d(null)},T=E=>{e([...t,E]),p(!1)};return n?A.jsx("div",{className:"p-4 text-center",children:"Loading data..."}):s?A.jsx("div",{className:"p-4 text-center text-red-500",children:s}):A.jsxs("div",{className:"p-4",children:[A.jsx("h2",{className:"text-xl md:text-2xl font-bold text-[#DC2318] mb-4",children:"Makanan"}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.map(E=>A.jsxs("div",{className:"shadow rounded-xl p-4 hover:shadow-lg transition-all",children:[A.jsx("img",{src:E.gambar,alt:E.nama,className:"w-full h-40 object-cover rounded-lg mb-3"}),A.jsx("h3",{className:"font-bold text-lg text-[#DC2318]",children:E.nama}),A.jsx("p",{className:"text-sm text-stone-700 mb-1",children:E.deskripsi}),E.level&&A.jsx("div",{className:"flex w-full gap-2 my-2 flex-wrap",children:E.level.map((S,R)=>A.jsx("div",{className:"px-3 py-1 rounded-3xl border text-xs font-semibold text-stone-700 hover:bg-[#0E0D0D] hover:text-white transition-all",children:S},R))}),A.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:["Rp ",E.harga.toLocaleString()]}),A.jsxs("div",{className:"mt-3 flex gap-2",children:[A.jsx("button",{onClick:()=>d(E),className:"bg-[#DC2318] text-white px-3 py-1 rounded-full text-sm hover:opacity-80",children:"Edit"}),A.jsx("button",{onClick:()=>y(E),className:"bg-stone-300 text-stone-700 px-3 py-1 rounded-full text-sm hover:bg-stone-400",children:"Hapus"})]})]},E.id)),A.jsx("div",{onClick:()=>p(!0),className:"border border-dashed rounded-xl p-4 shadow-md min-h-[240px] h-full cursor-pointer flex justify-center items-center text-[#DC2318] text-4xl font-bold hover:bg-[#ffe5e5] transition-all select-none",title:"Tambah Menu Baru",children:"+"})]}),c&&A.jsx(NI,{item:c,onCancel:()=>d(null),onSave:_}),m&&A.jsx(OI,{onCancel:()=>p(!1),onSave:T})]})}function MI({item:t,onCancel:e,onSave:n}){const[a,s]=x.useState(t.nama),[o,c]=x.useState(t.deskripsi),[d,m]=x.useState(t.harga),[p,y]=x.useState(t.gambar),[_,T]=x.useState(t.level||[]),[E,S]=x.useState(!1),[R,N]=x.useState(null),V=()=>{_.length<4&&T([..._,""])},I=async B=>{B.preventDefault(),S(!0),N(null);try{const W=us(hn,"minuman",t.id);await Og(W,{nama:a,deskripsi:o,harga:Number(d),gambar:p,level:_}),n({...t,nama:a,deskripsi:o,harga:Number(d),gambar:p,level:_}),S(!1)}catch(W){N("Gagal menyimpan data"),S(!1),console.error(W)}};return A.jsx("div",{className:"fixed inset-0 bg-black/50  flex justify-center items-center z-50",children:A.jsxs("form",{onSubmit:I,className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md max-h-screen overflow-y-auto hide-bar",children:[A.jsx("h3",{className:"text-xl font-bold mb-4",children:"Edit Minuman"}),A.jsxs("label",{className:"block mb-2",children:["Nama:",A.jsx("input",{type:"text",value:a,onChange:B=>s(B.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",required:!0})]}),A.jsxs("label",{className:"block mb-2",children:["Deskripsi:",A.jsx("textarea",{value:o,onChange:B=>c(B.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",rows:3,required:!0})]}),A.jsxs("label",{className:"block mb-2",children:["Harga:",A.jsx("input",{type:"number",value:d,onChange:B=>m(B.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",min:0,required:!0})]}),A.jsxs("label",{className:"block mb-4",children:["URL Gambar:",A.jsx("input",{type:"text",value:p,onChange:B=>y(B.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",required:!0})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block font-semibold mb-1",children:"Level Pedas:"}),_.map((B,W)=>A.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[A.jsx("input",{type:"text",value:B,className:"w-full border border-gray-300 rounded px-2 py-1",required:!0}),A.jsx("button",{type:"button",className:"text-sm text-red-500 hover:underline",children:"Hapus"})]},W)),A.jsx("button",{type:"button",onClick:V,className:`text-sm mt-1 ${_.length>=1?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:underline"}`,disabled:_.length>=1,children:"+ Tambah Level"}),_.length>=1&&A.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Maksimal 0 level pedas."})]}),R&&A.jsx("p",{className:"text-red-500 mb-2",children:R}),A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx("button",{type:"button",onClick:e,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400",disabled:E,children:"Batal"}),A.jsx("button",{type:"submit",className:"bg-[#DC2318] text-white px-4 py-2 rounded hover:opacity-80",disabled:E,children:E?"Menyimpan...":"Simpan"})]})]})})}function VI({onCancel:t,onSave:e}){const[n,a]=x.useState(""),[s,o]=x.useState(""),[c,d]=x.useState(""),[m,p]=x.useState(""),[y,_]=x.useState(["Level 0"]),[T,E]=x.useState(!1),[S,R]=x.useState(null),N=async V=>{if(V.preventDefault(),E(!0),R(null),!n||!s||!c||!m){R("Semua field harus diisi"),E(!1);return}try{const I=ci(hn,"minuman"),B=await Mg(I,{nama:n,deskripsi:s,harga:Number(c),gambar:m,level:y});e({id:B.id,nama:n,deskripsi:s,harga:Number(c),gambar:m,level:y}),E(!1)}catch(I){R("Gagal menambah menu baru"),E(!1),console.error(I)}};return A.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50",children:A.jsxs("form",{onSubmit:N,className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md max-h-screen overflow-y-auto hide-bar",children:[A.jsx("h3",{className:"text-xl font-bold mb-4",children:"Tambah Menu Baru"}),A.jsxs("label",{className:"block mb-2",children:["Nama:",A.jsx("input",{type:"text",value:n,onChange:V=>a(V.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",required:!0})]}),A.jsxs("label",{className:"block mb-2",children:["Deskripsi:",A.jsx("textarea",{value:s,onChange:V=>o(V.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",rows:3,required:!0})]}),A.jsxs("label",{className:"block mb-2",children:["Harga:",A.jsx("input",{type:"number",value:c,onChange:V=>d(V.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",min:0,required:!0})]}),A.jsxs("label",{className:"block mb-4",children:["URL Gambar:",A.jsx("input",{type:"text",value:m,onChange:V=>p(V.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",required:!0})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block font-semibold mb-1",children:"Level Pedas:"}),A.jsx("input",{type:"text",value:y[0],className:"w-full border border-gray-300 rounded px-2 py-1 bg-gray-100 cursor-not-allowed",readOnly:!0}),A.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Level otomatis: Level 0"})]}),S&&A.jsx("p",{className:"text-red-500 mb-2",children:S}),A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx("button",{type:"button",onClick:t,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400",disabled:T,children:"Batal"}),A.jsx("button",{type:"submit",className:"bg-[#DC2318] text-white px-4 py-2 rounded hover:opacity-80",disabled:T,children:T?"Menyimpan...":"Simpan"})]})]})})}function jI(){const[t,e]=x.useState([]),[n,a]=x.useState(!0),[s,o]=x.useState(null),[c,d]=x.useState(null),[m,p]=x.useState(!1);x.useEffect(()=>{async function E(){try{a(!0);const S=ci(hn,"minuman"),N=(await Dl(S)).docs.map(V=>({id:V.id,...V.data()}));e(N),a(!1)}catch(S){o("Gagal memuat data minuman"),a(!1),console.error(S)}}E()},[]);const y=async E=>{cn(S=>A.jsxs("div",{className:"text-sm text-[#0e0d0d]",children:[A.jsxs("p",{children:["Yakin ingin menghapus ",A.jsx("strong",{children:E.nama}),"?"]}),A.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[A.jsx("button",{onClick:()=>cn.dismiss(S.id),className:"px-3 py-1 rounded-full text-xs bg-stone-300 text-stone-800 hover:bg-stone-400",children:"Batal"}),A.jsx("button",{onClick:async()=>{const R=cn.loading("Menghapus...",{id:S.id,style:{borderRadius:"999px",background:"#f4f4f5",color:"#0e0d0d"}});try{await Ig(us(hn,"minuman",E.id)),e(N=>N.filter(V=>V.id!==E.id)),cn.success(`"${E.nama}" berhasil dihapus`,{id:R,style:{borderRadius:"999px",background:"#DC2318",color:"#fff"}})}catch(N){cn.error("Gagal menghapus data",{id:R,style:{borderRadius:"999px",background:"#f4f4f5",color:"#DC2318"}}),console.error(N)}},className:"px-3 py-1 rounded-full text-xs bg-[#DC2318] text-white hover:opacity-90",children:"Hapus"})]})]}),{duration:5e3,style:{borderRadius:"12px",background:"#f4f4f5",color:"#0e0d0d"}})},_=E=>{e(t.map(S=>S.id===E.id?E:S)),d(null)},T=E=>{e([...t,E]),p(!1)};return n?A.jsx("div",{className:"p-4 text-center",children:"Loading data..."}):s?A.jsx("div",{className:"p-4 text-center text-red-500",children:s}):A.jsxs("div",{className:"p-4",children:[A.jsx("h2",{className:"text-xl md:text-2xl font-bold text-[#DC2318] mb-4",children:"Minuman"}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.map(E=>A.jsxs("div",{className:" rounded-xl p-4 shadow hover:shadow-lg transition-all",children:[A.jsx("img",{src:E.gambar,alt:E.nama,className:"w-full h-40 object-cover rounded-lg mb-3"}),A.jsx("h3",{className:"font-bold text-lg text-[#DC2318]",children:E.nama}),A.jsx("p",{className:"text-sm text-stone-700 mb-1",children:E.deskripsi}),E.level&&A.jsx("div",{className:"flex w-full gap-2 my-2 flex-wrap",children:E.level.map((S,R)=>A.jsx("div",{className:"px-3 py-1 rounded-3xl border text-xs font-semibold text-stone-700 hover:bg-[#0E0D0D] hover:text-white transition-all",children:S},R))}),A.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:["Rp ",E.harga.toLocaleString()]}),A.jsxs("div",{className:"mt-3 flex gap-2",children:[A.jsx("button",{onClick:()=>d(E),className:"bg-[#DC2318] text-white px-3 py-1 rounded-full text-sm hover:opacity-80",children:"Edit"}),A.jsx("button",{onClick:()=>y(E),className:"bg-stone-300 text-stone-700 px-3 py-1 rounded-full text-sm hover:bg-stone-400",children:"Hapus"})]})]},E.id)),A.jsx("div",{onClick:()=>p(!0),className:"border border-dashed rounded-xl h-full min-h-[240px] p-4 shadow-md cursor-pointer flex justify-center items-center text-[#DC2318] text-4xl font-bold hover:bg-[#ffe5e5] transition-all select-none",title:"Tambah Menu Baru",children:"+"})]}),c&&A.jsx(MI,{item:c,onCancel:()=>d(null),onSave:_}),m&&A.jsx(VI,{onCancel:()=>p(!1),onSave:T})]})}function LI({item:t,onCancel:e,onSave:n}){const[a,s]=x.useState(t.nama),[o,c]=x.useState(t.deskripsi),[d,m]=x.useState(t.harga),[p,y]=x.useState(t.gambar),[_,T]=x.useState(t.level||[]),[E,S]=x.useState(!1),[R,N]=x.useState(null),V=()=>{_.length<4&&T([..._,""])},I=async B=>{B.preventDefault(),S(!0),N(null);try{const W=us(hn,"makanan",t.id);await Og(W,{nama:a,deskripsi:o,harga:Number(d),gambar:p,level:_}),n({...t,nama:a,deskripsi:o,harga:Number(d),gambar:p,level:_}),S(!1)}catch(W){N("Gagal menyimpan data"),S(!1),console.error(W)}};return A.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50",children:A.jsxs("form",{onSubmit:I,className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md max-h-screen overflow-y-auto hide-bar",children:[A.jsx("h3",{className:"text-xl font-bold mb-4",children:"Edit Menu Tambahan"}),A.jsxs("label",{className:"block mb-2",children:["Nama:",A.jsx("input",{type:"text",value:a,onChange:B=>s(B.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",required:!0})]}),A.jsxs("label",{className:"block mb-2",children:["Deskripsi:",A.jsx("textarea",{value:o,onChange:B=>c(B.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",rows:3,required:!0})]}),A.jsxs("label",{className:"block mb-2",children:["Harga:",A.jsx("input",{type:"number",value:d,onChange:B=>m(B.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",min:0,required:!0})]}),A.jsxs("label",{className:"block mb-4",children:["URL Gambar:",A.jsx("input",{type:"text",value:p,onChange:B=>y(B.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",required:!0})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block font-semibold mb-1",children:"Level Pedas:"}),_.map((B,W)=>A.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[A.jsx("input",{type:"text",value:B,className:"w-full border border-gray-300 rounded px-2 py-1",required:!0}),A.jsx("button",{type:"button",className:"text-sm text-red-500 hover:underline",children:"Hapus"})]},W)),A.jsx("button",{type:"button",onClick:V,className:`text-sm mt-1 ${_.length>=1?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:underline"}`,disabled:_.length>=1,children:"+ Tambah Level"}),_.length>=1&&A.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Maksimal 0 level pedas."})]}),R&&A.jsx("p",{className:"text-red-500 mb-2",children:R}),A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx("button",{type:"button",onClick:e,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400",disabled:E,children:"Batal"}),A.jsx("button",{type:"submit",className:"bg-[#DC2318] text-white px-4 py-2 rounded hover:opacity-80",disabled:E,children:E?"Menyimpan...":"Simpan"})]})]})})}function kI({onCancel:t,onSave:e}){const[n,a]=x.useState(""),[s,o]=x.useState(""),[c,d]=x.useState(""),[m,p]=x.useState(""),[y,_]=x.useState(["Level 0"]),[T,E]=x.useState(!1),[S,R]=x.useState(null),N=async V=>{if(V.preventDefault(),E(!0),R(null),!n||!s||!c||!m){R("Semua field harus diisi"),E(!1);return}try{const I=ci(hn,"menuTambahan"),B=await Mg(I,{nama:n,deskripsi:s,harga:Number(c),gambar:m,level:y});e({id:B.id,nama:n,deskripsi:s,harga:Number(c),gambar:m,level:y}),E(!1)}catch(I){R("Gagal menambah menu baru"),E(!1),console.error(I)}};return A.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50",children:A.jsxs("form",{onSubmit:N,className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md max-h-screen overflow-y-auto hide-bar",children:[A.jsx("h3",{className:"text-xl font-bold mb-4",children:"Tambah Menu Baru"}),A.jsxs("label",{className:"block mb-2",children:["Nama:",A.jsx("input",{type:"text",value:n,onChange:V=>a(V.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",required:!0})]}),A.jsxs("label",{className:"block mb-2",children:["Deskripsi:",A.jsx("textarea",{value:s,onChange:V=>o(V.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",rows:3,required:!0})]}),A.jsxs("label",{className:"block mb-2",children:["Harga:",A.jsx("input",{type:"number",value:c,onChange:V=>d(V.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",min:0,required:!0})]}),A.jsxs("label",{className:"block mb-4",children:["URL Gambar:",A.jsx("input",{type:"text",value:m,onChange:V=>p(V.target.value),className:"w-full border border-gray-300 rounded px-2 py-1 mt-1",required:!0})]}),A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block font-semibold mb-1",children:"Level Pedas:"}),A.jsx("input",{type:"text",value:y[0],className:"w-full border border-gray-300 rounded px-2 py-1 bg-gray-100 cursor-not-allowed",readOnly:!0}),A.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Level otomatis: Level 0"})]}),S&&A.jsx("p",{className:"text-red-500 mb-2",children:S}),A.jsxs("div",{className:"flex justify-end gap-3",children:[A.jsx("button",{type:"button",onClick:t,className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400",disabled:T,children:"Batal"}),A.jsx("button",{type:"submit",className:"bg-[#DC2318] text-white px-4 py-2 rounded hover:opacity-80",disabled:T,children:T?"Menyimpan...":"Simpan"})]})]})})}function PI(){const[t,e]=x.useState([]),[n,a]=x.useState(!0),[s,o]=x.useState(null),[c,d]=x.useState(null),[m,p]=x.useState(!1);x.useEffect(()=>{async function E(){try{a(!0);const S=ci(hn,"menuTambahan"),N=(await Dl(S)).docs.map(V=>({id:V.id,...V.data()}));e(N),a(!1)}catch(S){o("Gagal memuat data makanan"),a(!1),console.error(S)}}E()},[]);const y=async E=>{cn(S=>A.jsxs("div",{className:"text-sm text-[#0e0d0d]",children:[A.jsxs("p",{children:["Yakin ingin menghapus ",A.jsx("strong",{children:E.nama}),"?"]}),A.jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[A.jsx("button",{onClick:()=>cn.dismiss(S.id),className:"px-3 py-1 rounded-full text-xs bg-stone-300 text-stone-800 hover:bg-stone-400",children:"Batal"}),A.jsx("button",{onClick:async()=>{const R=cn.loading("Menghapus...",{id:S.id,style:{borderRadius:"999px",background:"#f4f4f5",color:"#0e0d0d"}});try{await Ig(us(hn,"menuTambahan",E.id)),e(N=>N.filter(V=>V.id!==E.id)),cn.success(`"${E.nama}" berhasil dihapus`,{id:R,style:{borderRadius:"999px",background:"#DC2318",color:"#fff"}})}catch(N){cn.error("Gagal menghapus data",{id:R,style:{borderRadius:"999px",background:"#f4f4f5",color:"#DC2318"}}),console.error(N)}},className:"px-3 py-1 rounded-full text-xs bg-[#DC2318] text-white hover:opacity-90",children:"Hapus"})]})]}),{duration:5e3,style:{borderRadius:"12px",background:"#f4f4f5",color:"#0e0d0d"}})},_=E=>{e(t.map(S=>S.id===E.id?E:S)),d(null)},T=E=>{e([...t,E]),p(!1)};return n?A.jsx("div",{className:"p-4 text-center",children:"Loading data..."}):s?A.jsx("div",{className:"p-4 text-center text-red-500",children:s}):A.jsxs("div",{className:"p-4",children:[A.jsx("h2",{className:"text-xl md:text-2xl font-bold text-[#DC2318] mb-4",children:"Menu Tambahan"}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.map(E=>A.jsxs("div",{className:" rounded-xl p-4 shadow hover:shadow-lg transition-all",children:[A.jsx("img",{src:E.gambar,alt:E.nama,className:"w-full h-40 object-cover rounded-lg mb-3"}),A.jsx("h3",{className:"font-bold text-lg text-[#DC2318]",children:E.nama}),A.jsx("p",{className:"text-sm text-stone-700 mb-1",children:E.deskripsi}),E.level&&A.jsx("div",{className:"flex w-full gap-2 my-2 flex-wrap",children:E.level.map((S,R)=>A.jsx("div",{className:"px-3 py-1 rounded-3xl border text-xs font-semibold text-stone-700 hover:bg-[#0E0D0D] hover:text-white transition-all",children:S},R))}),A.jsxs("p",{className:"text-sm font-semibold text-stone-900",children:["Rp ",E.harga.toLocaleString()]}),A.jsxs("div",{className:"mt-3 flex gap-2",children:[A.jsx("button",{onClick:()=>d(E),className:"bg-[#DC2318] text-white px-3 py-1 rounded-full text-sm hover:opacity-80",children:"Edit"}),A.jsx("button",{onClick:()=>y(E),className:"bg-stone-300 text-stone-700 px-3 py-1 rounded-full text-sm hover:bg-stone-400",children:"Hapus"})]})]},E.id)),A.jsx("div",{onClick:()=>p(!0),className:"border border-dashed rounded-xl h-full min-h-[240px] p-4 shadow-md cursor-pointer flex justify-center items-center text-[#DC2318] text-4xl font-bold hover:bg-[#ffe5e5] transition-all select-none",title:"Tambah Menu Baru",children:"+"})]}),c&&A.jsx(LI,{item:c,onCancel:()=>d(null),onSave:_}),m&&A.jsx(kI,{onCancel:()=>p(!1),onSave:T})]})}function UI({selected:t}){return A.jsxs("div",{className:"w-full p-4 sm:p-6 md:p-8 overflow-auto",children:[t==="makanan"&&A.jsx(II,{}),t==="minuman"&&A.jsx(jI,{}),t==="menuTambahan"&&A.jsx(PI,{})]})}function zI(){const[t,e]=x.useState("makanan"),n=_u(),a=()=>{localStorage.removeItem("isLoggedIn"),n("/login")};return A.jsxs("div",{className:"flex min-h-screen",children:[A.jsx(DI,{activeMenu:t,setActiveMenu:e}),A.jsxs("main",{className:"flex-1 p-4",children:[A.jsx("div",{className:"flex justify-end mb-4",children:A.jsx("button",{onClick:a,className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 shadow",children:"Logout"})}),A.jsx(UI,{selected:t})]})]})}function BI(){function t({children:e}){return localStorage.getItem("isLoggedIn")==="true"?e:A.jsx(kS,{to:"/login"})}return A.jsxs(A.Fragment,{children:[A.jsx(_h,{}),A.jsxs(US,{children:[A.jsx(yf,{path:"/",element:A.jsx(gI,{})}),A.jsx(yf,{path:"/login",element:A.jsx(yI,{})}),A.jsx(yf,{path:"/dashboard",element:A.jsx(t,{children:A.jsx(zI,{})})})]})]})}wA.createRoot(document.getElementById("root")).render(A.jsx(x.StrictMode,{children:A.jsx(uA,{children:A.jsx(BI,{})})}));
